Id,PostTypeId,AcceptedAnswerId,ParentId,CreationDate,DeletionDate,Score,ViewCount,Body,OwnerUserId,OwnerDisplayName,LastEditorUserId,LastEditorDisplayName,LastEditDate,LastActivityDate,Title,Tags,AnswerCount,CommentCount,FavoriteCount,ClosedDate,CommunityOwnedDate,ContentLicense,PostId,TagId,Id,TagName,Count,ExcerptPostId,WikiPostId,IsModeratorOnly,IsRequired
"420296","1","420384","","2009-01-07 13:27:28","","25","15794","<p>I have a book called Statistics for Computer Scientists as well as my engineering statistics textbook, so I'm thinking about using various problems and examples in those to learn R, which is probably a good start. But can anyone recommend books and web sites that have information about R, especially if they are designed for people with some knowledge in statistics? Are there any medium to large projects or real-world situations where I, as a college student studying software engineering, might be able to use R to get a feel for it?</p>
<h1>See Also</h1>
<ul>
<li><a href=""https://stackoverflow.com/questions/72860/understandable-documentation-about-r"">Understandable documentation about R</a>, which has some links to R documentation. There are also some basic information/tutorial sites.</li>
<li><a href=""https://stackoverflow.com/questions/192369/books-for-learning-the-r-language"">Books for learning the R language</a>, which focuses on books for learning R.</li>
</ul>
","572","Thomas Owens","-1","","2020-06-20 09:12:55","2015-03-08 19:29:55","What are some good books, web resources, and projects for learning R?","<r>","11","0","35","2013-07-24 14:15:14","","CC BY-SA 2.5","420296","4452","4452","r","404559","3625322","3607736","",""
"439526","1","440066","","2009-01-13 15:58:48","","26","2717","<p>I know that R works most efficiently with vectors and looping should be avoided. I am having a hard time teaching myself to actually write code this way. I would like some ideas on how to 'vectorize' my code. Here's an example of creating 10 years of sample data for 10,000 non unique combinations of state (<code>st</code>), plan1 (<code>p1</code>) and plan2 (<code>p2</code>):</p>

<pre><code>st&lt;-NULL
p1&lt;-NULL
p2&lt;-NULL
year&lt;-NULL
i&lt;-0
starttime &lt;- Sys.time()

while (i&lt;10000) {
    for (years in seq(1991,2000)) {
        st&lt;-c(st,sample(c(12,17,24),1,prob=c(20,30,50)))
        p1&lt;-c(p1,sample(c(12,17,24),1,prob=c(20,30,50)))
        p2&lt;-c(p2,sample(c(12,17,24),1,prob=c(20,30,50)))    
        year &lt;-c(year,years)
    }
        i&lt;-i+1
}
Sys.time() - starttime
</code></pre>

<p>This takes about 8 minutes to run on my laptop. I end up with 4 vectors, each with 100,000 values, as expected. How can I do this faster using vector functions?</p>

<p>As a side note, if I limit the above code to 1000 loops on i it only takes 2 seconds, but 10,000 takes 8 minutes. Any idea why?</p>
","37751","JD Long","3604745","","2016-09-08 02:44:08","2016-09-08 02:44:08","Thinking in Vectors with R","<r><vector>","2","3","10","","","CC BY-SA 3.0","439526","4452","4452","r","404559","3625322","3607736","",""
"445059","1","455286","","2009-01-14 23:09:02","","16","6670","<p>So earlier I answered my own question on thinking in vectors in R. But now I have another problem which I can't 'vectorize.' I know vectors are faster and loops slower, but I can't figure out how to do this in a vector method:</p>

<p>I have a data frame (which for sentimental reasons I like to call my.data) which I want to do a full marginal analysis on. I need to remove certain elements one at a time and 'value' the data frame then I need to do the iterating again by removing only the next element. Then do again... and again... The idea is to do a full marginal analysis on a subset of my data. Anyhow, I can't conceive of how to do this in a vector efficient way. </p>

<p>I've shortened the looping part of the code down and it looks something like this:</p>

<pre><code>for (j in my.data$item[my.data$fixed==0]) { # &lt;-- selects the items I want to loop 
                                            #     through
    my.data.it &lt;- my.data[my.data$item!= j,] # &lt;-- this kicks item j out of the list
    sum.data &lt;-aggregate(my.data.it, by=list(year), FUN=sum, na.rm=TRUE) #&lt;-- do an
                                                                         # aggregation

    do(a.little.dance) &amp;&amp; make(a.little.love) -&gt; get.down(tonight) # &lt;-- a little
                                                                   #  song and dance

    delta &lt;- (get.love)                                         # &lt;-- get some love
    delta.list&lt;-append(delta.list, delta, after=length(delta.list)) #&lt;-- put my love
                                                                    #    in a vector 
}
</code></pre>

<p>So obviously I hacked out a bunch of stuff in the middle, just to make it less clumsy. The goal would be to remove the j loop using something more vector efficient. Any ideas?</p>
","37751","JD Long","428790","","2011-08-10 15:25:20","2011-08-10 15:25:20","Vectorize my thinking: Vector Operations in R","<r><vector>","3","5","10","","","CC BY-SA 3.0","445059","4452","4452","r","404559","3625322","3607736","",""
"467110","1","467131","","2009-01-21 21:33:13","","8","856","<p>I can't find it anywhere on the web (and I don't want to install it). Is the <a href=""http://en.wikipedia.org/wiki/R_(programming_language)"" rel=""noreferrer"">R language</a> a compiled language? How fast does it run a pre-written script? Does it do any kind of compilation, or just execute instructions line by line?</p>
","11301","Misquamaqus","1146071","Dana","2014-03-24 04:38:46","2014-03-24 04:38:46","Is R a compiled language?","<r><language-features>","3","0","","","","CC BY-SA 3.0","467110","4452","4452","r","404559","3625322","3607736","",""
"476342","1","476820","","2009-01-24 17:09:29","","3","310","<p>I have imported a time series with dates of the following format:</p>

<pre><code> test = c(""11-Feb-01"",""12-Feb-01"",""01-Mai-08"")
</code></pre>

<p>This yields:</p>

<pre><code>&gt; as.Date(test, ""%d-%b-%y"")
[1] NA           NA           ""2008-05-01""
</code></pre>

<p>Since, May was translated it obviously takes locale into account.</p>

<p>According to the docs, the %b should be the abbreviated month name, but I guess there's might be some issue there.</p>

<p>How would I go about fixing this?</p>

<p>I'm running R under Linux t2.6.27-9-generic #1 SMP</p>

<hr>

<p>Update: Digging a bit deeper i find that the issue is in the LC_TIME definition, where the appropriate abbrivations are of the form:</p>

<pre><code>""jan."",""feb."",""mars"", ""apr"", ""mai"", ""juni"", ""juli"", ""aug."",""sep."",""okt."",""nov."", ""des.""
</code></pre>

<p>while my data contains:</p>

<pre><code>""Jan"", ""Feb"", ""Mar"", ""Apr"", ""Mai"", ""Jun"", ""Jul"", ""Aug"", ""Sep"", ""Okt"", ""Nov"", ""Des""
</code></pre>

<p>I guess I could consider pre-processing the data, but a smooth way of doing this in R would be most welcome.</p>

<hr>

<p>This works sort-of, but not so elegant:</p>

<pre><code>&gt; as.Date(gsub(""Feb"",""feb."",test), ""%d-%b-%y"")
[1] ""2001-02-11"" ""2008-02-12"" ""2008-05-01""
</code></pre>

<p>Thanks!</p>
","12677","tovare","5414452","tovare","2015-12-23 17:42:46","2015-12-23 17:42:46","Converting a localized date of the form 12-okt-2007","<r><date>","1","0","","2017-08-24 21:31:17","","CC BY-SA 2.5","476342","4452","4452","r","404559","3625322","3607736","",""
"476726","1","476739","","2009-01-24 21:56:23","","13","12345","<p>I have a CSV of file of data that I can load in R using <code>read.csv()</code></p>

<p>Some of the data is missing, so I want to reduce the data frame down to set that consists entirely of non-missing data, i.e. if a <code>NULL</code> appears anywhere, I want to exclude that column and row from the filtered data set.</p>

<p>I know I can probably do this fairly simply with the inbuilt R vector operations, but I am not quite sure how to do this exactly?</p>

<p>To make my question a little more concrete, here is a quick sample of the data so you can see what I want to do.</p>

<pre><code>DocID       Anno1    Anno7  Anno8
1           7        NULL   8
2           8        NULL   3
44          10       2      3
45          6        6      6
46          1        3      4
49          3        8      5
62          4        NULL   9
63          2        NULL   4
67          11       NULL   3
91          NULL     9      7
92          NULL     7      5
93          NULL     8      8
</code></pre>

<p>So given this input, I need some code that will reduce the output to this.</p>

<pre><code>DocID       Anno8
44          3
45          6
46          4
49          5
</code></pre>

<p>As <code>Anno8</code> is the only column with non-NULL data, and there are only four rows with non-NULL data.</p>
","277","kaybenleroll","3063910","","2014-11-17 20:10:00","2019-04-06 01:02:36","Filtering data in R","<r><filtering>","4","0","1","","","CC BY-SA 3.0","476726","4452","4452","r","404559","3625322","3607736","",""
"495744","1","1220799","","2009-01-30 14:48:19","","3","620","<p>I would like to import a time-series where the first field indicates a period:</p>

<pre><code>08:00-08:15
08:15-08:30
08:30-08:45
</code></pre>

<p>Does R have any features to do this neatly?</p>

<p>Thanks!</p>

<hr>

<p><strong>Update:</strong></p>

<p>The most promising solution I found, as suggested by Godeke was the cron package and using substring() to extract the start of the interval.</p>

<p>I'm still working on related issues, so I'll update with the solution when I get there.</p>
","12677","tovare","1146071","tovare","2014-03-24 04:40:27","2014-03-24 04:40:27","Operating with time intervals like 08:00-08:15","<r><time-series>","2","1","1","","","CC BY-SA 3.0","495744","4452","4452","r","404559","3625322","3607736","",""
"498932","1","511763","","2009-01-31 14:50:28","","3","2067","<p>I have a standard c# application that acts as a GUI front end for a an ""R"" statistics engine. ""R"" consists of approx 600 files in approx 50 different folders and can be ""installed"" on a machine through xcopy deployment.</p>

<p>I would like to package up both the R engine and my c# gui into one setup.exe so that the user doesn't need to go and install R first and then my c# application seperately.</p>

<p>I know that I can produce a setup project and then add in the R files one by one but adding all 600 files will be very tedious!</p>

<p>Is there an easier way of doing what I want? Can I add the single R folder and automatically add the subfolders and files to save me adding them in one by one? Or maybe do an unzip procedure in my setup project which will unzip the R engine in one go?</p>
","445","Calanus","56338","","2009-08-03 04:52:32","2011-02-10 14:58:54","What's the easiest way to install 100s of files in a Visual Studio setup project","<visual-studio><r><setup-project>","5","0","1","","","CC BY-SA 2.5","498932","4452","4452","r","404559","3625322","3607736","",""
"501917","1","516173","","2009-02-02 00:35:56","","3","2099","<p>I would like to learn some SAS because I am interested in a few industries that tend to use it exclusively. However, I don't want to get stuck with a resource that assumes I know nothing about statistical programming.  Is there a good guide for programmers with statistics experience in R?</p>

<p>Thanks, Steven</p>
","10393","Steven Noble","","","","2011-04-16 07:18:59","Resources for learning SAS if you already familiar with R","<r><statistics><sas>","6","0","3","2016-01-18 09:25:24","","CC BY-SA 2.5","501917","4452","4452","r","404559","3625322","3607736","",""
"509595","1","688781","","2009-02-04 00:23:09","","4","2156","<p>I've imported a csv file with lots of columns and sections of data.</p>

<pre><code>v &lt;- read.csv2(""200109.csv"", header=TRUE, sep="","", skip=""6"", na.strings=c(""""))
</code></pre>

<p>The layout of the file is something like this:</p>

<pre><code>Dataset1
time, data, .....
0       0
0       &lt;NA&gt;
0       0

Dataset2
time, data, .....
00:00   0
0       &lt;NA&gt;
0       0
</code></pre>

<p>(The headers of the different datasets is exactly the same.</p>

<p>Now, I can plot the first dataset with:</p>

<pre><code>plot(as.numeric(as.character(v$Calls.served.by.agent[1:30])), type=""l"")
</code></pre>

<p>I am curious if there is a better way to:</p>

<ol>
<li><p>Get all the numbers read as numbers, without having to convert.</p></li>
<li><p>Address the different datasets in the file, in some meaningfull way.</p></li>
</ol>

<p>Any hints would be appreciated. Thank you.</p>

<hr>

<p>Status update:</p>

<p>I haven't really found a good solution yet in R, but I've started writing a script in Lua to seperate each individual time-series into a seperate file. I'm leaving this open for now, because I'm curious how well R will deal with all these files. I'll get 8 files per day.</p>
","12677","tovare","805808","tovare","2012-05-05 13:59:03","2012-05-05 13:59:03","csv file with multiple time-series","<r><time-series>","1","0","1","","","CC BY-SA 2.5","509595","4452","4452","r","404559","3625322","3607736","",""
"520810","1","1214471","","2009-02-06 15:49:48","","22","5338","<p>Anyone know if R has quote-like operators like Perl's <code>qw()</code> for generating character vectors? </p>
","63372","CassJ","1191259","","2017-09-15 14:51:42","2018-11-05 16:29:26","Does R have quote-like operators like Perl's qw()?","<r><perl>","6","0","8","","","CC BY-SA 3.0","520810","4452","4452","r","404559","3625322","3607736","",""
"551113","1","","","2009-02-15 16:05:33","","3","1044","<p>I think this is a completely unique question on Stack Overflow.  First some background:</p>

<p>I've been asked to write a new GUI on top of a calculation engine called BRCAPRO (brack-a-pro).  BRCAPRO implements a Mendelian computational model based on a piece of software called BayesMendel.  BRCAPRO calculation are used by doctors and surgeons specializing in cancer treatment to show patients:</p>

<ul>
<li>The probability of being diagnosed with cancer based on their genetics and family history.</li>
<li>The change in life expectancy based on different forms of treatment and/or the age at which these treatments are started.</li>
</ul>

<p>I've done enough research to know that the BRCAPRO formulas are far too complicated to reasonably implement in my own code.</p>

<p>There is an existing well-known (to cancer doctors) software package called CancerGene: <a href=""http://www8.utsouthwestern.edu/utsw/cda/dept47829/files/65844.html"" rel=""nofollow noreferrer"">http://www8.utsouthwestern.edu/utsw/cda/dept47829/files/65844.html</a>.  This program is very old, runs on Windows 95 and includes calculating engines for several forms of cancer my client does not work with.  Ideally my client would like his application to run on the web so that he can share information with other doctors easily.</p>

<p>My task is take the CancerGene application, which is built on the BRCAPRO engine, and:</p>

<ol>
<li>Duplicate 90% of its functionality</li>
<li>Remove unnecessary functionality</li>
<li>Modify the output of reports</li>
<li>If possible, make it web-based</li>
</ol>

<p>Now my question:</p>

<p>Does anybody have any idea how to code against BRCAPRO?  I have Googled for two days and found no API documentation or development information of any kind.  Wikipedia says that the BayesMendel modeling software is written in R, but I don't have any idea what BRCAPRO is written in.  I know absolutely nothing about R.  </p>

<p>To be clear, I don't need to modify the behavior or calculating engine of BRCAPRO.  I just need to know how to feed it input so that it returns numbers to me.</p>

<p>--  Edit to add more information --</p>

<p>I downloaded the CancerGene application in the above link and installed it.  There was a small amount of documentation, including the data format that BRCAPRO expects to receive.  Without getting into an unnecessary level of detail, BRCAPRO expects matrix-formatted data where each column represents a genetic trait and each row represents a family member.  Now I just need to know how to pass this matrix to the BRCAPRO engine once I collect it from my Web/Windows form.</p>

<p>Here's hoping there are a couple of doctor/developers here on Stack Overflow!</p>

<p>KN</p>
","2056","Kyle Noland","5856","Kyle Noland","2009-07-22 11:00:02","2009-07-22 11:00:02","Writing a GUI for the BRCAPRO Cancer Gene Risk Calculation Engine","<r><genetics>","2","0","","","","CC BY-SA 2.5","551113","4452","4452","r","404559","3625322","3607736","",""
"560329","1","571930","","2009-02-18 09:08:38","","3","8319","<p>I have binned data that looks like this:</p>

<pre><code>  (8.048,18.05] (-21.95,-11.95] (-31.95,-21.95]   (18.05,28.05] (-41.95,-31.95]
             81              76              18              18             12
    (-132,-122]     (-122,-112]     (-112,-102]     (-162,-152]  (-102,-91.95]
              6               6               6               5              5
(-91.95,-81.95]     (-192,-182]   (28.05,38.05]   (38.05,48.05]  (58.05,68.05]
              5               4               4               4              4
  (78.05,88.05]     (98.05,108]     (-562,-552]     (-512,-502]    (-482,-472]
              4               4               3               3              3
    (-452,-442]     (-412,-402]     (-282,-272]     (-152,-142]  (48.05,58.05]
              3               3               3               3              3
  (68.05,78.05]       (118,128]       (128,138]     (-582,-572]    (-552,-542]
              3               3               3               2              2
    (-532,-522]     (-422,-412]     (-392,-382]     (-362,-352]    (-262,-252]
              2               2               2               2              2
    (-252,-242]     (-142,-132] (-81.95,-71.95]       (148,158]  (-1402,-1392]
              2               2               2               2              1
  (-1372,-1362]   (-1342,-1332]     (-942,-932]     (-862,-852]    (-822,-812]
              1               1               1               1              1
    (-712,-702]     (-682,-672]     (-672,-662]     (-632,-622]    (-542,-532]
              1               1               1               1              1
    (-502,-492]     (-492,-482]     (-472,-462]     (-462,-452]    (-442,-432]
              1               1               1               1              1
    (-432,-422]     (-352,-342]     (-332,-322]     (-312,-302]    (-302,-292]
              1               1               1               1              1
    (-202,-192]     (-182,-172]     (-172,-162] (-51.95,-41.95]  (88.05,98.05]
              1               1               1               1              1
      (108,118]       (158,168]       (168,178]       (178,188]      (298,308]
              1               1               1               1              1
      (318,328]       (328,338]       (338,348]       (368,378]      (458,468]
              1               1               1               1              1
</code></pre>

<p>How can I plot this data so that the bin is sorted from most negative on the left to most positive on the right? Currently my graph looks <a href=""http://docs.google.com/Doc?id=dcvdrfrh_5cm5qkchw"" rel=""nofollow noreferrer"">like this</a>.  Notice that it is not sorted at all.  In particular the second bar (<code>value = 76</code>) is placed to the right of the first:</p>

<pre><code> (8.048,18.05] (-21.95,-11.95]
            81              76
</code></pre>

<p>This is the command I use to plot:</p>

<pre><code>barplot(x,ylab=""Number of Unique Tags"", xlab=""Expected - Observed"")
</code></pre>
","67405","foolishbrat","680068","","2015-10-07 15:54:05","2015-10-07 15:54:05","Sort the X axis in a barplot","<r><statistics>","1","5","","","","CC BY-SA 3.0","560329","4452","4452","r","404559","3625322","3607736","",""
"570029","1","571967","","2009-02-20 15:38:36","","21","8469","<p>I know MIT and Stanford have placed many videos online of their courses. Does anybody know of a course (with videos available online) of Applied Statistics? </p>

<p>I've been playing with R and the tool (from a technical side) is pretty straightforward. However, I'm quite clueless when it comes to the statistical side (regressions, recursive partitioning, etc). I've read a few course descriptions for Applied Statistics, and it seems to be exactly the type of course I'm looking for. However, I'd prefer it if there were videos I could watch online (as opposed to trying to find a local community college).</p>

<p>Are there any good videos for learning statistics? Preferably with a focus on R?</p>
","36041","zpinter","56338","zpinter","2009-08-03 04:51:34","2011-07-28 15:39:44","Learning Applied Statistics with a focus on R","<math><r><statistics>","7","1","41","2013-08-18 02:27:18","","CC BY-SA 2.5","570029","4452","4452","r","404559","3625322","3607736","",""
"582653","1","587944","","2009-02-24 17:21:30","","14","2900","<p>I am working with a survey dataset. It has two string <code>vectors</code>, <code>start</code> and <code>finish</code>, indicating the time of the day when the interview was started, and finished, respectively.</p>

<p>They are <code>character</code> strings that look like: <code>""9:24 am""</code>, <code>""12:35 pm""</code>, and so forth. I am trying to calculate the duration of the interview based on these two. What is the best way of doing this?</p>

<p>I know that, for dates, there are lots of <code>classe</code>s or <code>function</code>s like <code>as.date()</code>, <code>as.Date()</code>, <code>chron()</code>, or <code>as.POSIXct()</code>. So I was looking for something like <code>as.time()</code>, but could not find it. Should I just append a made-up date and convert the whole thing into a <code>POSIX()</code> date-time <code>class</code>, then use <code>difftime()</code>? </p>

<p>What is the best practice of handling time in <code>R</code>?</p>
","69117","Chang Chung","4137985","","2017-12-14 10:09:25","2017-12-14 10:09:25","what is the best practice of handling time in R?","<r><datetime>","3","0","5","","","CC BY-SA 3.0","582653","4452","4452","r","404559","3625322","3607736","",""
"596819","1","612518","","2009-02-27 21:49:17","","12","3514","<p>I have 12 <code>data.frame</code>s to work with. They are similar and I have to do the same processing to each one, so I wrote a function that takes a <code>data.frame</code>, processes it, and then returns a <code>data.frame</code>. This works. But I am afraid that I am passing around a very big structure. I may be making temporary copies (am I?) This can't be efficient. What is the best way to avoid passing a <code>data.frame</code> around?</p>

<pre><code>doSomething &lt;- function(df) {
  // do something with the data frame, df
  return(df)
}
</code></pre>
","69117","Chang Chung","4137985","","2017-12-14 10:07:20","2017-12-14 10:07:20","What is the best way to avoid passing a data frame around?","<r><dataframe>","3","4","2","","","CC BY-SA 3.0","596819","4452","4452","r","404559","3625322","3607736","",""
"596976","1","597001","","2009-02-27 22:45:59","","1","491","<p>A friend of mine asked me if I understood the <code>Y</code> function. I didn't even know what it was. <code>? Y</code> did not get me anywhere.</p>

<p>What is it?</p>
","69117","Chang Chung","4137985","Rich B","2017-12-14 10:04:14","2017-12-14 10:04:14","What is the Y function?","<r>","1","1","1","","","CC BY-SA 3.0","596976","4452","4452","r","404559","3625322","3607736","",""
"652136","1","652180","","2009-03-16 20:59:36","","305","496811","<p>I have a list and I want to remove a single element from it.  How can I do this?</p>

<p>I've tried looking up what I think the obvious names for this function would be in the reference manual and I haven't found anything appropriate.</p>
","1447","David Locke","6886345","","2021-03-04 00:38:26","2021-03-04 00:38:26","How can I remove an element from a list?","<r><list><indexing><r-faq>","16","2","57","","","CC BY-SA 3.0","652136","4452","4452","r","404559","3625322","3607736","",""
"657440","1","658574","","2009-03-18 08:59:04","","10","21609","<p>I have data that looks like this.
In which I want to plot accumulative value of dat1 with respect
to x-axis. Also plot it together with dat2.</p>

<pre><code>#x-axis dat1              dat2
-10     0.0140149       0.0140146
-9      0.00890835      0.00891768
-8      0.00672276      0.00672488
-7      0.00876399      0.00879401
-6      0.00806879      0.00808141
-5      0.0088366       0.00885121
-4      0.00856872      0.00857769
-3      0.0195384       0.0196094
-2      0.0160239       0.0161829
-1      0.0254455       0.0257845
0       0.0397413       0.0400913
1       0.0743316       0.0755453
2       0.0247501       0.0253324
3       0.0214285       0.021778
4       0.0241462       0.0244967
5       0.0150943       0.015241
6       0.0141398       0.0142373
7       0.0101515       0.0102948
8       0.0308843       0.031294
9       0.0095504       0.00960626
10      0.00729676      0.0073713
</code></pre>

<p>What's the common way to do it in R?</p>

<p>I looked at ECDF from Hmisc, it doesn't seem to do what I want.
In particular it doesn't allow us to give x-axis value.</p>
","67405","foolishbrat","1033808","","2012-05-03 14:25:09","2021-04-12 13:24:14","Cumulative Plot with Given X-Axis","<r><statistics>","2","0","","","","CC BY-SA 3.0","657440","4452","4452","r","404559","3625322","3607736","",""
"659725","1","1199155","","2009-03-18 19:21:41","","6","3399","<p>I've really been struggling to make SQL Server into something that, quite frankly, it will never be. I need a database engine for my analytical work. The DB needs to be fast and does NOT need all the logging and other overhead found in typical databases (SQL Server, Oracle, DB2, etc.) </p>

<p>Yesterday I listened to <a href=""http://itc.conversationsnetwork.org/shows/detail4009.html"" rel=""noreferrer"">Michael Stonebraker speak at the Money:Tech conference</a> and I kept thinking, ""I'm not really crazy. There IS a better way!"" He talks about using <a href=""http://en.wikipedia.org/wiki/Column-oriented_DBMS"" rel=""noreferrer"">column stores</a> instead of row oriented databases. I went to the Wikipedia page for <a href=""http://en.wikipedia.org/wiki/Column-oriented_DBMS"" rel=""noreferrer"">column stores</a> and I see a few open source projects (which I like) and a few commercial/open source projects (which I don't fully understand). </p>

<p>My question is this: In an applied analytical environment, how do the different column based DB's differ? How should I be thinking about them? Anyone have practical experience with multiple column based systems? Can I leverage my SQL experience with these DBs or am I going to have to learn a new language?</p>

<p>I am ultimately going to be pulling data into R for analysis. </p>

<p><strong>EDIT:</strong> I was requested for some clarification in what exactly I am trying to do. So, here's an example of what I would like to do:
Create a table that has 4 million rows and 20 columns (5 dims, 15 facts). Create 5 aggregation tables that calculate max, min, and average for each of the facts. Join those 5 aggregations back to the starting table. Now calculate the percent deviation from mean, percent deviation of min, and percent deviation from max for each row and add it to the original table. This table data does not get new rows each day, it gets TOTALLY replaced and the process is repeated. Heaven forbid if the process must be stopped. And the logs... ohhhhh the logs! :)</p>
","37751","JD Long","37751","JD Long","2009-03-19 00:50:19","2010-12-19 21:58:45","Column Stores: Comparing Column Based Databases","<database><r>","6","0","8","","","CC BY-SA 2.5","659725","4452","4452","r","404559","3625322","3607736","",""
"701429","1","2035655","","2009-03-31 15:02:14","","15","13387","<p>I need to draw <a href=""http://en.wikipedia.org/wiki/Ternary_plot"" rel=""noreferrer"">ternary/triangle plots</a> representing mole fractions (<em>x</em>, <em>y</em>, <em>z</em>) of various substances/mixtures (<em>x</em> + <em>y</em> + <em>z</em> = 1). Each plot represents iso-valued substances, e.g. substances which have the same melting point. The plots need to be drawn on the same triangle with different colors/symbols and it would be nice if I could also connect the dots.</p>

<p>I have looked at matplotlib, R and gnuplot, but they don't seem to be able to draw this kind of plot. The 3rd party <a href=""http://cran.r-project.org/web/packages/ade4/"" rel=""noreferrer"">ade4</a> package for R seems to be able to draw it, but I'm not sure if I can draw multiple plots on the same triangle.</p>

<p>I need something that runs under Linux or Windows. I'm open to any suggestions, including libraries for other languages, e.g. Perl, PHP, Ruby, C# and Java.</p>
","12892","Cristian Ciupitu","66549","Cristian Ciupitu","2010-01-22 22:35:15","2019-05-31 13:07:00","Library/tool for drawing ternary/triangle plots","<python><r><plot><gnuplot>","9","3","7","2014-01-24 16:41:09","","CC BY-SA 2.5","701429","4452","4452","r","404559","3625322","3607736","",""
"713878","1","","","2009-04-03 13:23:03","","35","28332","<p>How expensive is it to compute the eigenvalues of a matrix? </p>

<p>What is the complexity of the best algorithms? </p>

<p>How long might it take in practice if I have a 1000 x 1000 matrix? I assume it helps if the matrix is sparse?</p>

<p>Are there any cases where the eigenvalue computation would not terminate? </p>

<p>In <code>R</code>, I can compute the eigenvalues as in the following toy example:</p>

<pre><code>m&lt;-matrix( c(13,2, 5,4), ncol=2, nrow=2 )
eigen(m, only.values=1)
$values
[1] 14  3
</code></pre>

<p>Does anyone know what algorithm it uses? </p>

<p>Are there any other (open-source) packages that compute the eigenvalue?</p>
","","Frank","707364","","2014-06-11 06:55:38","2019-06-07 08:52:24","How expensive is it to compute the eigenvalues of a matrix?","<r><matrix><linear-algebra><sparse-matrix><eigenvalue>","8","2","15","","","CC BY-SA 3.0","713878","4452","4452","r","404559","3625322","3607736","",""
"717747","1","732550","","2009-04-04 20:21:37","","8","2706","<p>I generated <a href=""http://farm4.static.flickr.com/3622/3411762935_b9429d9d68_o.png"" rel=""nofollow noreferrer"">this dendrogram</a> using R's <code>hclust()</code>, <code>as.dendrogram()</code> and <code>plot.dendrogram()</code> functions.</p>

<p>I used the <code>dendrapply()</code> function and a local function to color leaves, which is working fine.</p>

<p>I have results from a statistical test that indicate if a set of nodes (<em>e.g.</em> the cluster of ""<code>_+v\_stat5a\_01_</code>"" and ""<code>_+v\_stat5b\_01_</code>"" in the lower-right corner of the tree) are significant or important.</p>

<p>I also have a local function that I can use with <code>dendrapply()</code> that finds the exact node in my dendrogram which contains significant leaves.</p>

<p>I would like to either (following the example):</p>

<ol>
<li>Color the edges that join ""<code>_+v\_stat5a\_01_</code>"" and ""<code>_+v\_stat5b\_01_</code>""; or,</li>
<li>Draw a <code>rect()</code> around ""<code>_+v\_stat5a\_01_</code>"" and ""<code>_+v\_stat5b\_01_</code>""</li>
</ol>

<p>I have the following local function (the details of the ""nodes-in-leafList-match-nodes-in-clusterList"" condition aren't important, but that it highlights significant nodes):</p>

<pre><code>markSignificantClusters &lt;&lt;- function (n) {
  if (!is.leaf(n)) {
     a &lt;- attributes(n)
     leafList &lt;- unlist(dendrapply(n, listLabels))
     for (clusterIndex in 1:length(significantClustersList[[1]])) {
       clusterList &lt;- unlist(significantClustersList[[1]][clusterIndex])
       if (nodes-in-leafList-match-nodes-in-clusterList) {
          # I now have a node ""n"" that contains significant leaves, and
          # I'd like to use a dendrapply() call to another local function
          # which colors the edges that run down to the leaves; or, draw
          # a rect() around the leaves
       }
     }
  }
}
</code></pre>

<p>From within this <code>if</code> block, I have tried calling <code>dendrapply(n, markEdges)</code>, but this did not work:</p>

<pre><code>markEdges &lt;&lt;- function (n) {
  a &lt;- attributes(n)
  attr(n, ""edgePar"") &lt;- c(a$edgePar, list(lty=3, col=""red""))
}
</code></pre>

<p>In my ideal example, the edges connecting ""<code>_+v\_stat5a\_01_</code>"" and ""<code>_+v\_stat5b\_01_</code>"" would be dashed and of a red color.</p>

<p>I have also tried using <code>rect.hclust()</code> within this <code>if</code> block:</p>

<pre><code>ma &lt;- match(leafList, orderedLabels)  
rect.hclust(scoreClusterObj, h = a$height, x = c(min(ma), max(ma)), border = 2)
</code></pre>

<p>But the result does not work with horizontal dendrograms (<em>i.e.</em> dendrograms with horizontal labels). <a href=""http://farm4.static.flickr.com/3331/3410126060_f8f06c4498_o.png"" rel=""nofollow noreferrer"">Here is an example</a> (note the red stripe in the lower-right corner). Something is not correct about the dimensions of what <code>rect.hclust()</code> generates, and I don't know how it works, to be able to write my own version.</p>

<p>I appreciate any advice for getting <code>edgePar</code> or <code>rect.hclust()</code> to work properly, or to be able to write my own <code>rect.hclust()</code> equivalent.</p>

<p><strong>UPDATE</strong></p>

<p>Since asking this question, I used <code>getAnywhere(rect.hclust())</code> to get the functional code that calculates parameters and draws the <code>rect</code> object. I wrote a custom version of this function to handle horizontal and vertical leaves, and call it with <code>dendrapply()</code>.</p>

<p>However, there is some kind of clipping effect that removes part of the <code>rect</code>. For horizontal leaves (leaves that are drawn on the right side of the tree), the rightmost edge of the <code>rect</code> either disappears or is thinner than the border width of the other three sides of the <code>rect</code>. For vertical leaves (leaves that are drawn on the bottom of the tree), the bottommost edge of the <code>rect</code> suffers the same display problem.</p>

<p>What I had done as a means of marking significant clusters is to reduce the width of the <code>rect</code> such that I render a vertical red stripe between the tips of the cluster edges and the (horizontal) leaf labels. </p>

<p>This eliminates the clipping issue, but introduces another problem, in that the space between the cluster edge tips and the leaf labels is only six or so pixels wide, which I don't have much control over. This limits the width of the vertical stripe. </p>

<p>The worse problem is that the <code>x</code>-coordinate that marks where the vertical stripe can fit between the two elements will change based on the width of the larger tree (<code>par[""usr""]</code>), which in turn depends on how the tree hierarchy ends up being structured.</p>

<p>I wrote a ""correction"" or, better termed, a hack to adjust this <code>x</code> value and the <code>rect</code> width for horizontal trees. It doesn't always work consistently, but for the trees I am making, it seems to keep from getting too close to (or overlapping) edges and labels.</p>

<p>Ultimately, a better fix would be to find out how to draw the <code>rect</code> so that there is no clipping. Or a consistent way to calculate the specific <code>x</code> position in between tree edges and labels for any given tree, so as to center and size the stripe properly.</p>

<p>I would also be very interested in a method for annotating edges with colors or line styles.</p>
","19410","Alex Reynolds","2756409","","2019-03-03 20:13:35","2019-03-03 20:13:35","How do I color edges or draw rects correctly in an R dendrogram?","<r><edge-detection><dendrogram><hclust>","1","1","1","","","CC BY-SA 2.5","717747","4452","4452","r","404559","3625322","3607736","",""
"736514","1","839718","","2009-04-10 02:18:38","","46","48097","<p>I am trying to use the random forests package for classification in R.</p>

<p>The Variable Importance Measures listed are:</p>

<ul>
<li>mean raw importance score of variable x for class 0</li>
<li>mean raw importance score of variable x for class 1</li>
<li><code>MeanDecreaseAccuracy</code></li>
<li><code>MeanDecreaseGini</code></li>
</ul>

<p>Now I know what these ""mean"" as in I know their definitions.  What I want to know is how to use them.</p>

<p>What I really want to know is what these values mean in only the context of how accurate they are, what is a good value, what is a bad value, what are the maximums and minimums, etc.</p>

<p>If a variable has a high <code>MeanDecreaseAccuracy</code> or <code>MeanDecreaseGini</code> does that mean it is important or unimportant?  Also any information on raw scores could be useful too.
I want to know everything there is to know about these numbers that is relevant to the application of them.  </p>

<p>An explanation that uses the words 'error', 'summation', or 'permutated' would be less helpful then a simpler explanation that didn't involve any discussion of how random forests works.</p>

<p>Like if I wanted someone to explain to me how to use a radio, I wouldn't expect the explanation to involve how a radio converts radio waves into sound.</p>
","20895","","602276","","2012-08-28 13:45:53","2012-08-28 13:45:53","R Random Forests Variable Importance","<r><statistics><data-mining><random-forest>","3","0","39","","","CC BY-SA 3.0","736514","4452","4452","r","404559","3625322","3607736","",""
"736541","1","736618","","2009-04-10 02:32:21","","22","75705","<p>In <a href=""http://www.r-project.org/"" rel=""noreferrer"">R</a> is there any way to produce plots which have no title and which use the space the title would otherwise have taken up?</p>

<p>In <code>plot()</code>, <code>main</code>, <code>sub</code>, <code>xlab</code>, and <code>ylab</code> all default to <code>NULL</code>, but this just leaves blank space where they would have been, ditto for setting them to ''.  It would be nice if not including them meant that the entire plot space was utilized rather than leaving extra empty space on the edges.  This is all especially relevant in printing plots to file devices like <code>pdf()</code>, <code>png()</code>, etc.</p>
","85950","","353278","","2016-12-15 00:15:49","2019-09-02 13:28:00","Plots without titles/labels in R","<r><plot><charts><statistics>","5","0","3","","","CC BY-SA 2.5","736541","4452","4452","r","404559","3625322","3607736","",""
"743622","1","","","2009-04-13 11:13:51","","126","154747","<p>Given the following matrix lets assume I want to find the maximum value in column two:</p>

<pre><code>mat &lt;- matrix(c(1:3,7:9,4:6), byrow = T, nc = 3)
mat
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    7    8    9
[3,]    4    5    6
</code></pre>

<p>I know <code>max(mat[,2])</code> will return 8. How can I return the row index, in this case row two?</p>
","14744","","3063910","","2016-11-25 20:22:45","2016-11-25 20:22:45","Finding row index containing maximum value using R","<r><matrix>","3","0","18","","","CC BY-SA 3.0","743622","4452","4452","r","404559","3625322","3607736","",""
"743812","1","743846","","2009-04-13 12:52:51","","203","274988","<p>I'm trying to use R to calculate the moving average over a series of values in a matrix. The normal R mailing list search hasn't been very helpful though. There doesn't seem to be a <a href=""http://www.statmethods.net/management/functions.html"" rel=""noreferrer"">built-in function</a> in R will allow me to calculate moving averages. Do any packages provide one? Or do I need to write my own?</p>
","14744","","903061","","2017-12-13 20:24:00","2020-12-07 15:17:15","Calculating moving average","<r><moving-average><r-faq>","17","0","82","","","CC BY-SA 3.0","743812","4452","4452","r","404559","3625322","3607736","",""
"750703","1","751342","","2009-04-15 07:55:21","","34","19983","<p>I have a number of bash scripts which invoke R scripts for plotting things.  Something like:  </p>

<pre><code>#!/bin/bash
R --vanilla --slave &lt;&lt;RSCRIPT
cat(""Plotting $1 to $2\n"")
input &lt;- read.table(""$1"")
png(""$2"")
plot(as.numeric(input[1,]))
dev.off()
RSCRIPT
</code></pre>

<p>The problem is that despite <code>--slave</code>, the call to <code>dev.off()</code> prints the message <code>null device 1</code>.  Once there are a lot of plots being done, or for more complex scripts which plot to a number of files, this gets to be a real hassle.</p>

<p>Is there some way to suppress this message?</p>
","85950","","1953718","","2020-03-29 23:04:20","2020-03-29 23:04:20","Suppressing ""null device"" output with R in batch mode","<r><bash><plot><suppress-warnings>","5","2","2","","","CC BY-SA 2.5","750703","4452","4452","r","404559","3625322","3607736","",""
"750786","1","969680","","2009-04-15 08:31:35","","122","132051","<p>It's very convenient to have R scripts for doing simple plots from the command line.  However, running R from bash scripts is not convenient at all.  The ideal might be something like</p>

<pre><code>#!/path/to/R
...
</code></pre>

<p>or</p>

<pre><code>#!/usr/bin/env R
...
</code></pre>

<p>but I haven't been able to make either of those work.</p>

<p>Another option is keeping the scripts purely in R, e.g. <code>script.R</code>, and invoking it with <code>R --file=script.R</code> or similar.  However, occasionally a script will rely on obscure command line switches at which point part of the code exists outside the script.  Example: sneaking things into R from bash via a local .Rprofile, the desired switches are then everything <code>--vanilla</code> implies except <code>--no-init-file</code>.</p>

<p>Another option is a bash script to store the R flags and be painlessly executable, which then calls the R script.  The problem is that this means a single program just got split into two files which now have to be keep in sync, transferred to new machines together, etc.</p>

<p>The option I currently despise least is embedding the R in a bash script:</p>

<pre><code>#!/bin/bash
... # usage message to catch bad input without invoking R
... # any bash pre-processing of input
... # etc
R --random-flags &lt;&lt;RSCRIPT
# R code goes here
RSCRIPT
</code></pre>

<p>Everything's in a single file.  It's executable and easily handles arguments.  The problem is that combining bash and R like this pretty much eliminates the possibility of any IDE not failing on one or the other, and makes my heart hurt real bad.</p>

<p>Is there some better way I'm missing?</p>
","85950","","13046806","","2021-03-26 08:58:29","2021-03-26 08:58:29","What's the best way to use R scripts on the command line (terminal)?","<r><bash><command-line><scripting>","11","0","47","","","CC BY-SA 3.0","750786","4452","4452","r","404559","3625322","3607736","",""
"775116","1","776377","","2009-04-21 23:30:47","","7","581","<p>I've been trying to learn more about R (and writing C extensions) and I thought it might help to read the source for some well known packages.  I decided to start with rpart which is defined as:</p>

<pre><code>rpart &lt;- function(formula, data, weights, subset,
       na.action=na.rpart, method, model=FALSE, x=FALSE, y=TRUE,
       parms, control, cost, ...)
</code></pre>

<p>I did a quick search through the source and I don't see formula mentioned anywhere in the function body yet I know that somehow rpart is using that parameter.  How is it that rpart is using formula without its name being in the function body?</p>
","1447","","513198","","2012-05-04 15:46:06","2014-06-11 07:02:26","How can a function parameter be used without mentioning it in the function body?","<r>","1","0","2","","","CC BY-SA 3.0","775116","4452","4452","r","404559","3625322","3607736","",""
"780796","1","781200","","2009-04-23 08:29:19","","52","5529","<p>I am using the Emacs-Speaks-Statistics (ESS) mode for Emacs.  When editing R code, any comment lines (those starting with #) automatically get tabbed to the far right when I create a new line above it.  How should I change my .emacs.el file to fix this?</p>

<p>For example, I have:</p>

<pre><code># Comment
</code></pre>

<p>Now, after putting my cursor at the beginning of the line and pressing Enter, I get:</p>

<pre><code>                                # Comment
</code></pre>

<p>Thanks for any hints.</p>
","84458","","1003565","","2012-11-30 00:30:09","2018-11-24 13:53:06","Emacs ESS Mode - Tabbing for Comment Region","<r><emacs><ess>","4","0","13","","","CC BY-SA 2.5","780796","4452","4452","r","404559","3625322","3607736","",""
"789602","1","789618","","2009-04-25 19:51:45","","3","5418","<p>From the question you can probably tell that I don't know much about code! My question is this:</p>

<p>What does this code mean?</p>

<pre><code>mnlong &lt;- 280.460 + .9856474 * time
mnlong &lt;- mnlong %% 360
mnlong[mnlong &lt; 0] &lt;- mnlong[mnlong &lt; 0] + 360
</code></pre>

<p>I understand that the <code>mnlong</code> and <code>time</code> are variables but the <code>%%</code> confuses me.</p>

<p>Could someone give me a basic description?</p>
","94704","","5845","","2016-03-03 17:50:57","2016-03-03 17:50:57","What does %% mean?","<r><syntax>","2","1","","","","CC BY-SA 3.0","789602","4452","4452","r","404559","3625322","3607736","",""
"805027","1","866766","","2009-04-30 01:32:43","","5","561","<p>When R creates PDFs using pdf() it includes a CreationDate and a ModDate in the PDF.  I have a number of such generated PDFs in an svn repository and the effect is that when figures are remade by R, even with the same data, they appear as modified (rightly so) to svn.  What's the best way to get the two to play nicely together?</p>

<p>I could simply remove those lines from the PDFs outside of R, but this extra step is undesirable.<br>
I could set the system time to some fixed value as part of the running the scripts, but this is even less desirable.<br>
I could probably even convince svn to use a specialized diff which ignored changes on those lines, but that sounds like more trouble than it's worth.</p>

<p>A very pleasant solution would be if there were a way to prevent R putting those lines in the PDF file in the first place.  I have a file system to tell me when files were created and modified thank-you-very-much, I don't need that info stored within the file as well.</p>
","85950","","","","","2020-10-14 12:35:19","Suppressing or setting CreationDate/ModDate in R pdf output","<svn><r>","3","0","","","","CC BY-SA 2.5","805027","4452","4452","r","404559","3625322","3607736","",""
"855798","1","862039","","2009-05-13 02:34:55","","1","1102","<p>In R (or S-PLUS), what is a good way to aggregate String data in a data frame?</p>

<p>Consider the following:</p>

<pre><code>myList &lt;- as.data.frame(c(""Bob"", ""Mary"", ""Bob"", ""Bob"", ""Joe""))
</code></pre>

<p>I would like the output to be:</p>

<pre><code> [Bob,  3
  Mary, 1
  Joe,  1]
</code></pre>

<p>Currently, the only way I know how to do this is with the summary function.</p>

<pre><code>&gt; summary(as.data.frame(myList))

 Bob :3                                
 Joe :1                                
 Mary:1      
</code></pre>

<p>This feels like a hack. Can anyone suggest a better way?</p>
","1811","","18196","","2009-07-24 18:51:05","2018-09-08 04:02:00","In R, what is a good way to aggregate String data","<r><statistics><s-plus>","5","0","1","","","CC BY-SA 2.5","855798","4452","4452","r","404559","3625322","3607736","",""
"876711","1","876856","","2009-05-18 08:16:10","","20","80873","<p>I have a comma separated file named <code>foo.csv</code> containing the following data:</p>

<pre><code>scale, serial, spawn, for, worker
5, 0.000178, 0.000288, 0.000292, 0.000300
10, 0.156986, 0.297926, 0.064509, 0.066297
12, 2.658998, 6.059502, 0.912733, 0.923606
15, 188.023411, 719.463264, 164.111459, 161.687982
</code></pre>

<p>I essentially have two questions:</p>

<p>1) How do I plot the first column (x-axis) versus the second column (y-axis)? I'm trying this (from reading <a href=""http://www.ats.ucla.edu/stat/R/gbe/scatter.htm"" rel=""noreferrer"">this site</a>):</p>

<pre><code>data &lt;- read.table(""foo.csv"", header=T,sep="","")
attach(data)
scale &lt;- data[1]
serial &lt;- data[2]
plot(scale,serial)
</code></pre>

<p>But I get this error back:</p>

<pre><code>Error in stripchart.default(x1, ...) : invalid plotting method
</code></pre>

<p>Any idea what I'm doing wrong? A <a href=""http://www.nabble.com/Problems-producing-a-simple-plot-td23347296.html"" rel=""noreferrer"">quick Google search</a> reveals someone else with the same problem but no relevant answer. UPDATE: It turns out it works fine if I skip the two assignment statements in the middle. Any idea why this is?</p>

<p>The second question follows pretty easily after the first:</p>

<p>2) How do I plot the first column (x-axis) versus all the other columns on the y-axis? I presume it's pretty easy once I get around the first problem I'm running into, but am just a bit new to R so I'm still wrapping my head around it.</p>
","422","","75694","","2009-07-23 13:09:11","2017-03-10 11:15:54","Plotting Simple Data in R","<r><plot>","7","0","9","","","CC BY-SA 2.5","876711","4452","4452","r","404559","3625322","3607736","",""
"936748","1","1433834","","2009-06-01 20:56:30","","41","19067","<p>I'm working in R, and I'd like to define some variables that I (or one of my collaborators) cannot change. In C++ I'd do this:</p>

<pre><code>const std::string path( ""/projects/current"" );
</code></pre>

<p>How do I do this in the R programming language?</p>

<p>Edit for clarity: I know that I can define strings like this in R:</p>

<pre><code>path = ""/projects/current""
</code></pre>

<p>What I really want is a language construct that guarantees that nobody can ever change the value associated with the variable named ""path.""</p>

<p>Edit to respond to comments:</p>

<p>It's technically true that const is a compile-time guarantee, but it would be valid in my mind that the R interpreter would throw stop execution with an error message. For example, look what happens when you try to assign values to a numeric constant:</p>

<pre><code>&gt; 7 = 3
Error in 7 = 3 : invalid (do_set) left-hand side to assignment
</code></pre>

<p>So what I really want is a language feature that allows you to assign values once and only once, and there should be some kind of error when you try to assign a new value to a variabled declared as const. I don't care if the error occurs at run-time, especially if there's no compilation phase. This might not technically be const by the Wikipedia definition, but it's very close. It also looks like this is not possible in the R programming language.</p>
","57458","","57458","","2009-06-02 15:30:05","2014-06-11 07:10:47","Declaring a Const Variable in R","<r><statistics><constants>","6","0","11","","","CC BY-SA 2.5","936748","4452","4452","r","404559","3625322","3607736","",""
"937346","1","938632","","2009-06-01 23:52:20","","3","2012","<p>I'm creating a package that is going to be used by R (the statistical program), I'm not an expert using this application but I have managed to create a very simple package, using the following logic, I have some classes in C++, as the code has to be compiled using the R compiler and it only allows C code, I have a wrapper C code that call the C++ methods, and later I have an R script that call the methods exposed by the C code, so basically is a communication like R &lt;-> C&lt;->C++.</p>

<p>The full tutorial that I used to create this package is found <a href=""http://www.stat.columbia.edu/~gelman/stuff_for_blog/AlanRPackageTutorial.pdf"" rel=""nofollow noreferrer"">here</a>, I add it as a reference.</p>

<p>Now my problem is that I need to add some functionality to the package that I already created, what I need to do is to add code for late binding to a COM object which is another product that I created and that is registered using regasm tool.</p>

<p>This is the c++ code that I'm using to try to late bind to the COM object, I'm trying to use IDispatch to do so:</p>

<pre><code>{
...
CLSID clsid;    
HRESULT hr = CLSIDFromProgID((WCHAR*)""My Com object ProgId"", &clsid);
if(FAILED(hr))                      
  return;   
...     
}
</code></pre>

<p>I didn't paste the whole code because only with these lines the compiler is giving me troubles already, the command I use to compile is </p>

<pre><code>R CMD SHLIB Cclass.cc C++class.cc</code></pre>

<p>Where ""Cclass.cc"" has the C code that call the c++ methods and ""C++class.cc"" is actually the C++ code.</p>

<p>When I compile these classes the compiler says <pre><code>""undefined reference to `CLSIDFromProgID@8'collect2: ld returned 1 exit status""</pre></code></p>

<p>I""m sure I have added all the header files that I need, that's why I believe my problem is that I'm not including ole32.lib and oleaut32.lib which are static libraries.</p>

<p>So, my question is, how can I include this libraries in order to be able to use the methods for late binding, like CLSIDFromProgID(...) or QueryInterface(...). Also if anyone believes that my problem is not linking this libraries, but something else, it would be great if can point me to which my problem may be.</p>

<p>Also have in mind that I need to link with those statics libraries in a way that they can be compiled without problem by the R compiler, which if I'm not wrong is a merely c compiler.</p>
","58434","","58434","","2009-06-03 21:28:41","2009-06-03 21:28:41","How to link with static libraries when building an R package","<gcc><compiler-construction><r><static-libraries>","1","0","","","","CC BY-SA 2.5","937346","4452","4452","r","404559","3625322","3607736","",""
"952275","1","10038710","","2009-06-04 18:25:55","","96","52376","<p>In R, is it possible to extract group capture from a regular expression match?  As far as I can tell, none of <code>grep</code>, <code>grepl</code>, <code>regexpr</code>, <code>gregexpr</code>, <code>sub</code>, or <code>gsub</code> return the group captures.</p>

<p>I need to extract key-value pairs from strings that are encoded thus:</p>

<pre><code>\((.*?) :: (0\.[0-9]+)\)
</code></pre>

<p>I can always just do multiple full-match greps, or do some outside (non-R) processing, but I was hoping I can do it all within R.  Is there's a function or a package that provides such a function to do this?</p>
","69749","","1191259","","2017-04-04 15:46:14","2019-11-06 12:04:51","Regex group capture in R with multiple capture-groups","<regex><r><capture><capture-group>","9","0","26","","","CC BY-SA 3.0","952275","4452","4452","r","404559","3625322","3607736","",""
"1007495","1","","","2009-06-17 14:44:04","","3","616","<p>I've got about 100M value/count pairs in a text file on my Linux machine.  I'd like to figure out what sort of formula I would use to generate more pairs that follow the same distribution.  </p>

<p>From a casual inspection, it looks power law-ish, but I need to be a bit more rigorous than that.  Can R do this easily?  If so, how?  Is there something else that works better?</p>
","23524","","3604745","","2016-11-29 06:21:34","2016-11-29 06:21:34","Determining distribution so I can generate test data","<r>","3","0","","","","CC BY-SA 3.0","1007495","4452","4452","r","404559","3625322","3607736","",""
"1022649","1","","","2009-06-20 21:53:56","","7","3764","<p>I was reading about the <a href=""http://en.wikipedia.org/wiki/Slope_One#Slope_one_collaborative_filtering_for_rated_resources"" rel=""nofollow noreferrer"">Weighted slope one algorithm</a> ( and more
formally <a href=""http://www.daniel-lemire.com/fr/documents/publications/lemiremaclachlan_sdm05.pdf"" rel=""nofollow noreferrer"">here (PDF)</a>) which is supposed to take item ratings from different users and, given a user vector containing at least 1 rating and 1 missing value, predict the missing ratings.</p>

<p>I found a <a href=""http://www.serpentine.com/wordpress/wp-content/uploads/2006/12/slope_one.py.txt"" rel=""nofollow noreferrer"">Python implementation of the algorithm</a>, but I'm having a hard time porting it to <a href=""http://www.r-project.org/"" rel=""nofollow noreferrer"">R</a> (which I'm more comfortable with). Below is my attempt. Any suggestions on how to make it work?</p>

<p>Thanks in advance, folks.</p>

<pre><code># take a 'training' set, tr.set and a vector with some missing ratings, d
pred=function(tr.set,d) {
    tr.set=rbind(tr.set,d)
    n.items=ncol(tr.set)

    # tally frequencies to use as weights
    freqs=sapply(1:n.items, function(i) {
        unlist(lapply(1:n.items, function(j) {
            sum(!(i==j)&amp;!is.na(tr.set[,i])&amp;!is.na(tr.set[,j])) })) })

    # estimate product-by-product mean differences in ratings
    diffs=array(NA, dim=c(n.items,n.items))
    diffs=sapply(1:n.items, function(i) {
        unlist(lapply(1:n.items, function(j) {
            diffs[j,i]=mean(tr.set[,i]-tr.set[,j],na.rm=T) })) })

    # create an output vector with NAs for all the items the user has already rated
    pred.out=as.numeric(is.na(d))
    pred.out[!is.na(d)]=NA

    a=which(!is.na(pred.out))
    b=which(is.na(pred.out))

    # calculated the weighted slope one estimate
    pred.out[a]=sapply(a, function(i) {
        sum(unlist(lapply(b,function (j) {
            sum((d[j]+diffs[j,i])*freqs[j,i])/rowSums(freqs)[i] }))) })

    names(pred.out)=colnames(tr.set)
    return(pred.out) }
# end function

# test, using example from [3]
alice=c(squid=1.0, octopus=0.2, cuttlefish=0.5, nautilus=NA)
bob=c(squid=1.0, octopus=0.5, cuttlefish=NA, nautilus=0.2)
carole=c(squid=0.2, octopus=1.0, cuttlefish=0.4, nautilus=0.4)
dave=c(squid=NA, octopus=0.4, cuttlefish=0.9, nautilus=0.5)
tr.set2=rbind(alice,bob,carole,dave)
lucy2=c(squid=0.4, octopus=NA, cuttlefish=NA, nautilus=NA)
pred(tr.set2,lucy2)
# not correct
# correct(?): {'nautilus': 0.10, 'octopus': 0.23, 'cuttlefish': 0.25}
</code></pre>
","","NJ Torrance","168868","","2013-12-09 05:13:04","2014-10-14 16:02:58","Weighted slope one algorithm? (porting from Python to R)","<python><r><prediction><recommendation-engine>","1","1","3","","","CC BY-SA 2.5","1022649","4452","4452","r","404559","3625322","3607736","",""
"1088639","1","1088800","","2009-07-06 18:48:46","","18","7532","<p>I have a function in R that I call multiple times. I want to keep track of the number of times that I've called it and use that to make decisions on what to do inside of the function. Here's what I have right now:</p>

<pre><code>f = function( x ) {
   count &lt;&lt;- count + 1
   return( mean(x) )
}

count = 1
numbers = rnorm( n = 100, mean = 0, sd = 1 )
for ( x in seq(1,100) ) {
   mean = f( numbers )
   print( count )
}
</code></pre>

<p>I don't like that I have to declare the variable count outside the scope of the function. In C or C++ I could just make a static variable. Can I do a similar thing in the R programming language?</p>
","57458","","17523","","2013-09-15 13:50:10","2014-08-10 04:20:27","Static Variables in R","<r><closures><static-variables>","2","0","6","","","CC BY-SA 2.5","1088639","4452","4452","r","404559","3625322","3607736","",""
"1092506","1","","","2009-07-07 13:58:31","","2","3389","<p>I was wondering if it was possible to graph three lines in R using functions. For instance, how could I get the functions:</p>

<pre><code>3x+1 
4x+2
x+1 
</code></pre>

<p>to show up on the same graph in r?</p>
","130633","","759866","","2013-12-06 15:46:03","2013-12-06 15:46:03","Line functions in R","<r><graph><line>","3","0","0","","","CC BY-SA 3.0","1092506","4452","4452","r","404559","3625322","3607736","",""
"1097367","1","5146751","","2009-07-08 10:58:40","","78","55620","<p>What good IDEs are there for R in Linux?</p>

<p>I've tried Rcmdr and Eclipse, but neither seems to have the same usability as Tinn-R in Windows. Are there any other options?</p>
","30911","","811","","2011-03-04 21:06:30","2014-09-20 07:05:24","What IDEs are available for R in Linux?","<r><ide>","17","0","23","2013-08-18 02:41:30","2011-03-04 21:22:12","CC BY-SA 2.5","1097367","4452","4452","r","404559","3625322","3607736","",""
"1098210","1","","","2009-07-08 13:51:15","","2","221","<p>I have installed R-2.9.1 and I am using Emacs+ESS. When I start an R process, though, the version of R that gets used by Emacs is 2.6.  I thought maybe Emacs was running R from a weird starting directory.  However, if I select my home directory ESS still starts R 2.6. (Running R at the terminal correctly brings up version 2.9.1.)</p>

<p>How do I add a new ESS process, or change the properties of the current R process, so that I can run my newer version of R?</p>
","84458","","1003565","","2012-11-30 00:32:40","2012-11-30 00:32:40","Emacs and ESS: Using the correct version of R","<r><emacs23><ess>","1","0","","","","CC BY-SA 3.0","1098210","4452","4452","r","404559","3625322","3607736","",""
"1105659","1","1106010","","2009-07-09 18:20:00","","58","74814","<p>I have two variables, <code>key</code> and <code>value</code>, and I want to add them as a key/value pair to a list:</p>

<pre><code>key = ""width""
value = 32

mylist = list()
mylist$key = value
</code></pre>

<p>The result is this:</p>

<pre><code>mylist
# $key
# [1] 32
</code></pre>

<p>But I would like this instead:</p>

<pre><code>mylist
# $width
# [1] 32
</code></pre>

<p>How can I do this?</p>
","60628","","1270695","","2015-12-17 05:20:42","2017-10-21 20:22:31","How to add variable key/value pair to list object?","<list><r>","4","0","13","","","CC BY-SA 3.0","1105659","4452","4452","r","404559","3625322","3607736","",""
"1107605","1","1263432","","2009-07-10 03:55:08","","6","1311","<p>Is there any usable emacs mode for <code>Rscript</code>? </p>

<p>(<code>Rscript</code> is the script front-end for the <a href=""http://www.r-project.org/"" rel=""nofollow noreferrer"">R</a> language.)</p>

<p>If I type this:</p>

<pre><code>#!/usr/bin/Rscript
print(commandArgs(TRUE))
</code></pre>

<p>and do <code>indent</code> in the <a href=""http://ess.r-project.org/"" rel=""nofollow noreferrer"">ESS</a> R-mode it indents the first line like crazy, since it sees it as a comment:</p>

<pre><code>                          #!/usr/bin/Rscript
print(commandArgs(TRUE))
</code></pre>
","60628","","133","","2011-09-04 01:44:06","2011-09-20 14:27:08","Is there an Emacs mode for Rscript?","<emacs><r><ess>","4","0","2","","","CC BY-SA 3.0","1107605","4452","4452","r","404559","3625322","3607736","",""
"1109017","1","1109211","","2009-07-10 11:25:47","","57","31958","<p>How do you print to <code>stderr</code> in <code>R</code>?</p>

<p>This would especially useful for scripts written in <code>Rscript</code>.</p>
","60628","","1429","","2009-07-22 14:07:40","2019-11-06 17:02:27","How do you print to stderr in R?","<r><printing><stderr>","5","0","8","","","CC BY-SA 2.5","1109017","4452","4452","r","404559","3625322","3607736","",""
"1110363","1","1110408","","2009-07-10 15:46:06","","5","891","<p>Is there a package to process command-line options in R? </p>

<p>I know <code>commandArgs</code>, but it's too basic. Its result is basically the equivalent to <code>argc</code> and <code>argv</code> in <code>C</code>, but I'd need something on top of that, just like <code>boost::program_options</code> in <code>C++</code>, or <code>GetOptions::Long</code> in <code>perl</code>.</p>

<p>In particular, I'd like to specify in advance what options are allowed and give an error message if the user specifies something else. </p>

<p>The call would be like this (with user options --width=32 --file=foo.txt):</p>

<pre><code>R --vanilla --args --width=32 --file=foo.txt &lt; myscript.R
</code></pre>

<p>or, if <code>Rscript</code> is used:</p>

<pre><code>myscript.R --width=32 --file=foo.txt 
</code></pre>

<p>(Please don't say, ""why don't you write it yourself, it's not that hard"". In other languages you don't have to write it yourself either. :)</p>
","60628","","19750","","2010-01-26 11:16:30","2010-01-26 11:16:30","Is there a package to process command line options in R?","<parsing><command-line><r><options><getopt>","2","0","3","","","CC BY-SA 2.5","1110363","4452","4452","r","404559","3625322","3607736","",""
"1114699","1","1114828","","2009-07-11 21:36:42","","6","5274","<p>I have a data.frame with 2 columns: Node A, Node B. Each entry in the frame implies an edge in a graph between node A and B. </p>

<p>There must be a nice one-liner to convert this data.frame into an adjacency list. Any hints?</p>
","136862","","1429","","2009-07-22 14:06:49","2011-12-02 14:58:59","Creating an adjacency list from a data.frame","<r><igraph>","4","0","5","","","CC BY-SA 2.5","1114699","4452","4452","r","404559","3625322","3607736","",""
"1125907","1","1128618","","2009-07-14 14:46:43","","3","1892","<p>I was trying to create a graph in R Plot and was just wondering if there was any way to move the side header label closer to the graph.</p>

<p>I've made the font smaller and put the label into two lines, but when I put it into two lines the top line falls off the screen and the bottom line is rather far away from the numbered Y-Axis of the graph.  Is there anyway to move the label closer to the y-axis so the whole thing is visible?</p>
","130633","","246310","","2012-05-05 06:33:49","2012-05-05 06:33:49","Moving an R Plot header","<r><header><plot><label>","1","0","0","","","CC BY-SA 3.0","1125907","4452","4452","r","404559","3625322","3607736","",""
"1133172","1","","","2009-07-15 18:41:34","","5","23222","<p>I wrote some code in school to basically bring up different graphs from <code>R</code> and I had wanted to use it on a <code>Mac</code> computer.  </p>

<p>Is there are way to use <code>R</code> terminal commands on a <code>Mac</code> computer and is there a place where I could get more information about these <code>Mac</code> <code>R</code> Terminal commands? </p>
","130633","","4137985","","2017-12-14 10:14:20","2017-12-14 10:14:20","Can you use R terminal commands on a Mac computer?","<macos><r><terminal><plot><command>","2","4","2","","","CC BY-SA 3.0","1133172","4452","4452","r","404559","3625322","3607736","",""
"1136709","1","1136802","","2009-07-16 10:26:36","","13","3950","<p>I am building an application that I want to have extended with modules that does some nr crunching and I would like to have R for that. What are my best options for extending my Java application with R?</p>
","85148","","2227834","","2015-04-23 05:19:50","2018-10-15 09:21:21","Extend my Java application with R?","<java><scripting><r><plugins><jvm>","6","1","4","","","CC BY-SA 3.0","1136709","4452","4452","r","404559","3625322","3607736","",""
"1142294","1","1143173","","2009-07-17 09:35:57","","12","39374","<p>I have an SVM in R and I would now like to plot the classification space for this machine. I have found some examples on the Internet, but I can't seem to make sense of them.</p>

<p>My R script is as follows:</p>

<pre><code>library(e1071)
day_of_week &lt;- c(0,1,2,3,4,5,6)
holiday &lt;- factor( c(T, F, F, F, F, F, T) )
model &lt;- svm(day_of_week, holiday)
plot(model, day_of_week, holiday)
</code></pre>

<p>I cannot get the plot command to work. I would like a graph something like this <a href=""http://bm2.genes.nig.ac.jp/RGM2/R_current/library/e1071/man/images/plot.svm_001.png"" rel=""noreferrer"">http://bm2.genes.nig.ac.jp/RGM2/R_current/library/e1071/man/images/plot.svm_001.png</a> </p>
","140049","","805808","","2011-11-05 21:04:07","2011-11-05 21:04:07","How do I plot a classification graph of a SVM in R","<r><graph><machine-learning><svm>","2","0","10","","","CC BY-SA 3.0","1142294","4452","4452","r","404559","3625322","3607736","",""
"1154242","1","","","2009-07-20 15:25:31","","166","402581","<p>I was just wondering if there is a way to get rid of axis values, either the x-axis or y-axis respectively, in an r-plot graph.</p>

<p>I know that <code>axes = false</code> will get rid of the entire axis, but I would only like to get rid of the numbering. </p>
","130633","","680068","","2017-12-22 11:08:40","2019-04-18 04:11:14","Remove plot axis values","<r><plot><axis-labels>","5","0","27","","","CC BY-SA 3.0","1154242","4452","4452","r","404559","3625322","3607736","",""
"1163640","1","1164111","","2009-07-22 07:34:10","","5","4834","<p>I have a histogram with several hundred items, for which I do a Q-Q plot. This results in EPS that is 2.5 megabytes large. This is too much for a figure that is only going to be included in a publication and is not going to be viewed at 100x magnification.</p>

<p>Is there any option in R to somehow output smaller EPS? I have searched docs to no avail. Or is my best option to, say, rasterize it afterwards at 300 dpi? If that's the case, any recommendations for the tool for this job?</p>

<p>The R code for the plot is nothing fancy:</p>

<pre><code>postscript(filename)
qqnorm(n, main=title))
qqline(n)
dev.off()
</code></pre>

<hr>

<p><strong>EDIT:</strong> Doh! My question mentioned outputting EPS, and then converting it to some raster format. When of course I could just generate PNG in the first place from R.</p>
","80458","","680068","","2017-12-22 11:07:21","2017-12-22 11:07:21","Reduce size of plots in EPS format","<r><postscript><eps>","6","0","","","","CC BY-SA 3.0","1163640","4452","4452","r","404559","3625322","3607736","",""
"1166157","1","","","2009-07-22 15:36:30","","1","992","<p>Assume I have huge huge data and no money for hardware for more RAM for R AND software like Windows or any non open source</p>

<p>. Just an internet connection. and an university Amazon ec2 account.</p>

<p>Could you please guide me to a step by step- copy and paste coding tutorial on building a model using any Package on Amazon ec2.</p>

<p>Note- I know BIOCEP can do this, and Robert Grossman gave a tutorial on using R on Amazon Ec2. I just need a tutorial that say uses a R GUI like Rattle to build model on Amazon Ec2.</p>

<p>Assume I am a statistican with no knowledge of Amazon ec2 or using R there</p>
","","Ajay Ohri","","","","2009-07-22 16:16:31","Tutorial Using R on an Amazon Ec2 using just browser for building a regression model","<r><amazon-ec2>","1","1","1","2017-12-22 12:22:04","","CC BY-SA 2.5","1166157","4452","4452","r","404559","3625322","3607736","",""
"1167448","1","1168147","","2009-07-22 19:00:09","","29","9166","<p>There are at least two sparse matrix packages for R.  I'm looking into these because I'm working with datasets that are too big and sparse to fit in memory with a dense representation.  I want basic linear algebra routines, plus the ability to easily write C code to operate on them.  Which library is the most mature and best to use?</p>

<p>So far I've found</p>

<ul>
<li><a href=""http://cran.r-project.org/web/packages/Matrix"" rel=""noreferrer"">Matrix</a> which has many reverse dependencies, implying it's the most used one.</li>
<li><a href=""http://cran.r-project.org/web/packages/SparseM/index.html"" rel=""noreferrer"">SparseM</a> which doesn't have as many reverse deps.</li>
<li>Various graph libraries probably have their own (implicit) versions of this; e.g. <a href=""http://cran.r-project.org/web/packages/igraph/index.html"" rel=""noreferrer"">igraph</a> and <a href=""http://cran.r-project.org/web/packages/network/index.html"" rel=""noreferrer"">network</a> (the latter is part of <a href=""http://statnetproject.org/"" rel=""noreferrer"">statnet</a>).  These are too specialized for my needs.</li>
</ul>

<p>Anyone have experience with this?</p>

<p>From searching around <a href=""http://rseek.org"" rel=""noreferrer"">RSeek.org</a> a little bit, the <a href=""http://cran.r-project.org/web/packages/Matrix"" rel=""noreferrer"">Matrix</a> package seems the most commonly mentioned one.  I often think of <a href=""http://cran.r-project.org/web/views/"" rel=""noreferrer"">CRAN Task Views</a> as fairly authoritative, and the <a href=""http://cran.r-project.org/web/views/Multivariate.html"" rel=""noreferrer"">Multivariate Task View</a> mentions Matrix and SparseM.</p>
","86684","","18484","","2009-07-23 00:58:53","2016-10-19 04:00:31","Most mature sparse matrix package for R?","<r><statistics><matrix><sparse-matrix>","3","2","10","","","CC BY-SA 2.5","1167448","4452","4452","r","404559","3625322","3607736","",""
"1169238","1","1169249","","2009-07-23 02:17:09","","18","26294","<p>I have data that comes out of a DB in a normalized way with a field for year, state, and value.</p>

<p>I would like to do analysis on the data and need it formatted where each year is a field and not a record.So I would like the data where each record is a state and then there's a field for each year and each value for those fields are the value for that year and that state.</p>

<p>Is there a command for doing this?</p>

<p>So I have:</p>

<pre><code>State  Year  Value  
   KY  1998     56  
   KY  1997     78  
   IL  1998     48  
   IL  1997     72
</code></pre>

<p>and I want:</p>

<pre><code>State  1997_value  1998_value  
   KY          78          56  
   IL          72          48
</code></pre>
","37751","","680068","","2017-12-22 11:05:18","2017-12-22 11:05:18","Convert data from many rows to many columns","<r><reshape>","3","0","10","2017-08-24 21:38:04","","CC BY-SA 3.0","1169238","4452","4452","r","404559","3625322","3607736","",""
"1169248","1","1169262","","2009-07-23 02:20:53","","568","769816","<p>How to check if a vector contains a given value?</p>
","2002705","","680068","","2018-05-09 09:33:59","2018-05-09 09:33:59","Test if a vector contains a given element","<r><vector><r-faq>","7","7","140","","","CC BY-SA 4.0","1169248","4452","4452","r","404559","3625322","3607736","",""
"1169292","1","","","2009-07-23 02:35:28","","8","5866","<p>Are there any websites or blogs with programming challenges specifically for R users?</p>
","","user143346","2598","","2009-07-23 02:49:07","2009-07-23 05:01:34","Are there any programming challenges out there for R users?","<r><puzzle>","3","0","2","2013-08-18 03:12:16","","CC BY-SA 2.5","1169292","4452","4452","r","404559","3625322","3607736","",""
"1169330","1","","","2009-07-23 02:48:01","","7","5248","<p>I understand that some databases have native support in R (e.g. MySQL) but you can connect to other DBs like MS SQL Server using RODBC. How much speed improvement does one gain for reading/writing with the native drivers vs. RODBC? What other DBs have native drivers in R? Is reading faster or slower than writing generally?</p>
","37751","","680068","","2017-12-22 11:04:42","2017-12-22 11:04:42","Native vs ODBC database connections","<database><r><odbc>","2","0","1","","","CC BY-SA 3.0","1169330","4452","4452","r","404559","3625322","3607736","",""
"1169373","1","1272819","","2009-07-23 03:03:09","","27","14836","<p>After creating large objects and running out of RAM, I will try and delete the objects in my current environment using</p>

<pre><code>rm(list=ls())
</code></pre>

<p>When I check my RAM usage, nothing has changed.  Even after calling <code>gc()</code> nothing has changed.  I can only replenish my RAM by quitting R.</p>

<p>Anybody have advice for dealing with memory-intensive objects within R?</p>
","84458","","75694","","2009-07-23 13:07:05","2019-07-06 03:17:19","Memory Usage in R","<memory-management><r>","4","0","7","","","CC BY-SA 2.5","1169373","4452","4452","r","404559","3625322","3607736","",""
"1169376","1","1172367","","2009-07-23 03:03:55","","8","3600","<p>What's the most efficient way to create a moving average or rolling sum in R? How do you do the rolling function along with a ""group by""?</p>
","2002705","","144157","","2009-09-14 11:39:55","2009-09-14 11:39:55","Cumulative sums, moving averages, and SQL ""group by"" equivalents in R","<r><average><time-series><moving-average>","2","0","4","","","CC BY-SA 2.5","1169376","4452","4452","r","404559","3625322","3607736","",""
"1169388","1","1169399","","2009-07-23 03:10:59","","24","41663","<p>Suppose I have the following vector:</p>

<pre><code>x &lt;- c(8, 6, 9, 9, 7, 3, 2, 5, 5, 1, 6, 8, 5, 2, 9, 3, 5, 10, 8, 2)
</code></pre>

<p>How can I find which elements are either 8 or 9?</p>
","84458","","2204410","","2018-08-17 08:01:05","2020-10-11 10:38:43","Finding All Positions for Multiple Elements in a Vector","<r><vector><r-faq>","6","1","12","","","CC BY-SA 4.0","1169388","4452","4452","r","404559","3625322","3607736","",""
"1169426","1","1169451","","2009-07-23 03:24:25","","10","2803","<p>I have a data frame detailing edge weights among N nodes.  Is there a package for working with this sort of data?</p>

<p>For example, I would like to plot the following information as a network:</p>

<pre><code>  p1 p2 counts
1  a  b    100
2  a  c    200
3  a  d    100
4  b  c     80
5  b  d     90
6  b  e    100
7  c  d    100
8  c  e     40
9  d  e     60
</code></pre>
","84458","","164901","","2010-03-07 17:47:47","2010-03-07 17:47:47","Manipulating Network Data in R","<r><networking><social-networking>","4","0","7","","","CC BY-SA 2.5","1169426","4452","4452","r","404559","3625322","3607736","",""
"1169456","1","1169495","","2009-07-23 03:33:18","","575","261396","<p><strong>R</strong> provides two different methods for accessing the elements of a list or data.frame: <code>[]</code> and <code>[[]]</code>.</p>
<p>What is the difference between the two, and when should I use one over the other?</p>
","135870","","10563627","","2021-03-10 02:56:38","2021-03-10 02:56:38","The difference between bracket [ ] and double bracket [[ ]] for accessing the elements of a list or dataframe","<r><list><dataframe><extract><r-faq>","12","0","242","","","CC BY-SA 4.0","1169456","4452","4452","r","404559","3625322","3607736","",""
"1169480","1","","","2009-07-23 03:40:27","","19","3187","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/4442518/general-suggestions-for-debugging-r"">General suggestions for debugging R?</a>  </p>
</blockquote>



<p>After learning R about 9 months ago, I am finally graduating from debugging by using <code>print()</code> statements every other line.  I am now a pretty constant user of <code>browser()</code> and <code>debug()</code>.  I have recently become aware of a few more tools: <code>traceback()</code>, <code>trace()</code>, and <code>recover()</code>.  </p>

<p>Does anybody have advice on when (and how) to use these?</p>
","84458","","-1","","2017-05-23 11:47:54","2012-01-20 15:33:35","Debugging tools for the R language","<debugging><r>","0","0","0","2012-07-15 13:53:18","","CC BY-SA 2.5","1169480","4452","4452","r","404559","3625322","3607736","",""
"1169534","1","1183715","","2009-07-23 03:58:10","","30","20349","<p>I often write functions that need to see other objects in my environment.  For example:</p>

<pre><code>&gt; a &lt;- 3
&gt; b &lt;- 3
&gt; x &lt;- 1:5
&gt; fn1 &lt;- function(x,a,b) a+b+x
&gt; fn2 &lt;- function(x) a+b+x
&gt; fn1(x,a,b)
[1]  7  8  9 10 11
&gt; fn2(x)
[1]  7  8  9 10 11
</code></pre>

<p>As expected, both these functions are identical because <code>fn2</code> can ""see"" a and b when it executes.  But whenever I start to take advantage of this, within about 30 minutes I end up calling the function without one of the necessary variables (e.g. a or b).  If I don't take advantage of this, then I feel like I am passing around objects unnecessarily.</p>

<p>Is it better to be explicit about what a function requires?  Or should this be taken care of via inline comments or other documentation of the function?  Is there a better way?</p>
","84458","","71059","","2009-07-23 08:59:30","2014-02-07 11:59:23","Writing functions in R, keeping scoping in mind","<r><scope>","4","0","9","","","CC BY-SA 2.5","1169534","4452","4452","r","404559","3625322","3607736","",""
"1169539","1","1169672","","2009-07-23 04:00:09","","106","90078","<p>I want to do a linear regression in R using the <code>lm()</code> function. My data is an annual time series with one field for year (22 years) and another for state (50 states). I want to fit a regression for each state so that at the end I have a vector of lm responses. I can imagine doing for loop for each state then doing the regression inside the loop and adding the results of each regression to a vector. That does not seem very R-like, however. In SAS I would do a 'by' statement and in SQL I would do a 'group by'. What's the R way of doing this?</p>
","37751","","4891738","","2016-10-07 20:04:48","2018-10-02 03:01:22","Linear Regression and group by in R","<r><regression><linear-regression><lm>","10","1","61","","","CC BY-SA 3.0","1169539","4452","4452","r","404559","3625322","3607736","",""
"1169551","1","1169601","","2009-07-23 04:04:21","","13","6994","<p>I am used to writing data manipulation logic in SQL and now that I am learning R I find myself sometimes just wanting to do something that would be simple in SQL but I have to learn a bunch of stuff with R to do the same manipulation on an R data frame. Is there a simple work around? </p>
","2002705","","3604745","","2016-11-29 06:17:42","2016-11-29 06:17:42","SQL-like functionality in R","<sql><r><sqldf>","2","1","1","","","CC BY-SA 3.0","1169551","4452","4452","r","404559","3625322","3607736","",""
"1169573","1","1169585","","2009-07-23 04:15:08","","7","3214","<p>Suppose I want perform a simulation using the following <code>function</code>:</p>

<pre><code>fn1 &lt;- function(N) {
  res &lt;- c()
  for (i in 1:N) {
    x &lt;- rnorm(2)
    res &lt;- c(res, x[2]-x[1])
  }
  res
}
</code></pre>

<p>For very large <code>N</code>, computation appears to hang.  Are there better ways of doing this?</p>

<p>(Inspired by: <a href=""https://stat.ethz.ch/pipermail/r-help/2008-February/155591.html"" rel=""nofollow noreferrer"">https://stat.ethz.ch/pipermail/r-help/2008-February/155591.html</a>)</p>
","84458","","4137985","","2017-12-14 10:12:00","2017-12-14 10:12:00","Large loops hang in R?","<r><for-loop>","5","0","","","","CC BY-SA 3.0","1169573","4452","4452","r","404559","3625322","3607736","",""
"1169714","1","1169737","","2009-07-23 05:13:29","","22","21915","<p>What are the differences between R and S?</p>
","88096","","41661","","2015-11-24 00:36:27","2016-09-16 05:08:21","What are the major differences between the R and S programming languages?","<r><programming-languages><s>","4","5","6","2016-09-16 07:14:09","","CC BY-SA 3.0","1169714","4452","4452","r","404559","3625322","3607736","",""
"1172485","1","1173161","","2009-07-23 15:15:37","","68","20409","<p>This may seem menial, but it affects my productivity. I am using R in terminal mode on Linux. Unlike the Windows IDE, Linux limits the number of columns to 80, thus making harder the inspection of data sets. Is there a way to set the max number of columns?</p>
","143813","","56338","","2009-08-03 04:50:29","2018-02-28 09:37:32","How to increase the number of columns using R in Linux","<r>","6","1","14","","","CC BY-SA 2.5","1172485","4452","4452","r","404559","3625322","3607736","",""
"1173463","1","1173493","","2009-07-23 18:01:31","","38","53088","<p>Any recommendations for a good Windows text editor for R?  </p>

<p>I've been using <a href=""http://www.sciviews.org/Tinn-R/"" rel=""noreferrer"">Tinn-R</a>, and it's been working reasonably well, but am curious to know what else people use.  </p>
","142477","","63550","","2009-08-22 18:59:46","2016-12-03 20:09:29","Recommendations for Windows text editor for R","<r><text-editor>","15","0","12","2012-06-10 10:52:16","2009-08-21 21:38:11","CC BY-SA 2.5","1173463","4452","4452","r","404559","3625322","3607736","",""
"1174799","1","1174826","","2009-07-23 22:17:24","","144","116936","<p>How do you pause an R script for a specified number of seconds or miliseconds? In many languages, there is a <code>sleep</code> function, but <code>?sleep</code> references a data set. And <code>?pause</code> and <code>?wait</code> don't exist.</p>

<p>The intended purpose is for self-timed animations. The desired solution works without asking for user input.</p>
","23929","","684229","","2014-01-17 15:03:00","2018-06-06 17:18:12","How to make execution pause, sleep, wait for X seconds in R?","<r><animation><statistics>","2","2","26","","","CC BY-SA 3.0","1174799","4452","4452","r","404559","3625322","3607736","",""
"1176455","1","1176813","","2009-07-24 08:44:49","","2","2449","<p>I am creating an R package that I intend to submit to CRAN that has a function calling a routine written in C.  How do I load the compiled C routine in the R function in platform-independent way?  I am able to make my package work on my intel-based Mac with:</p>

<pre><code>function(mydata)
{
dyn.load(file.path(.Library,""mypkg/libs/i386"",paste(""mypkg"", .Platform$dynlib.ext, sep=""""))) 
try(
    output &lt;- .C(""myfunc_cversion"",
                 in_data    = as.double(mydata),
                 res_data   = as.double(res),
                 PACKAGE    = ""mypkg"")
    )
    result &lt;- as.matrix(output$res_data)
    return(result)
}
</code></pre>

<p>The problem is the call to dyn.load where I cannot figure out how to specify the full path to the shared library for my installed package in a portable way.</p>

<p>Is there another variable in R besides .Library that I should use, or is there a better function than dyn.load for this case?</p>
","4907","","","","","2009-07-24 11:38:34","Portable use of dyn.load to call a C function in an R package","<r>","3","0","1","","","CC BY-SA 2.5","1176455","4452","4452","r","404559","3625322","3607736","",""
"1177919","1","1178066","","2009-07-24 14:06:05","","23","17182","<p>How do I add a column in the middle of an R data frame? I want to see if I have a column named ""LastName"" and then add it as the third column if it does not already exist. </p>
","37751","","","","","2009-08-02 19:46:15","Does column exist and how to rearrange columns in R data frame","<r>","6","0","4","","","CC BY-SA 2.5","1177919","4452","4452","r","404559","3625322","3607736","",""
"1177926","1","1178261","","2009-07-24 14:07:07","","125","115646","<p>I am often ending up with a function producing output for which I don't understand the output data type. I'm expecting a list and it ends up being a list of lists or a data frame or something else. What's a good method or workflow for figuring out the output data type when first using a function?</p>
","37751","","","","","2009-07-28 02:41:25","R object identification","<r><object>","4","0","59","","","CC BY-SA 2.5","1177926","4452","4452","r","404559","3625322","3607736","",""
"1181021","1","1183488","","2009-07-25 02:32:27","","7","8341","<p>I have a matrix and I would like to know if it is diagonalizable. How do I do this in the R programming language? </p>
","2002705","","76337","","2009-07-26 18:03:29","2018-12-15 14:27:58","Determining if a matrix is diagonalizable in the R Programming Language","<r><matrix>","4","6","2","","","CC BY-SA 2.5","1181021","4452","4452","r","404559","3625322","3607736","",""
"1181025","1","1181098","","2009-07-25 02:36:06","","23","24237","<p>What functions do you use in R to fit a curve to your data and test how well that curve fits?  What results are considered good?</p>
","2002705","","18484","","2009-07-25 21:10:02","2009-11-23 19:39:01","Goodness of fit functions in R","<r><statistics><curve-fitting>","6","2","21","","","CC BY-SA 2.5","1181025","4452","4452","r","404559","3625322","3607736","",""
"1181060","1","1192226","","2009-07-25 02:50:20","","21","16286","<p>I have a data frame containing multiple time series of returns, stored in columns.</p>

<p>The first column contains dates, and subsequent columns are independent time series each with a name. The column headers are the variable names.</p>

<pre><code>## I have a data frame like this
t &lt;- seq(as.Date('2009-01-01'),by='days',length=10)
X &lt;- rnorm(10,0,1)
Y &lt;- rnorm(10,0,2)
Z &lt;- rnorm(10,0,4)

dat &lt;- data.frame(t,X,Y,Z)

## which appears as
           t          X          Y         Z
1 2009-01-01 -1.8763317 -0.1885183 -6.655663
2 2009-01-02 -1.3566227 -2.1851226 -3.863576
3 2009-01-03 -1.3447188  2.4180249 -1.543931
</code></pre>

<p>I want to plot each time series as a line on a separate plot, in a lattice, with each plot labeled by the variable names.  </p>

<p>To plot this with lattice, the data must be in a tall format, as such:  </p>

<pre><code>           t symbol       price
1 2009-01-01      X -1.8763317
2 2009-01-02      Y -0.1885183
2 2009-01-02      Z -6.655663
</code></pre>

<p>What is a good function call to do this? </p>
","2002705","","144157","","2009-09-14 05:33:04","2014-10-08 10:21:36","Reshaping time series data from wide to tall format (for plotting)","<r><time-series>","5","1","7","2016-09-16 09:37:19","","CC BY-SA 2.5","1181060","4452","4452","r","404559","3625322","3607736","",""
"1182932","1","1183240","","2009-07-25 20:10:59","","3","1362","<p><strong>EDIT:</strong> This bug was found in 32-bit versions of R was fixed in R version 2.9.2.</p>

<hr>

<p>This was tweeted to me by @leoniedu today and I don't have an answer for him so I thought I would post it here. </p>

<p>I have read the documentation for agrep() (fuzzy string matching) and it appears that I don't fully understand the max.distance parameter. Here's an example:</p>

<pre><code>pattern &lt;- ""Staatssekretar im Bundeskanzleramt""
x &lt;- ""Bundeskanzleramt""
agrep(pattern,x,max.distance=18) 
agrep(pattern,x,max.distance=19)
</code></pre>

<p>That behaves exactly like I would expect. There are 18 characters different between the strings so I would expect that to be the threshold of a match. Here's what's confusing me:</p>

<pre><code>agrep(pattern,x,max.distance=30) 
agrep(pattern,x,max.distance=31)
agrep(pattern,x,max.distance=32) 
agrep(pattern,x,max.distance=33)
</code></pre>

<p>Why are 30 and 33 matches, but not 31 and 32? To save you some counting, </p>

<pre><code>&gt; nchar(""Staatssekretar im Bundeskanzleramt"")
[1] 34
&gt; nchar(""Bundeskanzleramt"")
[1] 16
</code></pre>
","37751","","10248678","","2020-08-04 18:59:26","2020-08-04 18:59:26","unexpected agrep() results related to max.distance in R","<r><agrep>","2","3","","","","CC BY-SA 3.0","1182932","4452","4452","r","404559","3625322","3607736","",""
"1188544","1","3420304","","2009-07-27 14:36:31","","4","8866","<p>I know I must be making a simple syntax mistake, but I want to have a windows batch file that fires up 9 instances of R and runs a different routine in each one. I want these to run simultaneously (i.e. asynchronously). I can fire up 9 command prompt windows and type a command in each one, but it seems like with the START command I should be able to make them start from a single batch file. </p>

<p>Here's an example of how I start one of the instances of R:</p>

<pre><code>""C:\Program Files (x86)\R\R-2.8.1\bin\R"" CMD BATCH ""C:\Users\jd\Documents\mexico\Estado\getdata1.r"" 
</code></pre>

<p>Reading this <a href=""https://stackoverflow.com/questions/72671/how-to-create-batch-file-in-windows-using-start-with-a-path-and-command-with-sp"">previous stackoverflow question</a> along with <a href=""https://stackoverflow.com/questions/154075/using-the-dos-start-command-with-parameters-passed-to-the-started-program"">this previous question</a> makes me think I should be able to do this:</p>

<pre><code>START """" ""C:\Program Files (x86)\R\R-2.8.1\bin\R"" CMD BATCH ""C:\Users\jd\Documents\mexico\Estado\getdata1.r"" /b
</code></pre>

<p>That does not return an error, it just returns a prompt and R never starts. What am I missing?</p>
","37751","","-1","","2017-05-23 12:07:10","2013-04-05 21:26:59","Getting windows to start R in batch mode using the Start command","<windows><r><batch-file><command-prompt>","3","3","2","","","CC BY-SA 2.5","1188544","4452","4452","r","404559","3625322","3607736","",""
"1189759","1","1189826","","2009-07-27 18:17:42","","277","67959","<p>I have always found startup profile files of other people both useful and instructive about the language. Moreover, while I have some customization for <a href=""http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29"" rel=""noreferrer"">Bash</a> and <a href=""http://en.wikipedia.org/wiki/Vim_%28text_editor%29"" rel=""noreferrer"">Vim</a>, I have nothing for R.</p>

<p>For example, one thing I always wanted is different colors for input and output text in a window terminal, and maybe even syntax highlighting.</p>
","143813","","63550","","2014-11-16 21:21:10","2015-07-29 10:00:54","Expert R users, what's in your .Rprofile?","<r><terminal><customization><rprofile>","24","4","227","2013-02-11 14:16:32","2009-08-20 21:59:48","CC BY-SA 3.0","1189759","4452","4452","r","404559","3625322","3607736","",""
"1191689","1","1192044","","2009-07-28 02:43:03","","12","8425","<p>Hierarchical Bayes models are commonly used in Marketing, Political Science, and Econometrics. Yet, the only package I know of is <code>bayesm</code>, which is really a companion to a book (<em>Bayesian Statistics and Marketing</em>, by Rossi, et al.) Am I missing something? Is there a software package for R or Python doing the job out there, and/or a worked-out example in the associated language? </p>
","143813","","","","","2019-05-04 00:27:05","Hierarchical Bayes for R or Python","<python><r><statistics>","7","2","7","","","CC BY-SA 2.5","1191689","4452","4452","r","404559","3625322","3607736","",""
"1195826","1","1197154","","2009-07-28 18:21:47","","570","419239","<p>I have a data frame containing a <code>factor</code>. When I create a subset of this dataframe using <code>subset</code> or another indexing function, a new data frame is created.  However, the <code>factor</code> variable retains all of its original levels, even when/if they do not exist in the new dataframe.</p>

<p>This causes problems when doing faceted plotting or using functions that rely on factor levels.</p>

<p>What is the most succinct way to remove levels from a factor in the new dataframe?</p>

<p>Here's an example:</p>

<pre><code>df &lt;- data.frame(letters=letters[1:5],
                    numbers=seq(1:5))

levels(df$letters)
## [1] ""a"" ""b"" ""c"" ""d"" ""e""

subdf &lt;- subset(df, numbers &lt;= 3)
##   letters numbers
## 1       a       1
## 2       b       2
## 3       c       3    

# all levels are still there!
levels(subdf$letters)
## [1] ""a"" ""b"" ""c"" ""d"" ""e""
</code></pre>
","2002705","","1851712","","2020-06-29 23:26:17","2021-01-09 08:45:18","Drop unused factor levels in a subsetted data frame","<r><dataframe><r-factor><r-faq>","15","0","177","","","CC BY-SA 4.0","1195826","4452","4452","r","404559","3625322","3607736","",""
"1197434","1","1197460","","2009-07-29 00:11:37","","5","12463","<p>I have an Excel file with a large set of data. The built-in graphs available in Excel are <em>not</em> enough to analyze these data, so I am thinking about using some tool like octave or R.</p>

<p>I was thinking about some method to load an Excel file directly into octave or R. I searched the web and found that many people have succeeded using by exporting data from Excel into a CSV file.</p>

<p>The question:
Is there a direct way to load an Excel file in R or Octave?</p>
","70702","","1621041","","2016-05-31 08:12:09","2016-09-12 12:13:08","Loading data from Excel file into R or Octave","<excel><r><octave><import-from-excel>","6","0","","","","CC BY-SA 3.0","1197434","4452","4452","r","404559","3625322","3607736","",""
"1198116","1","1198147","","2009-07-29 04:57:48","","3","13952","<p>This is probably a very stupid question for SQL stalwarts, but I just want one SQL command.</p>

<p>Details,</p>

<p>I am using a data analysis tool called R, this tool uses ODBC to read data from XLS. I am now trying to read data from an XLS file. The ODBC tool in R accepts SQL commands.</p>

<p>Question,</p>

<p>Can someone give me an SQL command that will read data from an XLS file's
- Specified sheet
- Specified column [by name]
- Specified row [Specified just by Row Index]</p>

<p>Thanks ... </p>
","70702","","","","","2011-06-30 21:09:29","sql command for reading a particular sheet, column ","<sql><excel><r><sqlcommand><import-from-excel>","3","0","","","","CC BY-SA 2.5","1198116","4452","4452","r","404559","3625322","3607736","",""
"1203662","1","1203881","","2009-07-29 23:36:11","","2","8125","<p>Very newbie (to Java) question:</p>

<p>I opened an Rserve connection (<a href=""http://www.rforge.net/Rserve/"" rel=""nofollow noreferrer"">http://www.rforge.net/Rserve/</a>) on localhost, and I would like to use the REngine client (src/client/java-new in the Rserve package) to connect to it.</p>

<p>What do I need to do to get the ""RTest.java"" (located in src/client/java-new/Rserve; pasted below) to compile?</p>

<p>I gather that I need to compile the org.rosuda.* libraries. How can I do this using Eclipse 3.5? I tried copying the ""src/client/java-new"" folder into my Java project's ""src"" directory, right clicking in Eclipse -> Build path -> Use as source folder.  But I don't think this is enough to create the ""org.rosuda"" package, because I don't see an ""org/rosuda"" directory structure created anywhere (and those ominous red lines in Eclipse don't disappear). </p>

<p>Anyone done this recently, care to offer a pointer? Thanks plenty.</p>

<pre><code>import org.rosuda.REngine.*;
import org.rosuda.REngine.Rserve.*;

class TestException extends Exception {
    public TestException(String msg) { super(msg); }
}

public class test {
    public static void main(String[] args) {
    try {
        RConnection c = new RConnection();

        System.out.println(""&gt;&gt;""+c.eval(""R.version$version.string"").asString()+""&lt;&lt;"");

        {
            System.out.println(""* Test string and list retrieval"");
            RList l = c.eval(""{d=data.frame(\""huhu\"",c(11:20)); lapply(d,as.character)}"").asList();
            int cols = l.size();
            int rows = l.at(0).length();
            String[][] s = new String[cols][];
            for (int i=0; i&lt;cols; i++) s[i]=l.at(i).asStrings();
            System.out.println(""PASSED"");
        }

        {
        System.out.println(""* Test NA/NaN support in double vectors..."");
        double R_NA = Double.longBitsToDouble(0x7ff00000000007a2L);
        // int R_NA_int = -2147483648; // just for completeness
        double x[] = { 1.0, 0.5, R_NA, Double.NaN, 3.5 };
        c.assign(""x"",x);
        String nas = c.eval(""paste(capture.output(print(x)),collapse='\\n')"").asString();
        System.out.println(nas);
        if (!nas.equals(""[1] 1.0 0.5  NA NaN 3.5""))
            throw new TestException(""NA/NaN assign+retrieve test failed"");
        System.out.println(""PASSED"");
        }

        {
            System.out.println(""* Test assigning of lists and vectors ..."");
            RList l = new RList();
            l.put(""a"",new REXPInteger(new int[] { 0,1,2,3}));
            l.put(""b"",new REXPDouble(new double[] { 0.5,1.2,2.3,3.0}));
            System.out.println(""  assign x=pairlist"");
            c.assign(""x"", new REXPList(l));
            System.out.println(""  assign y=vector"");
            c.assign(""y"", new REXPGenericVector(l));
            System.out.println(""  assign z=data.frame"");
            c.assign(""z"", REXP.createDataFrame(l));
            System.out.println(""  pull all three back to Java"");
            REXP x = c.parseAndEval(""x"");
            System.out.println(""  x = ""+x);
            x = c.eval(""y"");
            System.out.println(""  y = ""+x);
            x = c.eval(""z"");
            System.out.println(""  z = ""+x);
            System.out.println(""PASSED"");
        }
        {
            System.out.println(""* Test support for logicals ... "");
            System.out.println(""  assign b={true,false,true}"");
            c.assign(""b"", new REXPLogical(new boolean[] { true, false, true }));
            REXP x = c.parseAndEval(""b"");
            System.out.println(""  "" + ((x != null) ? x.toDebugString() : ""NULL""));
            if (!x.isLogical() || x.length() != 3)
                throw new TestException(""boolean array assign+retrieve test failed"");
            boolean q[] = ((REXPLogical)x).isTRUE();
            if (q[0] != true || q[1] != false || q[2] != true)
                throw new TestException(""boolean array assign+retrieve test failed (value mismatch)"");
            System.out.println(""  get c(TRUE,FLASE,NA)"");
            x = c.parseAndEval(""c(TRUE,FALSE,NA)"");
            System.out.println(""  "" + ((x != null) ? x.toDebugString() : ""NULL""));
            if (!x.isLogical() || x.length() != 3)
                throw new TestException(""boolean array NA test failed"");
            boolean q1[] = ((REXPLogical)x).isTRUE();
            boolean q2[] = ((REXPLogical)x).isFALSE();
            boolean q3[] = ((REXPLogical)x).isNA();
            if (q1[0] != true || q1[1] != false || q1[2] != false ||
                q2[0] != false || q2[1] != true || q2[2] != false ||
                q3[0] != false || q3[1] != false || q3[2] != true)
                throw new TestException(""boolean array NA test failed (value mismatch)"");
        }

        { // regression: object bit was not set for Java-side generated objects before 0.5-3
            System.out.println(""* Testing functionality of assembled S3 objects ..."");
            // we have already assigned the data.frame in previous test, so we jsut re-use it
            REXP x = c.parseAndEval(""z[2,2]"");
            System.out.println(""  z[2,2] = "" + x);
            if (x == null || x.length() != 1 || x.asDouble() != 1.2)
                throw new TestException(""S3 object bit regression test failed"");
            System.out.println(""PASSED"");
        }

        { // this test does a pull and push of a data frame. It will fail when the S3 test above failed.
            System.out.println(""* Testing pass-though capability for data.frames ..."");
            REXP df = c.parseAndEval(""{data(iris); iris}"");
            c.assign(""df"", df);
            REXP x = c.eval(""identical(df, iris)"");
            System.out.println(""  identical(df, iris) = ""+x);
            if (x == null || !x.isLogical() || x.length() != 1 || !((REXPLogical)x).isTrue()[0])
                throw new TestException(""Pass-through test for a data.frame failed"");
            System.out.println(""PASSED"");
        }

            { // factors
                System.out.println(""* Test support of factors"");
                REXP f = c.parseAndEval(""factor(paste('F',as.integer(runif(20)*5),sep=''))"");
                System.out.println(""  f=""+f);
                System.out.println(""  isFactor: ""+f.isFactor()+"", asFactor: ""+f.asFactor());
                if (!f.isFactor() || f.asFactor() == null) throw new TestException(""factor test failed"");
                System.out.println(""  singe-level factor used to degenerate:"");
                f = c.parseAndEval(""factor('foo')"");
                System.out.println(""  isFactor: ""+f.isFactor()+"", asFactor: ""+f.asFactor());
                if (!f.isFactor() || f.asFactor() == null) throw new TestException(""single factor test failed (not a factor)"");
                if (!f.asFactor().at(0).equals(""foo"")) throw new TestException(""single factor test failed (wrong value)"");
                System.out.println(""  test factors with null elements contents:"");
                c.assign(""f"", new REXPFactor(new RFactor(new String[] { ""foo"", ""bar"", ""foo"", ""foo"", null, ""bar"" })));
                f = c.parseAndEval(""f"");
                if (!f.isFactor() || f.asFactor() == null) throw new TestException(""factor assign-eval test failed (not a factor)"");
                System.out.println(""  f = ""+f.asFactor());
                f = c.parseAndEval(""as.factor(c(1,'a','b',1,'b'))"");
                System.out.println(""  f = ""+f);
                if (!f.isFactor() || f.asFactor() == null) throw new TestException(""factor test failed (not a factor)"");
                System.out.println(""PASSED"");
            }


        {
            System.out.println(""* Lowess test"");
            double x[] = c.eval(""rnorm(100)"").asDoubles();
            double y[] = c.eval(""rnorm(100)"").asDoubles();
            c.assign(""x"", x);
            c.assign(""y"", y);
            RList l = c.parseAndEval(""lowess(x,y)"").asList();
            System.out.println(""  ""+l);
            x = l.at(""x"").asDoubles();
            y = l.at(""y"").asDoubles();
            System.out.println(""PASSED"");
        }

        {
            // multi-line expressions
            System.out.println(""* Test multi-line expressions"");
            if (c.eval(""{ a=1:10\nb=11:20\nmean(b-a) }\n"").asInteger()!=10)
                throw new TestException(""multi-line test failed."");
            System.out.println(""PASSED"");
        }
        {
            System.out.println(""* Matrix tests\n  matrix: create a matrix"");
            int m=100, n=100;
            double[] mat=new double[m*n];
            int i=0;
            while (i&lt;m*n) mat[i++]=i/100;
            System.out.println(""  matrix: assign a matrix"");
            c.assign(""m"", mat);
            c.voidEval(""m&lt;-matrix(m,""+m+"",""+n+"")"");
            System.out.println(""matrix: cross-product"");
            double[][] mr=c.parseAndEval(""crossprod(m,m)"").asDoubleMatrix();
            System.out.println(""PASSED"");
        }

        {
            System.out.println(""* Test serialization and raw vectors"");
            byte[] b = c.eval(""serialize(ls, NULL, ascii=FALSE)"").asBytes();
            System.out.println(""  serialized ls is ""+b.length+"" bytes long"");
            c.assign(""r"", new REXPRaw(b));
            String[] s = c.eval(""unserialize(r)()"").asStrings();
            System.out.println(""  we have ""+s.length+"" items in the workspace"");
            System.out.println(""PASSED"");
        }


        { // string encoding test (will work with Rserve 0.5-3 and higher only)
            System.out.println(""* Test string encoding support ..."");
            String t = ""ひらがな""; // hiragana (literally, in hiragana ;))
            c.setStringEncoding(""utf8"");
            // -- Just in case the console is not UTF-8 don't display it
            //System.out.println(""  unicode text: ""+t);
            c.assign(""s"", t);
            REXP x = c.parseAndEval(""nchar(s)"");
            System.out.println(""  nchar = "" + x);
            if (x == null || !x.isInteger() || x.asInteger() != 4)
                throw new TestException(""UTF-8 encoding string length test failed"");
            // we cannot really test any other encoding ..
            System.out.println(""PASSED"");
        }

        } catch (RserveException rse) {
        System.out.println(rse);
    } catch (REXPMismatchException mme) {
        System.out.println(mme);
        mme.printStackTrace();
        } catch(TestException te) {
            System.err.println(""** Test failed: ""+te.getMessage());
            te.printStackTrace();
    } catch (Exception e) {
        e.printStackTrace();
    }
    }
}
</code></pre>
","","njtorrance","","njtorrance","2009-07-29 23:50:16","2009-07-30 13:46:24","How to connect to R with Java (using Eclipse)","<java><eclipse><r>","3","0","3","","","CC BY-SA 2.5","1203662","4452","4452","r","404559","3625322","3607736","",""
"1208627","1","","","2009-07-30 18:59:05","","4","3839","<p>is there a good library on the market to visualize big datas in Java. Maybe a library for statistical outputs. I know the programming language R to visualize statistical data in R. I also have seen a solution to connect Java and R. It would be better if a have a pure Java solution. </p>
","142405","","47875","","2009-07-30 19:06:33","2009-08-07 19:37:51","Visualizing Data in Java","<java><r><statistics><data-visualization>","7","3","5","","","CC BY-SA 2.5","1208627","4452","4452","r","404559","3625322","3607736","",""
"1213783","1","1214401","","2009-07-31 17:17:08","","6","1056","<p>I am writing a function that takes two variables and separately regresses each of them on a set of controls expressed as a one-sided formula. Right now I'm using the following to make the formula for one of the regressions, but it feels a bit hacked-up:</p>

<pre><code>foo &lt;- function(x, y, controls) {
    cl &lt;- match.call()
    xn &lt;- cl[[""x""]]
    xf &lt;- as.formula(paste(xn, deparse(controls)))
}
</code></pre>

<p>I'd prefer to do this using <code>update.formula()</code>, but of course <code>update.formula(controls, x ~ .)</code> and <code>update.formula(controls, as.name(x) ~ .)</code> don't work. What should I be doing?</p>
","143383","","","","","2009-07-31 19:25:47","Using function arguments in update.formula","<r>","2","0","","","","CC BY-SA 2.5","1213783","4452","4452","r","404559","3625322","3607736","",""
"1219480","1","1219781","","2009-08-02 18:25:39","","2","4256","<p>I'd like to know if anybody can provide a step-by-step how to on how to use mediation analysis using <a href=""http://imai.princeton.edu/software/mediation.html"" rel=""nofollow noreferrer"">Keele, Tingley, Yamamoto and Imai's mediation package</a>. I think there are two approaches to this - <a href=""http://www.public.asu.edu/~davidpm/classes/psy536/Baron.pdf"" rel=""nofollow noreferrer"">the classic Baron and Kenny (1986)</a> and the new one by <a href=""http://kuscholarworks.ku.edu/dspace/bitstream/1808/1658/1/preacher_rucker_hayes_2007.pdf"" rel=""nofollow noreferrer"">Preacher, Rucker and Hayes (2007)</a> - I'd like to know how to do both approaches in R</p>
","64253","","1217536","","2013-08-19 17:09:24","2015-08-06 01:02:53","Step-by-Step How-to on Mediation Analysis in R","<r><algorithm><statistics>","2","0","2","","","CC BY-SA 3.0","1219480","4452","4452","r","404559","3625322","3607736","",""
"1223904","1","1223948","","2009-08-03 18:32:05","","3","1475","<p>In the past I have used a DCOM connection to call R functions from Excel and from VBA inside of Excel. I just got a new laptop and have been looking for the install files for the R add in for Excel. I find references to it all over the place but they all point to R (D)COM Server project's home page at <a href=""http://sunsite.univie.ac.at/rcom"" rel=""nofollow noreferrer"">http://sunsite.univie.ac.at/rcom</a>. That URL has been down now for some time. Is there another way to get the same functionality with another method? Is there a new project page? </p>

<p>I've never tried to use the DCOM server without the Excel Add-in. Is that a possibility?</p>
","37751","","","","","2009-08-04 15:04:09","Hooking R from within Excel - DCOM? R add in for Excel?","<excel><r><dcom>","1","0","1","","","CC BY-SA 2.5","1223904","4452","4452","r","404559","3625322","3607736","",""
"1231195","1","1233157","","2009-08-05 04:30:49","","111","57293","<p>I (sort of) already know the answer to this question.  But I figured it is one that gets asked so frequently on the R Users list, that there should be one solid good answer.  <strong>To the best of my knowledge there is no multiline comment functionality in R.  So, does anyone have any good workarounds?</strong></p>

<p>While quite a bit of work in R usually involves interactive sessions (which casts doubt on the need for multiline comments), there are times when I've had to send scripts to colleagues and classmates, much of which involves nontrivial blocks of code.  And for people coming from other languages it is a fairly natural question.  </p>

<p>In the past I've used quotes. Since strings support linebreaks, running an R script with</p>

<pre><code>""
Here's my multiline comment.

""
a &lt;- 10
rocknroll.lm &lt;- lm(blah blah blah)
 ...
</code></pre>

<p>works fine.  Does anyone have a better solution?</p>
","144601","","1312519","","2016-01-27 11:33:28","2020-12-17 13:41:04","Multiline Comment Workarounds?","<r><comments><r-faq>","11","0","35","","","CC BY-SA 3.0","1231195","4452","4452","r","404559","3625322","3607736","",""
"1233948","1","1259268","","2009-08-05 15:18:21","","1","9215","<p>I have <a href=""http://rss.acs.unt.edu/Rdoc/library/coin/html/LocationTests.html"" rel=""nofollow noreferrer"">this example</a> from the coin package of R:</p>

<pre><code>  library(coin)
  library(multcomp)
  ### Length of YOY Gizzard Shad from Kokosing Lake, Ohio,
  ### sampled in Summer 1984, Hollander &amp; Wolfe (1999), Table 6.3, page 200
  YOY &lt;- data.frame(length = c(46, 28, 46, 37, 32, 41, 42, 45, 38, 44, 
                               42, 60, 32, 42, 45, 58, 27, 51, 42, 52, 
                               38, 33, 26, 25, 28, 28, 26, 27, 27, 27, 
                               31, 30, 27, 29, 30, 25, 25, 24, 27, 30),
                    site = factor(c(rep(""I"", 10), rep(""II"", 10),
                                    rep(""III"", 10), rep(""IV"", 10))))

  ### Nemenyi-Damico-Wolfe-Dunn test (joint ranking)
  ### Hollander &amp; Wolfe (1999), page 244 
  ### (where Steel-Dwass results are given)
  NDWD &lt;- oneway_test(length ~ site, data = YOY,
      ytrafo = function(data) trafo(data, numeric_trafo = rank),
      xtrafo = function(data) trafo(data, factor_trafo = function(x)
          model.matrix(~x - 1) %*% t(contrMat(table(x), ""Tukey""))),
      teststat = ""max"", distribution = approximate(B = 90000))

  ### global p-value
  print(pvalue(NDWD))

  ### sites (I = II) != (III = IV) at alpha = 0.01 (page 244)
  print(pvalue(NDWD, method = ""single-step""))
</code></pre>

<p>I want to assign alpha a different value, how can I do this??</p>

<p>This doesn't work!</p>

<pre><code>  library(coin)
  library(multcomp)
  ### Length of YOY Gizzard Shad from Kokosing Lake, Ohio,
  ### sampled in Summer 1984, Hollander &amp; Wolfe (1999), Table 6.3, page 200
  YOY &lt;- data.frame(length = c(46, 28, 46, 37, 32, 41, 42, 45, 38, 44, 
                               42, 60, 32, 42, 45, 58, 27, 51, 42, 52, 
                               38, 33, 26, 25, 28, 28, 26, 27, 27, 27, 
                               31, 30, 27, 29, 30, 25, 25, 24, 27, 30),
                    site = factor(c(rep(""I"", 10), rep(""II"", 10),
                                    rep(""III"", 10), rep(""IV"", 10))))

  ### Nemenyi-Damico-Wolfe-Dunn test (joint ranking)
  ### Hollander &amp; Wolfe (1999), page 244 
  ### (where Steel-Dwass results are given)
  NDWD &lt;- oneway_test(length ~ site, data = YOY,
      ytrafo = function(data) trafo(data, numeric_trafo = rank),
      xtrafo = function(data) trafo(data, factor_trafo = function(x)
          model.matrix(~x - 1) %*% t(contrMat(table(x), ""Tukey""))),
      teststat = ""max"", distribution = approximate(B = 90000),
      alpha = 0.05)

  ### global p-value
  print(pvalue(NDWD))

  ### sites (I = II) != (III = IV) at alpha = 0.05 (default was 0.01) (page 244)
  print(pvalue(NDWD, method = ""single-step""))
</code></pre>
","112882","","112882","","2009-08-08 23:46:02","2016-12-01 18:29:06","How to set alpha in R?","<r><statistics><variable-assignment>","2","2","","","","CC BY-SA 2.5","1233948","4452","4452","r","404559","3625322","3607736","",""
"1236620","1","1236721","","2009-08-06 02:03:00","","159","156985","<p>I am poking into the manuals, I wanted to ask the community:
How can we set global variables inside a function?</p>
","70702","","25282","","2018-11-22 09:54:41","2020-08-19 12:44:48","Global variables in R","<r><global-variables><variable-assignment>","3","0","35","","","CC BY-SA 4.0","1236620","4452","4452","r","404559","3625322","3607736","",""
"1238250","1","1241463","","2009-08-06 11:13:22","","1","1365","<p>I'm looking at the <a href=""http://bm2.genes.nig.ac.jp/RGM2/R_current/library/psych/man/00.psych-package.html"" rel=""nofollow noreferrer"">psych package</a> and the <a href=""http://www.personality-project.org/R/html/VSS.html"" rel=""nofollow noreferrer"">VSS tutorial</a>, do I simply replace VSS with MAP? Like this:</p>

<pre><code>MAP(x, n = 8, rotate = ""varimax"", diagonal = FALSE, fm = ""pa"", n.obs=NULL,plot=TRUE,title=""Very Simple Structure"",...)
</code></pre>

<p>or is there another way to do this?</p>

<p>I've doing factor analysis right now and I'm using the elbow method on a scree plot. I'm trying to see if I can try to use Velicer's MAP criterion also</p>
","64253","","680068","","2017-12-22 11:10:03","2017-12-22 11:10:03","Implement Velicer's MAP criterion","<algorithm><r><statistics>","3","0","","","","CC BY-SA 3.0","1238250","4452","4452","r","404559","3625322","3607736","",""
"1238933","1","1238981","","2009-08-06 13:35:24","","6","1287","<p>Realizing that loops are usually not ideal in R, sometimes they are necessary.</p>

<p>When writing large loops, doesn't </p>

<pre><code>for (i in 1:large_number) 
</code></pre>

<p>waste memory, since a vector of size large_number must be created?</p>

<p>Would this make while loops the best choice for large, necessary loops?</p>
","23929","","","","","2009-08-06 13:58:01","Should ""while loops"" be preferred to ""for loops"" for large, necessary loops in R?","<r><loops><for-loop><while-loop>","1","0","2","","","CC BY-SA 2.5","1238933","4452","4452","r","404559","3625322","3607736","",""
"1241184","1","1241558","","2009-08-06 20:23:56","","6","2136","<p>If I create a plotting window in R with m rows and n columns, how can I give the ""overall"" graphic a main title?</p>

<p>For example, I might have three scatterplots showing the relationship between GPA and SAT score for 3 different schools. How could I give one master title to all three plots, such as, ""SAT score vs. GPA for 3 schools in CA""?</p>
","144278","","","","","2009-08-07 16:55:30","Overall Title for Plotting Window","<graphics><r><statistics>","2","0","1","","","CC BY-SA 2.5","1241184","4452","4452","r","404559","3625322","3607736","",""
"1245273","1","1245337","","2009-08-07 15:02:34","","79","102981","<p>I'm trying to generate a histogram in R with a logarithmic scale for y. Currently I do:</p>

<pre><code>hist(mydata$V3, breaks=c(0,1,2,3,4,5,25))
</code></pre>

<p>This gives me a histogram, but the density between 0 to 1 is so great (about a million values difference) that you can barely make out any of the other bars.</p>

<p>Then I've tried doing:</p>

<pre><code>mydata_hist &lt;- hist(mydata$V3, breaks=c(0,1,2,3,4,5,25), plot=FALSE)
plot(rpd_hist$counts, log=""xy"", pch=20, col=""blue"")
</code></pre>

<p>It gives me sorta what I want, but the bottom shows me the values 1-6 rather than 0, 1, 2, 3, 4, 5, 25.  It's also showing the data as points rather than bars. <code>barplot</code> works but then I don't get any bottom axis.</p>
","101927","","2204410","","2017-06-01 19:20:19","2017-09-30 22:07:45","Histogram with Logarithmic Scale and custom breaks","<r><histogram><logarithm>","7","1","12","","","CC BY-SA 3.0","1245273","4452","4452","r","404559","3625322","3607736","",""
"1246244","1","1246489","","2009-08-07 18:14:19","","9","5657","<p>I'm trying to normalize some data which I have in a data frame. I want to take each value and run it through the pnorm function along with the mean and standard deviation of the column the value lives in. Using loops, here's how I would write out what I want to do:</p>

<pre><code>#example data
hist_data &lt;- data.frame( matrix( rnorm( 200,mean=5,sd=.5 ),nrow=20 ) )

n &lt;- dim( hist_data )[2] #columns=10
k &lt;- dim( hist_data )[1] #rows   =20

#set up the data frame which we will populate with a loop
normalized &lt;- data.frame( matrix( nrow = nrow( hist_data ), ncol = ncol( hist_data ) ) )

#hot loop in loop action
for ( i in 1:n ){
   for ( j in 1:k ){
      normalized[j,i] &lt;- pnorm( hist_data[j,i], 
                                mean = mean( hist_data[,i] ), 
                                sd = sd( hist_data[,i] ) )
   }  
}
normalized
</code></pre>

<p>It seems that in R there should be a handy dandy vector way of doing this. I thought I was smart so tried using the apply function:</p>

<pre><code>#trouble ahead
hist_data &lt;- data.frame( matrix( rnorm( 200, mean = 5,sd = .5 ), nrow=10 ) )
normalized &lt;- apply( hist_data, 2, pnorm, mean = mean( hist_data ), sd = sd( hist_data ) )
normalized
</code></pre>

<p>Much to my chagrin, that does NOT produce what I expected. The upper left and bottom right elements of the output are correct, but that's it. So how can I de-loopify my life? </p>

<p>Bonus points if you can tell me what my second code block is actually doing. Kind of a mystery to me still. :)</p>
","37751","","429846","","2013-04-10 02:32:38","2013-04-10 02:32:38","Applying pnorm to columns of a data frame","<r><loops><apply>","1","3","3","","","CC BY-SA 3.0","1246244","4452","4452","r","404559","3625322","3607736","",""
"1249548","1","3935554","","2009-08-08 18:16:43","","385","471843","<p>I would like to place two plots side by side using the <a href=""http://crantastic.org/packages/ggplot2"" rel=""noreferrer"">ggplot2 package</a>, i.e. do the equivalent of <code>par(mfrow=c(1,2))</code>.</p>

<p>For example, I would like to have the following two plots show side-by-side with the same scale.</p>

<pre><code>x &lt;- rnorm(100)
eps &lt;- rnorm(100,0,.2)
qplot(x,3*x+eps)
qplot(x,2*x+eps)
</code></pre>

<p>Do I need to put them in the same data.frame?</p>

<pre><code>qplot(displ, hwy, data=mpg, facets = . ~ year) + geom_smooth()
</code></pre>
","84458","","3304471","","2016-12-22 05:41:50","2021-01-31 15:13:01","Side-by-side plots with ggplot2","<r><visualization><ggplot2>","13","4","185","","","CC BY-SA 3.0","1249548","4452","4452","r","404559","3625322","3607736","",""
"1252546","1","1252684","","2009-08-09 23:00:23","","18","8275","<pre><code>862 2006-05-19 6.241603 5.774208     
863 2006-05-20 NA       NA      
864 2006-05-21 NA       NA      
865 2006-05-22 6.383929 5.906426      
866 2006-05-23 6.782068 6.268758      
867 2006-05-24 6.534616 6.013767      
868 2006-05-25 6.370312 5.856366      
869 2006-05-26 6.225175 5.781617      
870 2006-05-27 NA       NA     
</code></pre>

<p>I have a data frame x like above with some NA, which i want to fill using neighboring non-NA values like for 2006-05-20 it will be avg of 19&amp;22 </p>

<p>How do it is the question?</p>
","153440","","1129408","","2017-03-19 01:31:06","2019-10-08 13:04:20","How to replace NA (missing values) in a data frame with neighbouring values","<r><missing-data><imputation><locf>","3","1","14","","","CC BY-SA 3.0","1252546","4452","4452","r","404559","3625322","3607736","",""
"1256347","1","1256560","","2009-08-10 18:08:30","","9","9077","<p>I have some data in CSV like:</p>

<pre><code>""Timestamp"", ""Count""
""2009-07-20 16:30:45"", 10
""2009-07-20 16:30:45"", 15
""2009-07-20 16:30:46"", 8
""2009-07-20 16:30:46"", 6
""2009-07-20 16:30:46"", 8
""2009-07-20 16:30:47"", 20
</code></pre>

<p>I can read it into R using read.cvs. I'd like to plot:</p>

<ol>
<li>Number of entries per second, so:

<pre>
""2009-07-20 16:30:45"", 2
""2009-07-20 16:30:46"", 3
""2009-07-20 16:30:47"", 1
</pre></li>
<li>Average value per second:

<pre>
""2009-07-20 16:30:45"", 12.5
""2009-07-20 16:30:46"", 7.333
""2009-07-20 16:30:47"", 20
</pre></li>
<li>Same as 1 &amp; 2 but then by Minute and then by Hour.</li>
</ol>

<p>Is there some way to do this (collect by second/min/etc &amp; plot) in R? </p>
","138470","","","","","2016-04-19 19:59:29","Plot time data in R to various resolutions (to the minute, to the hour, to the second, etc.)","<r><time><statistics><plot>","2","0","12","","","CC BY-SA 2.5","1256347","4452","4452","r","404559","3625322","3607736","",""
"1259867","1","1260696","","2009-08-11 11:45:35","","10","11184","<p>Here I make a new column to indicate whether myData is above or below its median</p>

<pre><code>### MedianSplits based on Whole Data
#create some test data
myDataFrame=data.frame(myData=runif(15),myFactor=rep(c(""A"",""B"",""C""),5)) 

#create column showing median split
myBreaks= quantile(myDataFrame$myData,c(0,.5,1))
myDataFrame$MedianSplitWholeData = cut(
    myDataFrame$myData,
    breaks=myBreaks, 
    include.lowest=TRUE,
    labels=c(""Below"",""Above""))

#Check if it's correct
myDataFrame$AboveWholeMedian = myDataFrame$myData &gt; median(myDataFrame$myData)
myDataFrame
</code></pre>

<p>Works fine. Now I want to do the same thing, but compute the median splits within each level of myFactor.</p>

<p>I've come up with this:</p>

<pre><code>#Median splits within factor levels
byOutput=by(myDataFrame$myData,myDataFrame$myFactor, function (x) {
     myBreaks= quantile(x,c(0,.5,1))
     MedianSplitByGroup=cut(x,
       breaks=myBreaks, 
       include.lowest=TRUE,
       labels=c(""Below"",""Above""))
     MedianSplitByGroup
     })
</code></pre>

<p>byOutput contains what I want. It categorizes each element of factors A, B, and C correctly. However I'd like to create a new column, myDataFrame$FactorLevelMedianSplit, that shows the newly-computed median split.</p>

<p>How do you convert the output of the ""by"" command into a useful data-frame column?</p>

<p>I think perhaps the ""by"" command is not R-like way to do this ... </p>

<p><strong>Update</strong>:</p>

<p>With Thierry's example of how to use factor() cleverly, and upon discovering the ""ave"" function in Spector's book, I've found this solution, which requires no additional packages.</p>

<pre><code>myDataFrame$MediansByFactor=ave(
    myDataFrame$myData,
    myDataFrame$myFactor,
    FUN=median)

myDataFrame$FactorLevelMedianSplit = factor(
    myDataFrame$myData&gt;myDataFrame$MediansByFactor, 
    levels = c(TRUE, FALSE), 
    labels = c(""Above"", ""Below""))
</code></pre>
","23929","","1013393","","2013-12-07 10:22:30","2020-02-12 03:37:06","How to do median splits within factor levels in R?","<r><dataframe><median>","3","1","3","","","CC BY-SA 2.5","1259867","4452","4452","r","404559","3625322","3607736","",""
"1260965","1","1261288","","2009-08-11 15:06:53","","59","27576","<p>There are clearly a number of packages in R for all sorts of spatial analysis. That can by seen in the <a href=""http://cran.r-project.org/web/views/Spatial.html"" rel=""noreferrer"">CRAN Task View: Analysis of Spatial Data</a>. These packages are numerous and diverse, but all I want to do is some simple <a href=""http://images.google.com/images?q=thematic+map&amp;oe=utf-8&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a&amp;um=1&amp;ie=UTF-8&amp;ei=EYiBSqywF5TYNZW8sJ0L&amp;sa=X&amp;oi=image_result_group&amp;ct=title&amp;resnum=4"" rel=""noreferrer"">thematic maps</a>. I have data with county and state FIPS codes and I have ESRI shape files of county and state boundaries and the accompanying FIPS codes which allows joining with the data. The shape files could be easily converted to other formats, if needed. </p>

<p>So what's the most straight forward way to create thematic maps with R? </p>

<p>This map looks like it was created with an ESRI Arc product, but this is the type of thing I would like to do with R:</p>

<p><a href=""http://www.infousagov.com/images/choro.jpg"" rel=""noreferrer"">alt text http://www.infousagov.com/images/choro.jpg</a> Map <a href=""http://www.infousagov.com/thematicmap.asp"" rel=""noreferrer"">copied from here</a>. </p>
","37751","","37751","","2009-08-11 15:16:31","2019-04-13 07:48:37","Developing Geographic Thematic Maps with R","<r><map><geolocation><geospatial>","6","6","71","","","CC BY-SA 2.5","1260965","4452","4452","r","404559","3625322","3607736","",""
"1262911","1","","","2009-08-11 21:04:53","","1","454","<p>I am loading a table in which the first column is a URL and reading it into R using <code>read.table()</code>.  </p>

<p>It seems that R is dropping about 1/3 of the columns and does not return any errors.  </p>

<p>The URLs do not contain any <code>#</code> characters or tabs (my separator field), which I understand could be an issue.  If I convert the URLs to integer IDs first, the problem goes away.</p>

<p>Is there something about the field that might be causing R to drop the rows?</p>
","","Eytan","1270695","","2015-12-17 05:49:52","2015-12-17 05:52:23","Rows being dropped in R with read.table?","<r><read.table>","2","1","1","","","CC BY-SA 3.0","1262911","4452","4452","r","404559","3625322","3607736","",""
"1265129","1","1265157","","2009-08-12 09:22:08","","13","2150","<p>Let's say you have this data in R, and you want to post a question on stackoverflow. For others to best help you, it would be nice if they could have a copy of your object (dataframe, vector, etc) to work with.</p>

<p>Let's say your data is in a data frame called site.data</p>

<pre><code>&gt; site.data
    site year     peak
1  ALBEN    5 101529.6
2  ALBEN   10 117483.4
3  ALBEN   20 132960.9
8  ALDER    5   6561.3
9  ALDER   10   7897.1
10 ALDER   20   9208.1
15 AMERI    5  43656.5
16 AMERI   10  51475.3
17 AMERI   20  58854.4
</code></pre>

<p>How do you package it up so that the users can recreate the data exactly as you have it? </p>

<p>You want to do this without having people download a text file and import it.  </p>

<p>(Note: These data subsetted from an example of the REvolutions blog)</p>
","23929","","23929","","2009-08-12 12:08:51","2010-08-12 09:30:53","How to export the definition of an R object to plain text so that others can recreate it?","<r><export><structure><definition>","3","1","12","","","CC BY-SA 2.5","1265129","4452","4452","r","404559","3625322","3607736","",""
"1266279","1","1266400","","2009-08-12 13:50:45","","164","29014","<p>When I undertake an R project of any complexity, my scripts quickly get long and confusing. </p>

<p>What are some practices I can adopt so that my code will always be a pleasure to work with? I'm thinking about things like</p>

<ul>
<li>Placement of functions in source files</li>
<li>When to break something out to another source file</li>
<li>What should be in the master file</li>
<li>Using functions as organizational units (whether this is worthwhile given that R makes it hard to access global state)</li>
<li>Indentation / line break practices. 

<ul>
<li>Treat ( like {? </li>
<li>Put things like )} on 1 or 2 lines?</li>
</ul></li>
</ul>

<p>Basically, what are your rules of thumb for organizing large R scripts?</p>
","23929","","202229","","2014-11-23 03:03:44","2021-02-06 09:45:50","How to organize large R programs?","<r><package><conventions><code-organization><project-organization>","11","2","148","","","CC BY-SA 2.5","1266279","4452","4452","r","404559","3625322","3607736","",""
"1269624","1","1269719","","2009-08-13 01:44:56","","107","240769","<p>I have a data.frame with column headers. </p>

<p>How can I get a specific row from the data.frame as a list (with the column headers as keys for the list)?</p>

<p>Specifically, my data.frame is </p>

<pre>
      A    B    C
    1 5    4.25 4.5
    2 3.5  4    2.5
    3 3.25 4    4
    4 4.25 4.5  2.25
    5 1.5  4.5  3
</pre>

<p>And I want to get a row that's the equivalent of</p>

<pre><code>&gt; c(a=5, b=4.25, c=4.5)
  a   b   c 
5.0 4.25 4.5 
</code></pre>
","32978","","3604745","","2016-11-29 06:18:54","2020-08-06 10:18:55","How to get row from R data.frame","<r><indexing><dataframe>","5","0","13","","","CC BY-SA 3.0","1269624","4452","4452","r","404559","3625322","3607736","",""
"1274171","1","1321476","","2009-08-13 19:46:34","","14","21363","<p>After learning about the <a href=""https://stackoverflow.com/questions/1167448/most-mature-sparse-matrix-package-for-r"">options for working with sparse matrices in R</a>, I want to use the <a href=""http://cran.r-project.org/web/packages/Matrix/index.html"" rel=""nofollow noreferrer"">Matrix</a> package to create a sparse matrix from the following data frame and have all other elements be <code>NA</code>.</p>

<pre><code>     s    r d
1 1089 3772 1
2 1109  190 1
3 1109 2460 1
4 1109 3071 2
5 1109 3618 1
6 1109   38 7
</code></pre>

<p>I know I can create a sparse matrix with the following, accessing elements as usual:</p>

<pre><code>&gt; library(Matrix)
&gt; Y &lt;- sparseMatrix(s,r,x=d)
&gt; Y[1089,3772]
[1] 1
&gt; Y[1,1]
[1] 0
</code></pre>

<p>but if I want to have the default value to be NA, I tried the following:</p>

<pre><code>  M &lt;- Matrix(NA,max(s),max(r),sparse=TRUE)
  for (i in 1:nrow(X))
    M[s[i],r[i]] &lt;- d[i]
</code></pre>

<p>and got this error</p>

<pre><code>Error in checkSlotAssignment(object, name, value) : 
  assignment of an object of class ""numeric"" is not valid for slot ""x"" in an object of class ""lgCMatrix""; is(value, ""logical"") is not TRUE
</code></pre>

<p>Not only that, I find that one takes much longer to access to elements.</p>

<pre><code>&gt; system.time(Y[3,3])
   user  system elapsed 
  0.000   0.000   0.003 
&gt; system.time(M[3,3])
   user  system elapsed 
  0.660   0.032   0.995 
</code></pre>

<p>How should I be creating this matrix?  Why is one matrix so much slower to work with?</p>

<p>Here's the code snippet for the above data:</p>

<pre><code>X &lt;- structure(list(s = c(1089, 1109, 1109, 1109, 1109, 1109), r = c(3772, 
190, 2460, 3071, 3618, 38), d = c(1, 1, 1, 2, 1, 7)), .Names = c(""s"", 
""r"", ""d""), row.names = c(NA, 6L), class = ""data.frame"")
</code></pre>
","84458","","-1","","2017-05-23 12:07:13","2015-03-20 08:58:51","Creating (and Accessing) a Sparse Matrix with NA default entries","<r><default-value><sparse-matrix><na>","2","0","9","","","CC BY-SA 3.0","1274171","4452","4452","r","404559","3625322","3607736","",""
"1279003","1","1279136","","2009-08-14 17:06:15","","25","74612","<p>I have a panel containing three plots. How can I use <code>par</code> to specify the width and height of the main panel so it is always at a fixed size?</p>
","144278","","","","","2018-05-20 22:59:50","Specify Width and Height of Plot","<graphics><r><par>","3","0","13","","","CC BY-SA 2.5","1279003","4452","4452","r","404559","3625322","3607736","",""
"1295955","1","1297475","","2009-08-18 19:26:27","","88","76006","<p>In order to share some more tips and tricks for <a href=""http://www.r-project.org"" rel=""nofollow noreferrer""><strong>R</strong></a>, what is your single-most useful feature or trick?  Clever vectorization?  Data input/output?  Visualization and graphics?  Statistical analysis?  Special functions?  The interactive environment itself? </p>

<p>One item per post, and we will see if we get a winner by means of votes.</p>

<p>[Edit 25-Aug 2008]:  So after one week, it seems that the simple <code>str()</code> won the poll. As I like to recommend that one myself, it is an easy answer to accept.</p>
","143305","","19679","","2017-09-25 20:52:51","2017-09-25 20:52:51","What is the most useful R trick?","<r>","34","6","379","2011-11-18 04:48:02","2009-11-08 07:33:56","CC BY-SA 2.5","1295955","4452","4452","r","404559","3625322","3607736","",""
"1296646","1","1296745","","2009-08-18 21:33:18","","1396","1262422","<p>I want to sort a data.frame by multiple columns. For example, with the data.frame below I would like to sort by column <code>z</code> (descending) then by column <code>b</code> (ascending): </p>

<pre><code>dd &lt;- data.frame(b = factor(c(""Hi"", ""Med"", ""Hi"", ""Low""), 
      levels = c(""Low"", ""Med"", ""Hi""), ordered = TRUE),
      x = c(""A"", ""D"", ""A"", ""C""), y = c(8, 3, 9, 9),
      z = c(1, 1, 1, 2))
dd
    b x y z
1  Hi A 8 1
2 Med D 3 1
3  Hi A 9 1
4 Low C 9 2
</code></pre>
","84458","","10323798","","2019-04-03 16:37:14","2020-08-20 08:38:07","How to sort a dataframe by multiple column(s)","<r><sorting><dataframe><r-faq>","19","0","580","","","CC BY-SA 4.0","1296646","4452","4452","r","404559","3625322","3607736","",""
"1297698","1","1299539","","2009-08-19 03:35:02","","3","4947","<p>I have fit a regression using lme4 thanks to a <a href=""https://stackoverflow.com/questions/1169539/linear-regression-and-group-by-in-r"">previous answer</a>. Now that I have a regression fit for each state I'd like to use lattice to plot QQ plots for each state. I would also like to plot error plots for each state in a lattice format. How do I make a lattice plot using the results of a lme4 regression? </p>

<p>Below is a simple sample (yeah, I like a good alliteration) using two states. I would like to make a two panel lattice made from the object fits. </p>

<pre><code>library(lme4)
d &lt;- data.frame(state=rep(c('NY', 'CA'), c(10, 10)), year=rep(1:10, 2), response=c(rnorm(10), rnorm(10)))
fits &lt;- lmList(response ~ year | state, data=d)
</code></pre>
","37751","","-1","","2017-05-23 12:26:43","2010-02-14 07:06:50","Plotting Regression results from lme4 in R using Lattice (or something else)","<r><linear-regression><lme4>","3","0","1","","","CC BY-SA 2.5","1297698","4452","4452","r","404559","3625322","3607736","",""
"1298100","1","1300563","","2009-08-19 06:27:14","","50","44447","<p>Is there an easy way to create a ""movie"" by stitching together several plots, within R?</p>
","144278","","","","","2020-04-04 19:00:07","Creating a Movie from a Series of Plots in R","<graphics><video><r><movieclip><movies>","7","0","41","2017-01-03 10:29:49","","CC BY-SA 2.5","1298100","4452","4452","r","404559","3625322","3607736","",""
"1299871","1","1300618","","2009-08-19 13:18:11","","1358","1409640","<p>Given two data frames:</p>

<pre><code>df1 = data.frame(CustomerId = c(1:6), Product = c(rep(""Toaster"", 3), rep(""Radio"", 3)))
df2 = data.frame(CustomerId = c(2, 4, 6), State = c(rep(""Alabama"", 2), rep(""Ohio"", 1)))

df1
#  CustomerId Product
#           1 Toaster
#           2 Toaster
#           3 Toaster
#           4   Radio
#           5   Radio
#           6   Radio

df2
#  CustomerId   State
#           2 Alabama
#           4 Alabama
#           6    Ohio
</code></pre>

<p>How can I do database style, i.e., <a href=""http://en.wikipedia.org/wiki/Join_%28SQL%29"" rel=""noreferrer"">sql style, joins</a>? That is, how do I get:</p>

<ul>
<li>An <a href=""http://en.wikipedia.org/wiki/Join_%28SQL%29#Inner_join"" rel=""noreferrer"">inner join</a> of <code>df1</code> and <code>df2</code>:<br>
Return only the rows in which the left table have matching keys in the right table.</li>
<li>An <a href=""http://en.wikipedia.org/wiki/Join_%28SQL%29#Outer_join"" rel=""noreferrer"">outer join</a> of <code>df1</code> and <code>df2</code>:<br>
Returns all rows from both tables, join records from the left which have matching keys in the right table.</li>
<li>A <a href=""http://en.wikipedia.org/wiki/Join_%28SQL%29#Left_outer_join"" rel=""noreferrer"">left outer join (or simply left join)</a> of <code>df1</code> and <code>df2</code><br>
Return all rows from the left table, and any rows with matching keys from the right table.</li>
<li>A <a href=""http://en.wikipedia.org/wiki/Join_%28SQL%29#Right_outer_join"" rel=""noreferrer"">right outer join</a> of <code>df1</code> and <code>df2</code><br>
Return all rows from the right table, and any rows with matching keys from the left table.</li>
</ul>

<hr>

<p><strong>Extra credit:</strong></p>

<p>How can I do a SQL style select statement?</p>
","23929","","806202","","2020-04-19 11:19:18","2020-04-19 11:19:18","How to join (merge) data frames (inner, outer, left, right)","<r><join><merge><dataframe><r-faq>","13","4","751","","","CC BY-SA 4.0","1299871","4452","4452","r","404559","3625322","3607736","",""
"1300575","1","1300949","","2009-08-19 15:09:30","","11","3018","<p>Formulas are a very useful feature of R's statistical and graphical functions. Like everyone, I am a user of these functions. However, I have never written a function that takes a formula object as an argument. I was wondering if someone could help me, by either linking to a readable introduction to this side of R programming, or by giving a self-contained example.</p>
","143813","","1953718","","2021-01-14 08:43:52","2021-01-14 08:43:52","Formulas in user-defined functions in R","<r><r-formula>","1","0","3","","","CC BY-SA 2.5","1300575","4452","4452","r","404559","3625322","3607736","",""
"1301759","1","1302334","","2009-08-19 18:24:23","","4","1653","<p><strong>Note:</strong> <em>I changed the example from when I first posted. My first example was too simplified to capture the real problem.</em> </p>

<p>I have two data frames which are sorted differently in one column. I want to match one column and then merge in the value from the second column. The second column needs to stay in the same order. </p>

<p>So I have this:</p>

<pre><code>state&lt;-c(""IA"",""IA"",""IA"",""IL"",""IL"",""IL"")
value1&lt;-c(1,2,3,4,5,6)
s1&lt;-data.frame(state,value1)
state&lt;-c(""IL"",""IL"",""IL"",""IA"",""IA"",""IA"")
value2&lt;-c(3,4,5,6,7,8)
s2&lt;-data.frame(state,value2)

s1
s2
</code></pre>

<p>which returns this:</p>

<pre><code>&gt; s1
  state value1
1    IA      1
2    IA      2
3    IA      3
4    IL      4
5    IL      5
6    IL      6
&gt; s2
  state value2
1    IL      3
2    IL      4
3    IL      5
4    IA      6
5    IA      7
6    IA      8
</code></pre>

<p>and I want this:</p>

<pre><code>  state value1 value2
1    IA      1      6
2    IA      2      7
3    IA      3      8
4    IL      4      3
5    IL      5      4
6    IL      6      5
</code></pre>

<p>I'm about to drive myself silly trying to solve this. Seems like it should be a simple subscript problem. </p>
","37751","","37751","","2009-08-19 19:37:48","2011-03-21 03:04:44","Mixed Merge in R - Subscript solution?","<r><merge><subscript>","2","2","5","","","CC BY-SA 2.5","1301759","4452","4452","r","404559","3625322","3607736","",""
"1309263","1","","","2009-08-20 22:50:43","","121","52183","<p>I am currently working on an algorithm to implement a rolling median filter (analogous to a rolling mean filter) in C. From my search of the literature, there appear to be two reasonably efficient ways to do it. The first is to sort the initial window of values, then perform a binary search to insert the new value and remove the existing one at each iteration.</p>

<p>The second (from Hardle and Steiger, 1995, JRSS-C, Algorithm 296) builds a double-ended heap structure, with a maxheap on one end, a minheap on the other, and the median in the middle. This yields a linear-time algorithm instead of one that is O(n log n).</p>

<p>Here is my problem: implementing the former is doable, but I need to run this on millions of time series, so efficiency matters a lot. The latter is proving very difficult to implement. I found code in the Trunmed.c file of the code for the stats package of R, but it is rather indecipherable.</p>

<p>Does anyone know of a well-written C implementation for the linear time rolling median algorithm?</p>

<p>Edit: Link to Trunmed.c code <a href=""http://google.com/codesearch/p?hl=en&amp;sa=N&amp;cd=1&amp;ct=rc#mYw3h_Lb_e0/R-2.2.0/src/library/stats/src/Trunmed.c"" rel=""noreferrer"">http://google.com/codesearch/p?hl=en&amp;sa=N&amp;cd=1&amp;ct=rc#mYw3h_Lb_e0/R-2.2.0/src/library/stats/src/Trunmed.c</a></p>
","143141","","376138","","2017-07-13 21:25:36","2021-02-05 10:04:07","Rolling median algorithm in C","<c><algorithm><r><statistics><median>","13","7","62","","","CC BY-SA 3.0","1309263","4452","4452","r","404559","3625322","3607736","",""
"1310247","1","1311620","","2009-08-21 05:45:34","","26","13205","<p>Many intro R books and guides start off with the practice of attaching a <code>data.frame</code> so that you can call the variables by name. I have always found it favorable to call variables with <code>$</code> notation or square bracket slicing <code>[,2]</code>. That way I can use multiple <code>data.frame</code>s without confusing them and/or use iteration to successively call columns of interest. I noticed Google recently posted <a href=""http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html"" rel=""nofollow noreferrer"">coding guidelines for R</a> which included the line</p>

<blockquote>
  <p>1) attach: avoid using it </p>
</blockquote>

<p>How do people feel about this practice?</p>
","76235","","4205652","","2016-03-07 21:27:30","2016-09-27 17:57:10","Do you use attach() or call variables by name or slicing?","<r><coding-style>","7","0","11","","","CC BY-SA 3.0","1310247","4452","4452","r","404559","3625322","3607736","",""
"1311920","1","1313568","","2009-08-21 13:23:57","","11","18712","<p>What is the most efficient way to make a matrix of lagged variables in R for an arbitrary variable (i.e. not a regular time series)</p>

<p>For example:</p>

<p><strong><em>Input</em></strong>:</p>

<pre><code>x &lt;- c(1,2,3,4) 
</code></pre>

<p><strong><em>2 lags, output</em></strong>:</p>

<pre><code>[1,NA, NA]
[2, 1, NA]
[3, 2,  1]
[4, 3,  2]
</code></pre>
","160794","","5414452","","2015-12-24 11:58:25","2015-12-24 11:58:25","Lagging Variables in R","<r><time-series>","4","0","12","","","CC BY-SA 3.0","1311920","4452","4452","r","404559","3625322","3607736","",""
"1312865","1","1312929","","2009-08-21 16:06:26","","7","2248","<p>How do I limit the number of panels shown on a single page using lattice? I am graphing the results of a regression for multiple states and putting 50 of these on a single page makes them unreadable. I would like to limit the output to 4 wide and as many tall as needed. </p>

<p>Here's my lattice code:</p>

<pre><code>xyplot(Predicted_value + Actual_value ~ x_value | State_CD, data=dd)
</code></pre>

<p>There are 50 different values for State_CD</p>
","37751","","61027","","2009-08-21 16:27:07","2009-08-21 16:27:07","Controlling the number of panels in a lattice plot with R","<r><plot><lattice>","1","0","","","","CC BY-SA 2.5","1312865","4452","4452","r","404559","3625322","3607736","",""
"1313954","1","1314342","","2009-08-21 19:58:39","","18","29167","<p>I've been experimenting with both <code>ggplot2</code> and <code>lattice</code> to graph panels of data. I'm having a little trouble wrapping my mind around the <code>ggplot2</code> model. In particular, how do I plot a scatter plot with two sets of data on each panel:</p>

<p>in <code>lattice</code> I could do this:</p>

<pre><code>xyplot(Predicted_value + Actual_value ~ x_value | State_CD, data=dd)
</code></pre>

<p>and that would give me a panel for each State_CD with each column</p>

<p>I can do one column with <code>ggplot2</code>: </p>

<pre><code>pg &lt;- ggplot(dd, aes(x_value, Predicted_value)) + geom_point(shape = 2) 
      + facet_wrap(~ State_CD) + opts(aspect.ratio = 1)
print(pg)
</code></pre>

<p>What I can't grok is how to add Actual_value to the ggplot above. </p>

<p><strong>EDIT</strong> Hadley pointed out that this really would be easier with a reproducible example. Here's code that seems to work. Is there a better or more concise way to do this with ggplot? Why is the syntax for adding another set of points to ggplot so different from adding the first set of data?</p>

<pre><code>library(lattice)
library(ggplot2)

#make some example data
dd&lt;-data.frame(matrix(rnorm(108),36,3),c(rep(""A"",24),rep(""B"",24),rep(""C"",24)))
colnames(dd) &lt;- c(""Predicted_value"", ""Actual_value"", ""x_value"", ""State_CD"")

#plot with lattice
xyplot(Predicted_value + Actual_value ~ x_value | State_CD, data=dd)

#plot with ggplot
pg &lt;- ggplot(dd, aes(x_value, Predicted_value)) + geom_point(shape = 2) + facet_wrap(~ State_CD) + opts(aspect.ratio = 1)
print(pg)

pg + geom_point(data=dd,aes(x_value, Actual_value,group=State_CD), colour=""green"")
</code></pre>

<p>The lattice output looks like this:
<a href=""https://i.stack.imgur.com/G6rf7.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/G6rf7.png"" alt=""alt text""></a><br>
<sub>(source: <a href=""http://www.cerebralmastication.com/wp-content/uploads/2009/08/lattice.png"" rel=""nofollow noreferrer"">cerebralmastication.com</a>)</sub>  </p>

<p>and ggplot looks like this:
<a href=""https://i.stack.imgur.com/bQb0N.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bQb0N.png"" alt=""alt text""></a><br>
<sub>(source: <a href=""http://www.cerebralmastication.com/wp-content/uploads/2009/08/ggplot.png"" rel=""nofollow noreferrer"">cerebralmastication.com</a>)</sub>  </p>
","37751","","4751173","","2019-04-15 19:48:17","2019-04-15 19:48:23","plotting two vectors of data on a GGPLOT2 scatter plot using R","<r><plot><ggplot2><lattice>","4","2","12","","","CC BY-SA 4.0","1313954","4452","4452","r","404559","3625322","3607736","",""
"1319698","1","1321491","","2009-08-23 22:12:28","","22","1202","<p>Call me lazy, but I just hate typing things like <code>paste(""a"",""b"",sep='')</code> all the time. </p>

<p>I know that ""(t)his is R. There is no if, only how."" (<code>library(fortunes);(fortune(109)</code>). So, my follow up question is: Is it possible to easily change this behavior? </p>
","143377","","5414452","","2015-12-26 11:53:42","2017-02-01 02:31:43","Why doesn't ""+"" operate on characters in R?","<r><syntax><operators>","2","2","3","","","CC BY-SA 2.5","1319698","4452","4452","r","404559","3625322","3607736","",""
"1325974","1","1326095","","2009-08-25 04:02:08","","5","1089","<p>I am trying to get the rcom package for R working.  It seems to have installed ok:</p>

<pre>
> install.packages(""rcom"");
--- Please select a CRAN mirror for use in this session ---
trying URL 'http://mira.sunsite.utk.edu/CRAN/bin/windows/contrib/2.9/rcom_2.2-1.zip'
Content type 'application/zip' length 204632 bytes (199 Kb)
opened URL
downloaded 199 Kb

package 'rcom' successfully unpacked and MD5 sums checked

The downloaded packages are in
        C:\Users\solomon\AppData\Local\Temp\Rtmpzb5oi4\downloaded_packages
updating HTML package descriptions
</pre>

<p>Then I try to run something:</p>

<pre>
>comCreateObject(""Excel.Application"");
Error: could not find function ""comCreateObject""
</pre>

<p>What am I missing, the <a href=""http://cran.r-project.org/web/packages/rcom/rcom.pdf"" rel=""noreferrer"">manual</a> tells me that comCreateObject is the appropriate command.  However, the manual's version is somewhat old.  Anyone else have any insights?</p>
","125380","","","","","2009-08-25 04:44:01","Using COM in R language","<com><r><ole>","1","0","0","","","CC BY-SA 2.5","1325974","4452","4452","r","404559","3625322","3607736","",""
"1328903","1","1390408","","2009-08-25 15:09:42","","24","13854","<p>This is a very basic question - but apparently google is not very good at searching for strings like ""%+%"". So my question is - what and when is ""%+%"" and similar used. I guess its a kind of merge?.</p>

<p>EDIT: Ok - I believe my question is answered. %X% is binary operator of some kind. So now I think I will google around for knowledge about how/when to use these. My question was partly inspired by yesterday's question - but only after I saw this <a href=""http://learnr.wordpress.com/2009/03/16/ggplot2-barplots/"" rel=""noreferrer"">post</a> on the ""learning R"" blog. The passage that gave rise to my question was this:<br>
    In order to do this, a new dataframe with the annual totals will be created and later merged with the existing dataset (variable names in both dataframes should be identical for this to work). Then we just change the dataframe the plot is based on.</p>

<pre><code>## add total immigration figures to the plot
total &lt;- cast(df.m, Period ~ ., sum)
total &lt;- rename(total, c(""(all)"" = ""value""))
total$Region &lt;- ""Total""
df.m.t &lt;- rbind(total, df.m)
c1 &lt;- c %+% df.m.t
</code></pre>
","162832","","558991","","2016-04-05 11:41:57","2016-04-05 11:41:57","What does eg %+% do? in R","<r><operators>","3","1","8","","","CC BY-SA 3.0","1328903","4452","4452","r","404559","3625322","3607736","",""
"1329940","1","1329946","","2009-08-25 18:02:36","","106","112467","<p>Goal: from a list of vectors of equal length, create a matrix where each vector becomes a row.</p>

<p>Example:</p>

<pre><code>&gt; a &lt;- list()
&gt; for (i in 1:10) a[[i]] &lt;- c(i,1:5)
&gt; a
[[1]]
[1] 1 1 2 3 4 5

[[2]]
[1] 2 1 2 3 4 5

[[3]]
[1] 3 1 2 3 4 5

[[4]]
[1] 4 1 2 3 4 5

[[5]]
[1] 5 1 2 3 4 5

[[6]]
[1] 6 1 2 3 4 5

[[7]]
[1] 7 1 2 3 4 5

[[8]]
[1] 8 1 2 3 4 5

[[9]]
[1] 9 1 2 3 4 5

[[10]]
[1] 10  1  2  3  4  5
</code></pre>

<p>I want:</p>

<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6]
 [1,]    1    1    2    3    4    5
 [2,]    2    1    2    3    4    5
 [3,]    3    1    2    3    4    5
 [4,]    4    1    2    3    4    5
 [5,]    5    1    2    3    4    5
 [6,]    6    1    2    3    4    5
 [7,]    7    1    2    3    4    5
 [8,]    8    1    2    3    4    5
 [9,]    9    1    2    3    4    5
[10,]   10    1    2    3    4    5 
</code></pre>
","84458","","","","","2014-10-28 21:44:24","How do I make a matrix from a list of vectors in R?","<r><matrix><vector>","6","0","31","","","CC BY-SA 2.5","1329940","4452","4452","r","404559","3625322","3607736","",""
"1330989","1","1331400","","2009-08-25 21:05:24","","743","918118","<p>I have a plot where the x-axis is a factor whose labels are long.  While probably not an ideal visualization, for now I'd like to simply rotate these labels to be vertical.  I've figured this part out with the code below, but as you can see, the labels aren't totally visible.</p>
<pre><code>data(diamonds)
diamonds$cut &lt;- paste(&quot;Super Dee-Duper&quot;,as.character(diamonds$cut))
q &lt;- qplot(cut,carat,data=diamonds,geom=&quot;boxplot&quot;)
q + opts(axis.text.x=theme_text(angle=-90))
</code></pre>
<p><a href=""https://i.stack.imgur.com/pcJr3l.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/pcJr3l.png"" alt=""enter image description here"" /></a></p>
","84458","","5783745","","2020-09-20 17:51:13","2021-01-03 20:59:20","Rotating and spacing axis labels in ggplot2","<r><ggplot2><label>","8","1","244","","","CC BY-SA 4.0","1330989","4452","4452","r","404559","3625322","3607736","",""
"1331203","1","1331243","","2009-08-25 21:44:41","","1","446","<p>Suppose I have a data.frame with N rows.  The <code>id</code> column has 10 unique values; all those values are integers greater than 1e7.  I would like to rename them to be numbered 1 through 10 and save these new IDs as a column in my data.frame.</p>

<p>Additionally, I would like to easily determine 1) <code>id</code> given <code>id.new</code> and 2) <code>id.new</code> given <code>id</code>.</p>

<p>For example: </p>

<pre><code>&gt; set.seed(123)
&gt; ids &lt;- sample(1:1e7,10)
&gt; A &lt;- data.frame(id=sample(ids,100,replace=TRUE),
                  x=rnorm(100))
&gt; head(A)
       id          x
1 4566144  1.5164706
2 9404670 -1.5487528
3 5281052  0.5846137
4  455565  0.1238542
5 7883051  0.2159416
6 5514346  0.3796395
</code></pre>
","84458","","1900149","","2014-07-30 10:29:02","2014-07-30 10:29:02","Renaming large IDs","<r><hash><r-factor>","4","0","1","","","CC BY-SA 3.0","1331203","4452","4452","r","404559","3625322","3607736","",""
"1335830","1","1335871","","2009-08-26 16:06:33","","130","42374","<p>I've found R's ifelse statements to be pretty handy from time to time.  For example:</p>

<pre><code>ifelse(TRUE,1,2)
# [1] 1
ifelse(FALSE,1,2)
# [1] 2
</code></pre>

<p>But I'm somewhat confused by the following behavior.</p>

<pre><code>ifelse(TRUE,c(1,2),c(3,4))
# [1] 1
ifelse(FALSE,c(1,2),c(3,4))
# [1] 3
</code></pre>

<p>Is this a design choice that's above my paygrade?</p>
","84458","","903061","","2020-11-09 03:53:12","2020-11-09 03:53:12","Why can't R's ifelse statements return vectors?","<r><if-statement><vectorization><r-faq>","9","2","27","","","CC BY-SA 3.0","1335830","4452","4452","r","404559","3625322","3607736","",""
"1336271","1","","","2009-08-26 17:15:12","","6","3671","<p>I need to make a topographic map of a terrain for which I have only fairly sparse samples of <em>(x,&nbsp;y,&nbsp;altitude)</em> data.  Obviously I can't make a completely accurate map, but I would like one that is in some sense ""smooth"".  I need to quantify ""smoothness"" (probably the reciprocal the average of the square of the surface curvature) and I want to minimize an objective function that is the sum of two quantities:</p>

<ul>
<li>The roughness of the surface</li>
<li>The mean square distance between the altitude of the surface at the sample point and the actual measured altitude at that point</li>
</ul>

<p>Since what I actually want is a topographic map, I am really looking for a way to construct contour lines of constant altitude, and there may be some clever geometric way to do that without ever having to talk about surfaces.  Of course I want contour lines also to be smooth.</p>

<p>Any and all suggestions welcome.  I'm hoping this is a well-known numerical problem.  I am quite comfortable in C and have a working knowledge of FORTRAN.  About Matlab and R I'm fairly clueless.</p>

<hr>

<p>Regarding where our samples are located: we're planning on roughly even spacing, but we'll take more samples where the topography is more interesting.  So for example we'll sample mountainous regions more densely than a plain.  But we definitely have some choices about sampling, and could take even samples if that simplifies matters.  The only issues are</p>

<ul>
<li><p>We don't know how much terrain we'll need to map in order to find features that we are looking for.</p></li>
<li><p>Taking a sample is moderately expensive, on the order of 10 minutes.  So sampling a 100x100 grid could take a long time.</p></li>
</ul>
","41661","","163053","","2009-09-30 18:52:02","2016-11-04 14:05:06","How to make topographic map from sparse sampling data?","<r><curve-fitting><numerical-methods><topographical-lines>","4","2","1","","","CC BY-SA 2.5","1336271","4452","4452","r","404559","3625322","3607736","",""
"1343442","1","","","2009-08-27 19:55:04","","8","1260","<p>Is there an easy way to have R record all input and output from your R session to disk while you are working with R interactively?  </p>

<p>In <code>R.app</code> on <code>Mac OS X</code> I can do a <code>File-&gt;Save...</code>, but it isn't much help in recovering the commands I had entered when R crashes.</p>

<p>I have tried using <code>sink(...,split=T)</code>, but it doesn't seem to do exactly what I am looking for.</p>
","","Eytan","3392044","","2016-02-16 11:40:47","2016-02-16 11:40:47","maintaining an input / output log in R","<r><session><logging>","5","0","2","","","CC BY-SA 3.0","1343442","4452","4452","r","404559","3625322","3607736","",""
"1351937","1","1351962","","2009-08-29 17:21:13","","3","8316","<p>I have basically two questions.</p>

<ol>
<li><p>How do I locate the default <code>Rprofile</code> which is running? I have not setup a <code>Rprofile</code> yet, so I am not sure where it is running from.</p></li>
<li><p>I am trying to install a few packages using the command (after doing a SUDO in the main terminal).</p></li>
</ol>



<pre><code>install.packages(""RODBC"",""/home/rama/R/i486-pc-linux-gnu-library/2.9"")
</code></pre>

<p>and I get back an error which says:</p>

<blockquote>
  <p>ERROR: failed to lock directory ‘/home/rama/R/i486-pc-linux-gnu-library/2.9’ for modifying Try removing ‘/home/rama/R/i486-pc-linux-gnu-library/2.9/00LOCK’</p>
  
  <p>The downloaded packages are in ‘/tmp/RtmpkzDMVU/downloaded_packages’ Warning message: In install.packages(""RODBC"", ""/home/rama/R/i486-pc-linux-gnu-library/2.9"") : installation of package 'RODBC' had non-zero exit status</p>
</blockquote>
","165406","","1270695","","2015-12-17 06:39:07","2015-12-17 06:39:07","R package installation","<r><installation>","3","0","3","","","CC BY-SA 3.0","1351937","4452","4452","r","404559","3625322","3607736","",""
"1352863","1","1353119","","2009-08-30 02:07:13","","9","1004","<p>I have a set of survey data, and I'd like to generate plots of a particular variable, grouped by the respondent's country.  The code I have written to generate the plots so far is:</p>

<pre><code>countries &lt;- isplit(drones, drones$v3)
foreach(country = countries) %dopar% {
  png(file = paste(output.exp, ""/Histogram of Job Satisfaction in "", country$key[[1]], "".png"", sep = """"))
  country.df &lt;- data.frame(country)  #ggplot2 doesn't appreciate the lists nextElem() produces
  ggplot(country.df, aes(x = value.v51)) + geom_histogram()
  dev.off()
}
</code></pre>

<p>The truly bizarre thing?  I can run the isplit(), set <code>country &lt;- nextElem(countries)</code>, and then run through the code without sending the foreach line - and get a lovely plot.  If I send the foreach, I get some blank .png files.</p>

<p>Thanks in advance for your help.</p>

<p>I can definitely do this with standard R loops, but I'd really like to get a better grasp on <code>foreach</code>.</p>
","143319","","","","","2009-08-30 04:51:14","Getting foreach() and ggplot2 to get along","<r><foreach><ggplot2>","1","3","1","","","CC BY-SA 2.5","1352863","4452","4452","r","404559","3625322","3607736","",""
"1355355","1","1355420","","2009-08-31 00:48:18","","31","32822","<p>I could solve this using loops, but I am trying think in vectors so my code will be more R-esque. </p>

<p>I have a list of names. The format is firstname_lastname. I want to get out of this list a separate list with only the first names. I can't seem to get my mind around how to do this. Here's some example data:</p>

<pre><code>t &lt;- c(""bob_smith"",""mary_jane"",""jose_chung"",""michael_marx"",""charlie_ivan"")
tsplit &lt;- strsplit(t,""_"")
</code></pre>

<p>which looks like this:</p>

<pre><code>&gt; tsplit
[[1]]
[1] ""bob""   ""smith""

[[2]]
[1] ""mary"" ""jane""

[[3]]
[1] ""jose""  ""chung""

[[4]]
[1] ""michael"" ""marx""   

[[5]]
[1] ""charlie"" ""ivan""   
</code></pre>

<p>I could get out what I want using loops like this:</p>

<pre><code>for (i in 1:length(tsplit)){
    if (i==1) {t_out &lt;- tsplit[[i]][1]} else{t_out &lt;- append(t_out, tsplit[[i]][1])} 
}
</code></pre>

<p>which would give me this:</p>

<pre><code>t_out
[1] ""bob""     ""mary""    ""jose""    ""michael"" ""charlie""
</code></pre>

<p>So how can I do this without loops?</p>
","37751","","","","","2014-09-10 21:15:27","How to avoid a loop in R: selecting items from a list","<list><r><vector><strsplit>","10","2","26","","","CC BY-SA 2.5","1355355","4452","4452","r","404559","3625322","3607736","",""
"1358003","1","1359679","","2009-08-31 15:26:13","","513","119687","<p>What tricks do people use to manage the available memory of an interactive R session?  I use the functions below [based on postings by Petr Pikal and David Hinds to the r-help list in 2004] to list (and/or sort) the largest objects and to occassionally <code>rm()</code> some of them. But by far the most effective solution was ... to run under 64-bit Linux with ample memory. </p>

<p>Any other nice tricks folks want to share?  One per post, please.</p>

<pre><code># improved list of objects
.ls.objects &lt;- function (pos = 1, pattern, order.by,
                        decreasing=FALSE, head=FALSE, n=5) {
    napply &lt;- function(names, fn) sapply(names, function(x)
                                         fn(get(x, pos = pos)))
    names &lt;- ls(pos = pos, pattern = pattern)
    obj.class &lt;- napply(names, function(x) as.character(class(x))[1])
    obj.mode &lt;- napply(names, mode)
    obj.type &lt;- ifelse(is.na(obj.class), obj.mode, obj.class)
    obj.size &lt;- napply(names, object.size)
    obj.dim &lt;- t(napply(names, function(x)
                        as.numeric(dim(x))[1:2]))
    vec &lt;- is.na(obj.dim)[, 1] &amp; (obj.type != ""function"")
    obj.dim[vec, 1] &lt;- napply(names, length)[vec]
    out &lt;- data.frame(obj.type, obj.size, obj.dim)
    names(out) &lt;- c(""Type"", ""Size"", ""Rows"", ""Columns"")
    if (!missing(order.by))
        out &lt;- out[order(out[[order.by]], decreasing=decreasing), ]
    if (head)
        out &lt;- head(out, n)
    out
}
# shorthand
lsos &lt;- function(..., n=10) {
    .ls.objects(..., order.by=""Size"", decreasing=TRUE, head=TRUE, n=n)
}
</code></pre>
","143305","","2562463","","2015-07-10 12:52:37","2021-05-26 00:33:02","Tricks to manage the available memory in an R session","<memory-management><r>","28","11","402","","","CC BY-SA 3.0","1358003","4452","4452","r","404559","3625322","3607736","",""
"1358238","1","1372767","","2009-08-31 16:35:52","","10","6725","<p>I'm looking for a non-linear curve fitting routine (probably most likely to be found in R or Python, but I'm open to other languages) which would take x,y data and fit a curve to it.</p>

<p>I should be able to specify as a string the type of expression I want to fit.</p>

<p>Examples:</p>

<pre><code>""A+B*x+C*x*x""
""(A+B*x+C*x*x)/(D*x+E*x*x)""
""sin(A+B*x)*exp(C+D*x)+E+F*x""
</code></pre>

<p>What I would get out of this is at least the values for the constants (A, B, C, etc.) And hopefully stats about the fitness of the match.</p>

<p>There are commercial programs to do this, but I expected to be able to find something as common as fitting to a desired expression in a language library nowadays. I suspect SciPy's optimization stuff might be able to do this, but I can't see that it lets me define an equation. Likewise, I can't seem to find exactly what I want in R.</p>

<p>Is what I'm looking for out there, or do I need to roll my own? I hate to do it if it's there and I'm just having trouble finding it.</p>

<hr>

<p>Edit: I want to do this for a bit more control over the process than I get from LAB Fit. The LAB Fit UI is dreadful. I'd also like to be able to break the range into multiple pieces and have different curves represent the different pieces of the range. In the end, the result has to be able to (speed-wise) beat a LUT with linear interpolation or I'm not interested.</p>

<p>In my current set of problems, I have trig functions or exp() and I need to execute them 352,800 times per second in real time (and use only a fraction of the CPU). So I plot the curve and use the data to drive the curve fitter to get less expensive approximations. In the old days, LUTs were almost always the solution, but nowadays skipping the memory lookups and doing an approximation is sometimes faster.</p>
","61027","","61027","","2009-08-31 22:52:04","2009-09-03 11:04:49","Finding a curve to match data","<r><octave><curve-fitting><nonlinear-optimization>","6","2","9","","","CC BY-SA 2.5","1358238","4452","4452","r","404559","3625322","3607736","",""
"1366853","1","1367198","","2009-09-02 10:13:07","","6","20174","<p>I have a data that looks like <a href=""http://dpaste.com/88561/plain/"" rel=""nofollow noreferrer"">this</a>.</p>

<p>And I intend to create multiple density curve into one plot, where each curve
correspond to the unique ID.</p>

<p>I tried to use ""sm"" package, with this code, but without success.</p>

<pre><code>library(sm)
dat &lt;- read.table(""mydat.txt"");
plotfn &lt;- (""~/Desktop/flowgram_superimposed.pdf"");
pdf(plotfn);

sm.density.compare(dat$V1,dat$V2, xlab = ""Flow Signal"")
colfill &lt;- c(2:10);
legend(locator(1), levels(dat$V2), fill=colfill)

dev.off();
</code></pre>

<p>Please advice what's the right way to do it or if  there is
alternative way to do it?</p>

<p>I am trying to get this kind of plot  at the end. 
<a href=""http://img524.imageshack.us/img524/2736/testl.png"" rel=""nofollow noreferrer"">figure http://img524.imageshack.us/img524/2736/testl.png</a></p>
","67405","","1315767","","2014-01-01 17:27:31","2016-11-28 23:22:09","How to Superimpose Multiple Density Curves Into One Plot in R","<r><statistics><plot>","4","5","6","","","CC BY-SA 3.0","1366853","4452","4452","r","404559","3625322","3607736","",""
"1374609","1","","","2009-09-03 16:45:21","","1","750","<p>Is this even possible? I had a dataset for training that included about 1500 entries.  The randomForest created its decision rules and applied them to the randomly chosen (from the original dataset) Out of Bag training sample (bootstrapped 10,000 times).  I have a separate (unclassified) dataset that I would like to apply the 10,000 created trees to in order to predict classification for these new entries.  Is there an easy way to index the underlying Forest trees to this new unclassified dataset?</p>
","168019","","10068985","","2019-02-22 15:30:33","2019-02-22 15:30:33","How do I apply underlying decision rules created from the R package randomForest onto a NEW Out of Bag test set?","<r><statistics>","1","0","0","","","CC BY-SA 4.0","1374609","4452","4452","r","404559","3625322","3607736","",""
"1374842","1","1377678","","2009-09-03 17:29:39","","0","436","<p>I'm building an R package and need to build a jni library for OSX (called <code>myPackage.jnilib</code>) as part of my build process and then have R's automatic installation mechanisms put it inside the libs directory of my package.</p>

<p>The problem is that R's default is to try and build an object called <code>myPackage.so</code>. I'd like to be able to customize this but can't see how.</p>

<p>I can get part of the way by subverting R's mechanisms using a phony ""all"" target in Makevars (described <a href=""http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-exts.html#Using-Makevars"" rel=""nofollow noreferrer"">here</a>) and then copying the file to the <code>inst</code> directory of my package.  This is OK for my own local uses but generates headaches when trying to build universal binaries and isn't very portable. I'm currently preparing the package for CRAN so this method isn't likely to work.</p>

<p>I can see two potential solutions but haven't got either to work yet</p>

<ol>
<li><p>Copy my library manually to the libs directory of my package during installation.  Since this directory is created on the fly, how would I find out what it is from within Makevars or a configure script</p></li>
<li><p>The best solution: Tell R CMD SHLIB the name of my output file so I can use R's normal package mechanisms and let it copy the file to the right directory.  </p></li>
</ol>
","149223","","2849346","","2015-12-26 20:56:41","2015-12-26 20:56:41","Building and installing an R package library with a jnilib extension","<r><package>","1","2","","","","CC BY-SA 3.0","1374842","4452","4452","r","404559","3625322","3607736","",""
"1376967","1","1379074","","2009-09-04 02:37:23","","25","15257","<p>I am trying to plot lattice type data with ggplot2 and then superimpose a normal distribution over the sample data to illustrate how far off normal the underlying data is. I would like to have the normal dist on top to have the same mean and stdev as the panel. </p>

<p>here's an example:</p>

<pre><code>library(ggplot2)

#make some example data
dd&lt;-data.frame(matrix(rnorm(144, mean=2, sd=2),72,2),c(rep(""A"",24),rep(""B"",24),rep(""C"",24)))
colnames(dd) &lt;- c(""x_value"", ""Predicted_value"",  ""State_CD"")

#This works
pg &lt;- ggplot(dd) + geom_density(aes(x=Predicted_value)) +  facet_wrap(~State_CD)
print(pg)
</code></pre>

<p>That all works great and produces a nice three panel graph of the data. How do I add the normal dist on top? It seems I would use stat_function, but this fails:</p>

<pre><code>#this fails
pg &lt;- ggplot(dd) + geom_density(aes(x=Predicted_value)) + stat_function(fun=dnorm) +  facet_wrap(~State_CD)
print(pg)
</code></pre>

<p>It appears that the stat_function is not getting along with the facet_wrap feature. How do I get these two to play nicely?</p>

<p><strong>------------EDIT---------</strong></p>

<p>I tried to integrate ideas from two of the answers below and I am still not there:</p>

<p>using a combination of both answers I can hack together this:</p>

<pre><code>library(ggplot)
library(plyr)

#make some example data
dd&lt;-data.frame(matrix(rnorm(108, mean=2, sd=2),36,2),c(rep(""A"",24),rep(""B"",24),rep(""C"",24)))
colnames(dd) &lt;- c(""x_value"", ""Predicted_value"",  ""State_CD"")

DevMeanSt &lt;- ddply(dd, c(""State_CD""), function(df)mean(df$Predicted_value)) 
colnames(DevMeanSt) &lt;- c(""State_CD"", ""mean"")
DevSdSt &lt;- ddply(dd, c(""State_CD""), function(df)sd(df$Predicted_value) )
colnames(DevSdSt) &lt;- c(""State_CD"", ""sd"")
DevStatsSt &lt;- merge(DevMeanSt, DevSdSt)

pg &lt;- ggplot(dd, aes(x=Predicted_value))
pg &lt;- pg + geom_density()
pg &lt;- pg + stat_function(fun=dnorm, colour='red', args=list(mean=DevStatsSt$mean, sd=DevStatsSt$sd))
pg &lt;- pg + facet_wrap(~State_CD)
print(pg)
</code></pre>

<p>which is really close... except something is wrong with the normal dist plotting:</p>

<p><a href=""https://i.stack.imgur.com/g9SEX.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/g9SEX.png"" alt=""enter image description here""></a></p>

<p>what am I doing wrong here?</p>
","37751","","37751","","2018-05-01 00:52:40","2021-02-11 16:34:20","using stat_function and facet_wrap together in ggplot2 in R","<r><graph><ggplot2>","6","3","27","","","CC BY-SA 3.0","1376967","4452","4452","r","404559","3625322","3607736","",""
"1377003","1","1377047","","2009-09-04 02:57:00","","3","8458","<p>Is there a package in Perl that allows you to compute the height of probability distribution at each given point. For example this can be done in R this way:</p>

<pre><code>&gt; dnorm(0, mean=4,sd=10)
&gt; 0.03682701
</code></pre>

<p>Namely the probability of point x=0 falls into a normal distribution, with mean=4 and sd=10, is 0.0368.
I looked at <a href=""http://search.cpan.org/~mikek/Statistics-Distributions-1.02/Distributions.pm"" rel=""nofollow noreferrer"">Statistics::Distribution</a> but it doesn't give that very 
function to do it. </p>
","67405","","2766176","","2009-09-04 16:54:58","2016-09-27 21:23:02","How can I compute the probability at a point given a normal distribution in Perl?","<perl><r><statistics><probability>","7","3","2","","","CC BY-SA 2.5","1377003","4452","4452","r","404559","3625322","3607736","",""
"1377248","1","1377306","","2009-09-04 04:38:58","","2","11398","<p>I have a data that looks like <a href=""http://dpaste.com/89376/plain/"" rel=""nofollow noreferrer"">this</a>. And my code below
simply compute some value and binds the output vector to the
original data frames.</p>
<pre><code>options(width=200)

args&lt;-commandArgs(trailingOnly=FALSE)
dat &lt;- read.table(&quot;http://dpaste.com/89376/plain/&quot;,fill=T);

problist &lt;- c();

for (lmer in 1:10) {
   meanl &lt;- lmer;
   stdevl &lt;- (0.17*sqrt(lmer));
   err_prob &lt;- pnorm(dat$V4,mean=meanl, sd=stdevl);
   problist &lt;- cbind(problist,err_prob);
}

dat &lt;- cbind(dat,problist)
#print(dat,row.names=F, column.names=F,justify=left)

# Why this breaks?
write(dat, file=&quot;output.txt&quot;, sep=&quot;\t&quot;,append=F);
</code></pre>
<p>I have couple of questions regarding the above:</p>
<ol>
<li><p>But why the 'write()' function above gives this error. Is there a way to fix it?</p>
<p>Error in cat(list(...), file, sep, fill, labels, append) :
argument 1 (type 'list') cannot be handled by 'cat'
Calls: write -&gt; cat
Execution halted</p>
</li>
<li><p>Names for binded vector in the data frame is added as &quot;errprob&quot; for all 10 new
columns. Is there a way to name them like &quot;errprob1&quot;, &quot;errprob2&quot;, etc?</p>
</li>
</ol>
","67405","","-1","","2020-06-20 09:12:55","2009-09-04 05:07:22","On Data Frame: Writing to File and Naming Binded Vector in R","<r><vector><dataframe><writefile>","2","0","2","","","CC BY-SA 2.5","1377248","4452","4452","r","404559","3625322","3607736","",""
"1379549","1","1379899","","2009-09-04 14:17:06","","18","2562","<p>I'm looking to streamline my <a href=""http://en.wikipedia.org/wiki/Sweave"" rel=""noreferrer"">Sweave</a> document creation, and I'd like to hear about people's current setups.  I feel like the holy grail goes something like this:</p>

<ul>
<li>Editing Rnw code on one half of the
screen </li>
<li>Single keybinding compiles
Sweave document and runs pdflatex </li>
<li>View PDF
on the other half of the screen; once
compiled, PDF is refreshed and centered around the portion of the document you're editing</li>
<li>If compilation has errors, replace the PDF with the results of the compilation (e.g. latex errors or Sweave errors)</li>
</ul>

<p>I am guessing/hoping that the solution is part Emacs/ESS combined with some code for the Emacs profile and/or a nice Makefile.  But I would really like to hear about everybody's preferred way of creating Sweave and/or Latex documents.</p>
","84458","","","","","2012-02-20 17:04:45","Recommendations for developing Sweave documents","<emacs><r><latex><sweave><ess>","6","0","19","","","CC BY-SA 2.5","1379549","4452","4452","r","404559","3625322","3607736","",""
"1380694","1","1381350","","2009-09-04 17:58:53","","17","14543","<p>Given data of the following form</p>

<pre><code>myDat = structure(list(Score = c(1.84, 2.24, 3.8, 2.3, 3.8, 4.55, 1.13, 
2.49, 3.74, 2.84, 3.3, 4.82, 1.74, 2.89, 3.39, 2.08, 3.99, 4.07, 
1.93, 2.39, 3.63, 2.55, 3.09, 4.76), Subject = c(1L, 1L, 1L, 
2L, 2L, 2L, 3L, 3L, 3L, 4L, 4L, 4L, 5L, 5L, 5L, 6L, 6L, 6L, 7L, 
7L, 7L, 8L, 8L, 8L), Condition = c(0L, 0L, 0L, 1L, 1L, 1L, 0L, 
0L, 0L, 1L, 1L, 1L, 0L, 0L, 0L, 1L, 1L, 1L, 0L, 0L, 0L, 1L, 1L, 
1L), Time = c(1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 
1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L)), .Names = c(""Score"", 
""Subject"", ""Condition"", ""Time""), class = ""data.frame"", row.names = c(NA, 
-24L))
</code></pre>

<p>I would like to model Score as a function of Subject, Condition and Time. Each (human) Subject's score was measured three times, indicated by the variable Time, so I have repeated measures.</p>

<p>How can I build in R a random effects model with Subject effects fitted as random?</p>

<p><strong>ADDENDUM</strong>: It's been asked how I generated these data. You guessed it, the data are fake as the day is long. Score is time plus random noise and being in Condition 1 adds a point to Score. It's instructive as a typical Psych setup. You have a task where people's score gets better with practice (time) and a drug (condition==1) that enhances score.</p>

<p>Here are some more realistic data for the purposes of this discussion. Now simulated participants have a random ""skill"" level that is added to their scores. Also, the factors are now strings.</p>

<pre><code>myDat = structure(list(Score = c(1.62, 2.18, 2.3, 3.46, 3.85, 4.7, 1.41, 
2.21, 3.32, 2.73, 3.34, 3.27, 2.14, 2.73, 2.74, 3.39, 3.59, 4.01, 
1.81, 1.83, 3.22, 3.64, 3.51, 4.26), Subject = structure(c(1L, 
1L, 1L, 2L, 2L, 2L, 3L, 3L, 3L, 4L, 4L, 4L, 5L, 5L, 5L, 6L, 6L, 
6L, 7L, 7L, 7L, 8L, 8L, 8L), .Label = c(""A"", ""B"", ""C"", ""D"", ""E"", 
""F"", ""G"", ""H""), class = ""factor""), Condition = structure(c(1L, 
1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 2L, 2L, 2L, 1L, 1L, 1L, 2L, 2L, 
2L, 1L, 1L, 1L, 2L, 2L, 2L), .Label = c(""No"", ""Yes""), class = ""factor""), 
    Time = structure(c(1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 
    2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L), .Label = c(""1PM"", 
    ""2PM"", ""3PM""), class = ""factor"")), .Names = c(""Score"", ""Subject"", 
""Condition"", ""Time""), class = ""data.frame"", row.names = c(NA, 
-24L))
</code></pre>

<p>See it:</p>

<pre><code>library(ggplot2)
qplot(Time, Score, data = myDat, geom = ""line"", group = Subject, colour = factor(Condition))
</code></pre>
","23929","","23929","","2009-09-05 13:55:35","2011-08-03 13:51:12","How to fit a random effects model with Subject as random in R?","<r><model><statistics><modeling>","3","3","5","","","CC BY-SA 2.5","1380694","4452","4452","r","404559","3625322","3607736","",""
"1382288","1","1382334","","2009-09-05 02:30:03","","9","2655","<p>I want to remove the space between the axes of the plot and the plot contents themselves. Any ideas?</p>
","142879","","5414452","","2015-12-26 11:44:33","2015-12-26 11:44:33","How can I remove plot margins between the axes of the plot and the plot contents in R?","<r><plot>","1","0","3","","","CC BY-SA 3.0","1382288","4452","4452","r","404559","3625322","3607736","",""
"1384025","1","1384349","","2009-09-05 18:55:12","","6","2310","<p>I want to create a pairs plot in R that has labels on the diagonal written as greek letters.  I've tried creating a custom text.panel function that wraps the labels in an <code>expression()</code> call, but this does not work.</p>

<p>Here is a simple test case:</p>

<pre><code>pairs.greek &lt;- function(x, ...)
{
  panel.txt &lt;- function(x, y, labels, cex, font, ...)
  {
    lab &lt;- labels
    text(0.5, 0.5, expression(lab), cex=cex, font=font)
  }
  pairs(x, text.panel=panel.txt)
}
dat &lt;- data.frame(alpha=runif(10), beta=runif(10), gamma=runif(10))
pairs.greek(dat)
</code></pre>
","4907","","5414452","","2015-12-26 11:54:56","2015-12-26 11:54:56","How do I print greek letters on the diagonal of a pairs plot in R?","<r><symbols>","1","0","1","","","CC BY-SA 2.5","1384025","4452","4452","r","404559","3625322","3607736","",""
"1384403","1","1384567","","2009-09-05 22:30:08","","7","29966","<p>Does anyone have any tips regarding making animated GIFs in R? I'm trying to make some time lapse map GIFs.</p>
","142879","","3001626","","2017-06-15 07:16:05","2017-06-15 07:16:05","Making animated gifs using R","<r><animated-gif>","4","1","3","2017-06-15 07:15:58","","CC BY-SA 3.0","1384403","4452","4452","r","404559","3625322","3607736","",""
"1385873","1","1386227","","2009-09-06 15:04:43","","1","1291","<p>I guess there will be a very simple answer to this. But here goes.</p>

<p>Data in long format. like this</p>

<pre><code>d &lt;- data.frame(cbind(numbers = rnorm(10), 
                         year = rep(c(2008, 2009), 5), 
                         name = c(""john"", ""David"", ""Tom"", ""Kristin"", ""Lisa"",""Eve"",""David"",""Tom"",""Kristin"",""Lisa"")))
</code></pre>

<p>How do I get a new dataframe only with rows for names that occur in both 2008 and 2009? (i.e. with only David, Kristin, Lisa and Tom).</p>

<p>Thanks in advance</p>
","162832","","3768871","","2019-04-29 03:34:33","2019-04-29 03:34:33","data.frame subset long format","<r><dataframe>","4","0","3","","","CC BY-SA 3.0","1385873","4452","4452","r","404559","3625322","3607736","",""
"1386767","1","1386909","","2009-09-06 21:27:41","","27","4110","<p>S-Plus has a great object explorer and data editor built into its GUI.  It allows you to easily see all the objects in the workspace at a glance, and sort them by name, size, or date.  </p>

<p>As far as I'm aware, the only equivalent for R is the object browser in JGR (<a href=""http://jgr.markushelbig.org/"" rel=""noreferrer"">http://jgr.markushelbig.org/</a>).   </p>

<p>Otherwise I just use the search() and ls() commands most of the time (along with grep() when I have a lot of objects).  </p>

<pre><code># trivial example of routine:
search()
utils.list &lt;- ls(pos=""package:utils"")
utils.list[grep(""edit"",utils.list)]
</code></pre>

<p>Does anyone have any tricks or suggestions for browsing the R workspace?  Are there any point-and-click solutions?</p>
","163053","","","","","2015-10-28 22:07:32","Are there any good R object browsers?","<r>","8","0","11","","","CC BY-SA 2.5","1386767","4452","4452","r","404559","3625322","3607736","",""
"1389123","1","1389480","","2009-09-07 12:15:31","","3","1580","<p>How come R does not have a 64bit windows pre-built binaries?</p>
","161259","","63550","","2009-09-08 03:16:35","2011-08-27 12:29:44","How come there is no 64bit build of R for Windows?","<windows><r><64-bit><32bit-64bit>","3","0","","","","CC BY-SA 2.5","1389123","4452","4452","r","404559","3625322","3607736","",""
"1389428","1","1390743","","2009-09-07 13:27:53","","4","6505","<p>Is there a good way to deal with time periods such as 05:30 (5 minutes, 30 seconds) in R?</p>

<p>Alternatively what's the fastest way to convert it into an integer with just seconds?</p>

<p>I can only convert to dates and can't really find a data type for time.</p>

<p>I'm using R with zoo.</p>

<p>Thanks a lot ! </p>

<hr>

<p>Seconds was the best way to deal with this. I adapted Shane's code below to my purposes, here's the result.</p>

<pre><code># time - time in the format of dd hh:mm:ss
#       (That's the format used in cvs export from Alcatel CCS reports)
#
time.to.seconds &lt;- function(time) {

   t &lt;- strsplit(as.character(time), "" |:"")[[1]]
   seconds &lt;- NaN

   if (length(t) == 1 )
      seconds &lt;- as.numeric(t[1])
   else if (length(t) == 2)
      seconds &lt;- as.numeric(t[1]) * 60 + as.numeric(t[2])
   else if (length(t) == 3)
      seconds &lt;- (as.numeric(t[1]) * 60 * 60 
          + as.numeric(t[2]) * 60 + as.numeric(t[3]))   
   else if (length(t) == 4)
      seconds &lt;- (as.numeric(t[1]) * 24 * 60 * 60 +
         as.numeric(t[2]) * 60 * 60  + as.numeric(t[3]) * 60 +
         as.numeric(t[4]))

   return(seconds)
}
</code></pre>
","12677","","271616","","2011-08-13 17:57:18","2013-10-21 13:26:10","Dealing with time-periods such as 5 minutes and 30 seconds in R","<r><posix><zoo>","2","0","2","","","CC BY-SA 2.5","1389428","4452","4452","r","404559","3625322","3607736","",""
"1392868","1","","","2009-09-08 09:09:10","","1","571","<p>I am trying to install the
<a href=""http://www.omegahat.org/RSPython/"" rel=""nofollow noreferrer"">R/SPlus - Python Interface (RSPython)</a> on my Mac OS X 10.4.11 with R version 2.7.2 (2008-08-25) and python 2.6.2 from fink.</p>

<p>The routine:</p>

<pre><code>sudo R CMD INSTALL -c RSPython_0.7-1.tar.gz
</code></pre>

<p>produced this error message:</p>

<pre><code>* Installing to library '/Library/Frameworks/R.framework/Resources/library'
* Installing *source* package 'RSPython' ...
checking for python... /sw/bin/python
Python version 2.6
Using threads
checking for gcc... gcc
checking for C compiler default output file name... configure: error: C compiler cannot create executables
See `config.log' for more details.
ERROR: configuration failed for package 'RSPython'
** Removing '/Library/Frameworks/R.framework/Versions/2.7/Resources/library/RSPython'
</code></pre>

<p>The config.log was not created o my system.</p>

<p>The contact e-mail address to the author does not work anymore, so I just hope somebody here tried the same already or can give me an alternative for running R routines in python.</p>

<p>Best regards,</p>

<p>Simon</p>
","141826","","","","","2009-09-17 12:48:04","using RSPython in MacOSX","<python><r><installation>","3","0","","","","CC BY-SA 2.5","1392868","4452","4452","r","404559","3625322","3607736","",""
"1393432","1","1393611","","2009-09-08 11:17:25","","2","836","<p>I have a text file similar to this (separated by spaces):</p>

<pre><code>x &lt;- ""DF12 This is an example 1 This
DF12 This is an 1232 This is
DF14 This is 12334 This is an
DF15 This 23 This is an example
""
</code></pre>

<p>and I know the field lengths of each variable (there is 5 variables in this data set), which are:</p>

<pre><code>varlength &lt;- c(2, 2, 18, 5, 18)
</code></pre>

<p>How can I import this kind of data into R, using the varlength variable as an field separator indicator?</p>
","134903","","","","","2009-09-08 12:04:42","Getting data from text file (separated by spaces) using variable lengths into R","<r>","1","1","","","","CC BY-SA 2.5","1393432","4452","4452","r","404559","3625322","3607736","",""
"1395102","1","1437343","","2009-09-08 17:03:44","","22","17696","<p>In the nlme package there are two functions for fitting linear models (lme and gls). </p>

<ol>
<li>What are the differences between
them in terms of the types of models
that can be fit, and the fitting
process?  </li>
<li>What is the design
rational for having two functions to
fit linear mixed models where most
other systems (e.g. SAS SPSS) only
have one?</li>
</ol>

<p>Update: Added bounty. Interested to know differences in the fitting process, and the rational.</p>
","160314","","160314","","2009-09-15 21:57:25","2012-01-06 08:00:17","gls() vs. lme() in the nlme package","<r><statistics>","2","0","8","","","CC BY-SA 2.5","1395102","4452","4452","r","404559","3625322","3607736","",""
"1395105","1","","","2009-09-08 17:04:26","","128","97196","<p>I would like to add <code>LaTeX</code> typesetting to elements of plots in <code>R</code> (e.g: the title, axis labels, annotations, etc.) using either the combination of <code>base/lattice</code> or with <code>ggplot2</code>.</p>

<p><strong>Questions:</strong></p>

<ul>
<li>Is there a way to get <code>LaTeX</code> into plots using these packages, and if so, how is it done?  </li>
<li>If not, are there additional packages needed to accomplish this.</li>
</ul>

<p>For example, in <code>Python matplotlib</code> compiles <code>LaTeX</code> via the <code>text.usetex</code> packages as discussed here: <a href=""http://www.scipy.org/Cookbook/Matplotlib/UsingTex"" rel=""noreferrer"">http://www.scipy.org/Cookbook/Matplotlib/UsingTex</a></p>

<p>Is there a similar process by which such plots can be generated in <code>R</code>?</p>
","144537","","3392044","","2016-02-29 08:19:50","2019-07-19 04:14:52","Getting LaTeX into R Plots","<r><latex><plot>","9","2","47","","","CC BY-SA 3.0","1395105","4452","4452","r","404559","3625322","3607736","",""
"1395115","1","1395249","","2009-09-08 17:06:51","","17","5239","<p>I frequently create nonparametric statistics (loess, kernel densities, etc) on data I pull out of a relational database. To make data management easier I would like to store R output back inside my DB. This is easy with simple data frames of numbers or text, but I have not figured out how to store R objects back in my relational database. So is there a way to store a vector of kernel densities, for example, back into a relational database? </p>

<p>Right now I work around this by saving the R objects to a network drive space so others can load the objects as needed. </p>
","37751","","134830","","2014-09-29 10:59:26","2020-02-27 22:56:29","Storing R Objects in a relational database","<database><r><object><r-faq>","5","0","19","","","CC BY-SA 2.5","1395115","4452","4452","r","404559","3625322","3607736","",""
"1395117","1","1395143","","2009-09-08 17:07:07","","49","43965","<p>If I have a date like this in London time: ""2009-06-03 19:30"", how can I convert it to the equivalent time in the US West Coast?</p>
","154039","","","","","2021-02-19 03:50:00","How do you convert dates/times from one time zone to another in R?","<r>","4","1","21","","","CC BY-SA 2.5","1395117","4452","4452","r","404559","3625322","3607736","",""
"1395118","1","","","2009-09-08 17:07:55","","1","313","<p>Suppose I simulate a data set using </p>

<pre><code>set.seed(1234); 
rnorm(100);
</code></pre>

<p>Later, I would like to find the <code>90th</code> data value simulated without re-simulating the whole data set.  </p>

<ul>
<li>How can this be done?  </li>
<li>Does <code>.Random.seed</code> play a role?  </li>
</ul>

<p>While this may seem to be an overly simplified problem (especially when one could just run the whole code again), this type of problem occurs in more complicated <code>Monte Carlo</code> simulations where perhaps a 1,000 data sets are simulated and something goes wrong on data set #90. One would want to view data set #90 without having to simulate data sets #1- #89.</p>
","","user170305","3392044","","2016-03-04 10:37:55","2016-03-04 10:37:55","Re-generate same simulated data set in a MC simulation study","<r><random>","1","0","","","","CC BY-SA 3.0","1395118","4452","4452","r","404559","3625322","3607736","",""
"1395136","1","1395423","","2009-09-08 17:11:03","","4","415","<p>Most looping code looks like this</p>

<pre><code>retVal=NULL
for i {
  for j {
    result &lt;- *some function of vector[i] and vector[j]* 
    retVal = rbind(retVal,result)
  }
}
</code></pre>

<p>Since this is so common, is there a systematic way of translating this idiom?</p>

<p>Can this be extended to most loops?</p>
","23929","","","","","2009-09-08 18:05:25","Is there a systematic way to convert R code with loops to vectorized code?","<r><loops>","2","0","1","","","CC BY-SA 2.5","1395136","4452","4452","r","404559","3625322","3607736","",""
"1395147","1","1395210","","2009-09-08 17:12:31","","17","33820","<p>In an effort to help populate the R tag here, I am posting a few questions I have often received from students. I have developed my own answers to these over the years, but perhaps there are better ways floating around that I don't know about.</p>

<p>The question: I just ran a regression with continuous <code>y</code> and <code>x</code> but factor <code>f</code> (where <code>levels(f)</code> produces <code>c(""level1"",""level2"")</code>)</p>

<pre><code> thelm &lt;- lm(y~x*f,data=thedata)
</code></pre>

<p>Now I would like to plot the predicted values of <code>y</code> by <code>x</code> broken down by groups defined by <code>f</code>. All of the plots I get are ugly and show too many lines.</p>

<p>My answer: Try the <code>predict()</code> function.</p>

<pre><code>##restrict prediction to the valid data 
##from the model by using thelm$model rather than thedata

 thedata$yhat &lt;- predict(thelm,
      newdata=expand.grid(x=range(thelm$model$x),
                          f=levels(thelm$model$f)))

 plot(yhat~x,data=thethedata,subset=f==""level1"")
 lines(yhat~x,data=thedata,subset=f==""level2"")
</code></pre>

<p>Are there other ideas out there that are (1) easier to understand for a newcomer and/or (2) better from some other perspective?</p>
","161808","","190277","","2015-02-08 17:00:54","2017-08-22 14:46:09","Best way to plot interaction effects from a linear model","<r><regression><interaction>","4","0","19","","","CC BY-SA 3.0","1395147","4452","4452","r","404559","3625322","3607736","",""
"1395156","1","1395728","","2009-09-08 17:14:34","","5","8794","<p>Starting with this data frame</p>

<pre><code>myDF = structure(list(Value = c(-2, -1, 0, 1, 2)), .Names = ""Value"", row.names = c(NA, 5L), class = ""data.frame"")
</code></pre>

<p>Suppose I want to run this function on every row of myDF$Value </p>

<pre><code>getNumberInfo &lt;- function(x) {
if(x %% 2 ==0) evenness = ""Even"" else evenness=""Odd""
if(x &gt; 0) positivity = ""Positive"" else positivity = ""NonPositive""
if (positivity == ""Positive"") logX = log(x) else logX=NA
c(evenness,positivity,logX)
} 
</code></pre>

<p>... to get this data frame</p>

<pre><code>structure(list(Value = c(-2, -1, 0, 1, 2), Evenness = c(""Even"", 
""Odd"", ""Even"", ""Odd"", ""Even""), Positivity = c(""NonPositive"", 
""NonPositive"", ""NonPositive"", ""Positive"", ""Positive""), Log = c(NA, 
NA, NA, ""0"", ""0.693147180559945"")), row.names = c(NA, 5L), .Names = c(""Value"", 
""Evenness"", ""Positivity"", ""Log""), class = ""data.frame"")
</code></pre>
","23929","","23929","","2009-09-08 17:43:25","2009-09-09 20:47:10","How to make an R function return multiple columns and append them to a data frame?","<function><r><append><dataframe>","3","0","5","","","CC BY-SA 2.5","1395156","4452","4452","r","404559","3625322","3607736","",""
"1395157","1","","","2009-09-08 17:14:42","","1","109","<p>I have data representing the paths people take across a fixed set of points (discrete, e.g., nodes and edges).  So far I have been using <code>igraph</code>. </p>

<p>I haven't found a good way yet (in <code>igraph</code> or another package) to create <code>canonical paths</code> summarizing what significant sub-groups of respondents are doing.  </p>

<p>A <code>canonical path</code> can be operationalized in any reasonable way and is just meant to represent a typical path or sub-path for a significant portion of the population.  </p>

<p>Does there already exist a function to create these within <code>igraph</code> or another package?</p>
","170236","","3392044","","2016-03-04 10:27:07","2016-03-04 10:27:07","Analyzing Path Data","<r><graph-theory>","1","0","","","","CC BY-SA 3.0","1395157","4452","4452","r","404559","3625322","3607736","",""
"1395158","1","1395424","","2009-09-08 17:15:03","","5","1226","<p>I read a table from Microsoft Access using RODBC. Some of the variables had a name with a space in it.</p>

<p>R has no problem with it but I do.
I cannot find out how to specify the space</p>

<pre><code>names(alltime)
 [1] ""ID""            ""LVL7""          ""Ref Pv No""     ""Ref Pv Name""   ""DOS""           ""Pt Last Name""  ""Pt First Name"" ""MRN""           ""CPT""           ""CPT Desc""      ""DxCd1""         ""DxCd2""         ""DxCd3""         ""DxCd4""        
[15] ""DOE""    
</code></pre>

<p>But what do I do if I want to do something such as this</p>

<pre><code>&gt; alltime[grep(""MIDDLE EAR EXPLORE"",alltime$CPT Desc,]
Error: unexpected symbol in ""alltime[grep(""MIDDLE EAR EXPLORE"",alltime$CPT Desc""
</code></pre>
","168139","","5414452","","2015-12-27 12:56:24","2015-12-27 12:56:24","Making good column names R","<r><naming-conventions>","2","1","0","","","CC BY-SA 3.0","1395158","4452","4452","r","404559","3625322","3607736","",""
"1395174","1","1395196","","2009-09-08 17:18:03","","9","1702","<p>That is, is there an embedded R interpreter available?</p>
","23929","","49246","","2009-09-10 10:25:10","2016-09-09 11:27:23","How to call R from within a web server (like Apache)?","<apache><r><embedded-language>","2","0","2","","","CC BY-SA 2.5","1395174","4452","4452","r","404559","3625322","3607736","",""
"1395180","1","","","2009-09-08 17:19:57","","41","18159","<h3>Related question</h3>
<blockquote>
<p><a href=""https://stackoverflow.com/questions/102056/how-to-search-for-r-materials"">how to search for r materials</a></p>
</blockquote>
<p>Part of the reason why the R community has been attracted to a tag based service like StackOverflow, I think, is that information on R is fundamentally difficult to find online.  Services like <a href=""http://www.rseek.org/"" rel=""noreferrer"">RSeek</a> have made this slightly less painful, however, I often find the search results scattered.</p>
<p>Specifically, I am often curious if R packages exist to meet a specific need I am facing.  RSeek is useful for finding package documentation, but not for discovering new packages---and the R package manager is even less useful.  As such, what are some best practices for searching for packages?  That is, when I realize I have a need that my current set of R packages will not meet, and before creating the functionality myself I would like to search for a package that will meet the need.  What is the best way to proceed?</p>
","144537","","-1","","2020-06-20 09:12:55","2017-07-26 09:17:42","Best way to search for R packages?","<r><search>","7","3","17","2013-12-17 22:05:39","","CC BY-SA 3.0","1395180","4452","4452","r","404559","3625322","3607736","",""
"1395189","1","","","2009-09-08 17:21:50","","6","982","<p>In a matrix, if there is some missing data recorded as `NA.</p>

<ul>
<li>how could I delete rows with <code>NA</code> in the matrix? </li>
<li>can I use <code>na.rm</code>?</li>
</ul>
","","Lu Wang","3392044","","2016-03-04 10:29:37","2016-03-04 10:29:37","Questions about missing data","<r><matrix><na>","3","0","1","","","CC BY-SA 3.0","1395189","4452","4452","r","404559","3625322","3607736","",""
"1395191","1","1395293","","2009-09-08 17:22:50","","10","19827","<p>I have a data frame with several columns, one of which is a factor called ""site"". How can I split the data frame into blocks of rows each with a unique value of ""site"", and then process each block with a function? The data look like this:</p>

<pre><code>site year peak
ALBEN 5 101529.6
ALBEN 10 117483.4
ALBEN 20 132960.9
ALBEN 50 153251.2
ALBEN 100 168647.8
ALBEN 200 184153.6
ALBEN 500 204866.5
ALDER 5 6561.3
ALDER 10 7897.1
ALDER 20 9208.1
ALDER 50 10949.3
ALDER 100 12287.6
ALDER 200 13650.2
ALDER 500 15493.6
AMERI 5 43656.5
AMERI 10 51475.3
AMERI 20 58854.4
AMERI 50 68233.3
AMERI 100 75135.9
AMERI 200 81908.3
</code></pre>

<p>and I want to create a plot of <code>year</code> vs <code>peak</code> for each site.</p>
","154039","","5414452","","2015-12-27 12:14:43","2019-04-20 10:49:49","How to split a data frame by rows, and then process the blocks?","<r><split><dataframe>","7","0","8","","","CC BY-SA 2.5","1395191","4452","4452","r","404559","3625322","3607736","",""
"1395206","1","","","2009-09-08 17:24:41","","3","2219","<p>I have two vectors, <code>subject</code> and <code>target</code>. I want to create a new vector based on comparisons between the two existing vectors, with elements being compared <code>lagged</code>. I've solved this okay using the loop below, but I'm essentially wondering whether there's a more elegant solution using <code>apply</code>?</p>

<pre><code>subject &lt;- c(200, 195, 190, 185, 185, 185, 188, 189, 195, 200, 210, 210)
target &lt;- c(subject[1], subject[1]-cumsum(rep(perweek, length(subject)-1)))
adjtarget &lt;- target                                               

for (i in 1:(length(subject)-1)) {
  if (subject[i] &gt; adjtarget[i]) {                
    adjtarget[i+1] &lt;- adjtarget[i]           
   } else {                                       
    adjtarget[i+1] &lt;- adjtarget[i]-perweek  }
   }
 }
</code></pre>
","170048","","10068985","","2019-02-22 15:32:46","2019-02-22 15:32:46","New vector based on comparing elements of two other vectors ""lagged""?","<r>","2","3","","","","CC BY-SA 4.0","1395206","4452","4452","r","404559","3625322","3607736","",""
"1395229","1","1395256","","2009-09-08 17:28:42","","138","236011","<p>I would like to increase (or decrease) the amount of memory available to R.  What are the methods for achieving this?</p>
","2002705","","5215474","","2018-07-14 19:29:46","2020-12-04 01:59:07","Increasing (or decreasing) the memory available to R processes","<r><memory-management><memory-leaks>","7","0","43","","","CC BY-SA 3.0","1395229","4452","4452","r","404559","3625322","3607736","",""
"1395233","1","1671716","","2009-09-08 17:29:55","","7","749","<p>Say I have the following function:</p>

<pre><code>foo &lt;- function(x, y = min(m)) {
    m &lt;- 1:10
    x + y
}
</code></pre>

<p>When I run <code>foo(1)</code>, the returned value is <code>2</code>, as expected. However, I cannot run <code>foo(1, y = max(m))</code> and receive <code>11</code>, since lazy evaluation only works for default arguments. How can I supply an argument but have it evaluate lazily?</p>
","143383","","415690","","2011-01-13 20:24:34","2015-05-13 14:20:35","Lazy evaluation of supplied arguments","<r><lazy-evaluation>","3","1","2","","","CC BY-SA 2.5","1395233","4452","4452","r","404559","3625322","3607736","",""
"1395266","1","","","2009-09-08 17:35:35","","6","599","<p>Is there any link between R and Clojure?</p>

<p>I am aware of <a href=""http://incanter.org/"" rel=""noreferrer"">Incanter</a>, but am ideally looking for an R package for Clojure
or any future plans for one, in order to call clojure from within R.</p>
","","user162579","143804","","2009-09-08 17:41:59","2015-06-17 01:13:41","Calling Clojure from within R?","<r><clojure>","2","1","3","","","CC BY-SA 2.5","1395266","4452","4452","r","404559","3625322","3607736","",""
"1395267","1","","","2009-09-08 17:35:40","","2","779","<p>Currently, I generate results from statistical analyses (e.g., a three dimensional plot) and then ""manually"" move it to <a href=""http://www.procesing.org"" rel=""nofollow noreferrer"">processing</a> - a graphics programming language) where I can (with some simple coding) export an interactive java applet (e.g., allow the person viewing the plot to move in, out and around the data points).  Can I keep this whole process within R?  Specifically, I want to create an applet (doesn't have to be Java but would need to be web embeddable, interactive (so not a movie) and not require the user to work in R or have to download things) that can be passed on.
Thanks.</p>
","170236","","","","","2009-09-08 20:44:39","Creating interactive pplets from R Output","<r><applet><interactive>","2","0","1","","","CC BY-SA 2.5","1395267","4452","4452","r","404559","3625322","3607736","",""
"1395270","1","","","2009-09-08 17:36:12","","154","78600","<p>I'd like to work out how much RAM is being used by each of my objects inside my current workspace. Is there an easy way to do this?</p>
","136862","","202229","","2014-05-17 00:20:33","2021-05-09 19:03:42","Determining memory usage of objects?","<memory><r>","6","2","70","","","CC BY-SA 3.0","1395270","4452","4452","r","404559","3625322","3607736","",""
"1395271","1","1395583","","2009-09-08 17:36:30","","11","3593","<p>Hadley turned me on to the <a href=""http://had.co.nz/plyr/"" rel=""noreferrer"">plyr</a> package and I find myself using it all the time to do 'group by' sort of stuff. But I find myself having to always rename the resulting columns since they default to V1, V2, etc. </p>

<p>Here's an example:</p>

<pre><code>mydata&lt;-data.frame(matrix(rnorm(144, mean=2, sd=2),72,2),c(rep(""A"",24),rep(""B"",24),rep(""C"",24)))
colnames(mydata) &lt;- c(""x_value"", ""acres"",  ""state"")
groupAcres &lt;- ddply(mydata, c(""state""), function(df)c(sum(df$acres)))
colnames(groupAcres) &lt;- c(""state"",""stateAcres"")
</code></pre>

<p>Is there a way to make ddply name the resulting column for me so I can omit that last line?</p>
","37751","","37751","","2009-10-26 14:37:47","2009-10-26 14:37:47","renaming the output column with the plyr package in R","<r><plyr>","2","2","4","","","CC BY-SA 2.5","1395271","4452","4452","r","404559","3625322","3607736","",""
"1395284","1","1395360","","2009-09-08 17:39:12","","5","25504","<p>I am trying to have the x-axis labels to be split into two lines. I would also like the labels to be rotated 45 degrees. How can I do this?</p>

<p>What I have so far:</p>

<pre><code>N &lt;- 10
dnow &lt;- data.frame(x=1:N, y=runif(N), labels=paste(""This is observation "",1:N))
with(dnow, plot(x,y, xaxt=""n"", xlab=""""))
atn &lt;- seq(1,N,3)
axis(1, at=atn, labels=labels[atn])
</code></pre>
","143377","","","","","2019-04-20 13:48:31","Is it possible to break axis labels into 2 lines in base graphics?","<graphics><r>","2","2","0","","","CC BY-SA 2.5","1395284","4452","4452","r","404559","3625322","3607736","",""
"1395294","1","1395431","","2009-09-08 17:41:48","","2","124","<p>I have a list of <code>lm</code> (linear model) objects.</p>

<p>How can I select a particular element (such as the intercept, rank, or residuals) from all the objects in a single call?</p>
","2002705","","2415684","","2015-06-17 01:10:45","2015-06-17 01:12:09","Returning a vector of attributes shared by a set of objects","<r>","2","0","1","","","CC BY-SA 3.0","1395294","4452","4452","r","404559","3625322","3607736","",""
"1395301","1","1396410","","2009-09-08 17:42:57","","23","82960","<p>I use R under Windows on several machines.</p>

<p>I know you can set the working directory from within an R script, like this</p>

<pre><code>setwd(""C:/Documents and Settings/username/My Documents/x/y/z"")
</code></pre>

<p>... but then this breaks the portability of the script. It's also annoying to have to reverse all the slashes (since Windows gives you backslashes)</p>

<p>Is there a way to start R in a particular working directory so that you don't need to do this at the script level?</p>
","23929","","1288","","2013-01-24 01:00:32","2021-04-06 05:21:03","How to get R to recognize your working directory as its working directory?","<r><path><installation><working-directory>","10","0","8","","","CC BY-SA 3.0","1395301","4452","4452","r","404559","3625322","3607736","",""
"1395309","1","","","2009-09-08 17:44:17","","30","47551","<p>I have a quad-core laptop running Windows XP, but looking at Task Manager R only ever seems to use one processor at a time. How can I make R use all four processors and speed up my R programs?</p>
","154039","","202229","","2015-07-20 04:07:29","2016-02-06 14:11:41","How to make R use all processors?","<linux><r><windows><parallel-processing><packages>","7","1","35","","","CC BY-SA 2.5","1395309","4452","4452","r","404559","3625322","3607736","",""
"1395323","1","1571985","","2009-09-08 17:47:14","","29","45352","<p>What graphics devices let me use system fonts for text within charts? The base graphics system only has a small amount of documentation around the <code>par(family=...)</code> options.</p>

<p>Ideally I'd like to be able to use any font I can browse through a tool like <code>xfontsel</code> on Linux or the equivalent utilities on other platforms.</p>

<p>My current solution is to plot out as PDF and then use a 3rd party program to replace the fonts from within the PDF. This is not ideal.</p>
","136862","","","","","2019-01-29 02:56:14","Fonts in R plots","<graphics><r><fonts>","2","0","10","","","CC BY-SA 2.5","1395323","4452","4452","r","404559","3625322","3607736","",""
"1395391","1","34500661","","2009-09-08 17:58:44","","4","349","<p>Is there an easy way to read the value of the cells rather than the formula?
By the way I only get this problem in a spreadsheet that I have published but not in spreadsheets that are private.
So for instance in a cell whose value was created by simply using the value from the cell immediately to the left in the Google spreadsheet I would prefer to get the value rather than  <code>=RC[-1]</code></p>

<p>When one exports with Google Spreadsheets as a csv then that does not happen.</p>

<p>I am using the following line of code in R</p>

<pre><code>y2009&lt;-sheetAsMatrix(ts2$y2009,header=TRUE, as.data.frame=TRUE, trim=TRUE)
</code></pre>
","168139","","5414452","","2015-12-27 12:21:41","2015-12-28 20:56:58","Getting value rather than formula in RGoogleDocs","<r><google-docs>","3","6","6","","","CC BY-SA 2.5","1395391","4452","4452","r","404559","3625322","3607736","",""
"1395410","1","1395443","","2009-09-08 18:02:51","","53","89995","<p>I know that </p>

<pre><code> pdf(""myOut.pdf"")
</code></pre>

<p>will print to a PDF in R. What if I want to</p>

<ol>
<li><p>Make a loop that prints subsequent graphs on new pages of a PDF file (appending to the end)?</p></li>
<li><p>Make a loop that prints subsequent graphs to new PDF files (one graph per file)?</p></li>
</ol>
","23929","","","","","2020-07-20 02:13:08","How to print R graphics to multiple pages of a PDF and multiple PDFs?","<graphics><r><plot>","3","0","22","","","CC BY-SA 2.5","1395410","4452","4452","r","404559","3625322","3607736","",""
"1395499","1","1416643","","2009-09-08 18:22:43","","3","815","<p>I want to subtract 1 day from a POSIX date and end up at the same time around DST.  </p>

<p>For example, when I add a day:</p>

<pre><code>&gt; as.POSIXct('2009-03-08 23:00:00.000') + 86400
[1] ""2009-03-09 23:00:00 EDT""
</code></pre>

<p>But when I go past, it offsets:</p>

<pre><code>&gt; as.POSIXct('2009-03-08 23:00:00.000') - 86400
[1] ""2009-03-07 22:00:00 EST""
</code></pre>

<p>What's the best way to deal with absolute time differences around DST?  Usually I deal with this by converting the times into strings and dealing with them separately so that DST isn't applied.</p>
","163053","","202229","","2018-05-20 06:04:22","2018-05-20 06:04:22","POSIXct times around DST?","<r><dst><date-arithmetic><posixct>","5","0","","","","CC BY-SA 2.5","1395499","4452","4452","r","404559","3625322","3607736","",""
"1395504","1","1395653","","2009-09-08 18:23:42","","0","561","<p>I would like to read a binary file -- of indeterminate length -- directly from a URL in R.  Using <code>readBin</code> to read from a URL, without specifying the file size, does not work.</p>

<pre><code> anImage &lt;- readBin('http://user2010.org/pics/useR-large.png','raw')
</code></pre>

<p>Is there another approach that would allow this?</p>
","2002705","","5414452","","2015-12-27 12:38:26","2015-12-27 12:38:26","Reading binary data of indeterminate length in R","<r><binaryfiles>","2","0","","","","CC BY-SA 2.5","1395504","4452","4452","r","404559","3625322","3607736","",""
"1395517","1","1959526","","2009-09-08 18:26:02","","3","359","<p>Are there any R-project packages that implement AOP?  Or even better an example of an R package that uses any such AOP library.</p>
","152860","","","","","2017-05-23 20:11:25","Aspect oriented programming in r: Any libraries available?","<r><aop>","2","0","2","","","CC BY-SA 2.5","1395517","4452","4452","r","404559","3625322","3607736","",""
"1395528","1","1849388","","2009-09-08 18:27:33","","155","119233","<p>How do I scrape html tables using the XML package?</p>

<p>Take, for example, this wikipedia page on the <a href=""http://en.wikipedia.org/wiki/Brazil_national_football_team"" rel=""noreferrer"">Brazilian soccer team</a>. I would like to read it in R and get the ""list of all matches Brazil have played against FIFA recognised teams"" table as a data.frame. How can I do this?</p>
","143377","","936420","","2016-11-10 15:40:17","2018-10-22 15:41:33","Scraping html tables into R data frames using the XML package","<html><r><xml><parsing><web-scraping>","4","1","114","","","CC BY-SA 2.5","1395528","4452","4452","r","404559","3625322","3607736","",""
"1395577","1","","","2009-09-08 18:35:11","","20","70133","<p>I have a plot() that I'm trying to make, but I do not want the x-values to be used as the axis labels...I want a different character vector that I want to use as labels, in the standard way: Use as many as will fit, drop the others, etc. What should I pass to plot() to make this happen?</p>

<p>For example, consider</p>

<pre><code>d &lt;- data.frame(x=1:5,y=10:15,x.names=c('a','b','c','d','e'))
</code></pre>

<p>In barplot, I would pass <code>barplot(height=d$y,names.arg=d$x.names)</code>, but in this case the actual x-values are important. So I would like an analog such as <code>plot(x=d$x,y=d$y,type='l',names.arg=d$x.names)</code>, but that does not work.</p>
","","","2204410","","2017-08-27 08:40:59","2017-08-27 08:40:59","How do I set what plot() labels the x-axis with?","<r><plot>","1","1","8","","","CC BY-SA 3.0","1395577","4452","4452","r","404559","3625322","3607736","",""
"1395622","1","1401956","","2009-09-08 18:42:36","","35","6476","<p>Code written using lapply and friends is usually easier on the eyes and more Rish than loops.  I love lapply just as much as the next guy, but how do I debug it when things go wrong? For example:</p>

<pre><code>&gt; ## a list composed of numeric elements 
&gt; x &lt;- as.list(-2:2)
&gt; ## turn one of the elements into characters
&gt; x[[2]] &lt;- ""what?!?""
&gt; 
&gt; ## using sapply
&gt; sapply(x, function(x) 1/x)
Error in 1/x : non-numeric argument to binary operator
</code></pre>

<p>Had I used a  for loop:</p>

<pre><code>&gt; y &lt;- rep(NA, length(x))
&gt; for (i in 1:length(x)) {
+     y[i] &lt;-  1/x[[i]]
+ }
Error in 1/x[[i]] : non-numeric argument to binary operator
</code></pre>

<p>But I would know where the error happened:</p>

<pre><code>&gt; i
[1] 2
</code></pre>

<p>What should I do when using lapply/sapply?</p>
","143377","","","","","2009-09-10 05:49:11","Debugging lapply/sapply calls","<r>","7","1","22","","","CC BY-SA 2.5","1395622","4452","4452","r","404559","3625322","3607736","",""
"1395945","1","","","2009-09-08 19:46:48","","10","21252","<p>In ggplot2, how could I change the color of coloring in scatter plot?</p>
","","Lu Wang","322912","","2011-12-29 10:18:24","2019-04-20 13:49:14","How to change color of scatterplot in ggplot2","<r><ggplot2>","3","0","7","","","CC BY-SA 3.0","1395945","4452","4452","r","404559","3625322","3607736","",""
"1396632","1","1396982","","2009-09-08 22:17:04","","1","1385","<p>Are there any R-project packages that facilitate asynchronous network IO?
I'm think here along the lines of Ruby's Eventmachine or Python's Twisted.
If there are several such packages/libraries which is the best in terms of:
 - performance
 - features</p>
","152860","","","","","2009-09-09 00:24:18","Asynchronous network IO using r: Any existing packages","<r><asynchronous><network-programming>","1","0","2","2015-04-14 01:36:52","","CC BY-SA 2.5","1396632","4452","4452","r","404559","3625322","3607736","",""
"1397097","1","1398854","","2009-09-09 01:04:56","","26","16137","<p>I doubt this is the right place to ask the question, but I was wondering if there is a good place for an introduction to developing web apps in R. I know people are doing it and I know about where to find out about RApache and brew but any kind of walkthrough?</p>

<p>Just checking before I start on my own.</p>
","142879","","5414452","","2015-12-27 13:18:15","2015-12-27 13:18:15","R web application introduction","<r><web-applications>","4","1","21","2015-12-27 14:11:20","","CC BY-SA 2.5","1397097","4452","4452","r","404559","3625322","3607736","",""
"1397823","1","1401668","","2009-09-09 06:17:53","","12","5114","<p>These days I am extensively using R to scatter plots.
Most of the plotting is concerned with image processing,
Recently I was thinking of plotting the scatter plots over an image. </p>

<p>For example, I want something like this,
The background needs to be filled with my image. With a particular scale.
And I should be able to draw points (co-ordinates) on top of this image ...</p>

<p>Is this possible in R?
If not, do you guys know of any other tool that makes this easy ...</p>
","70702","","","","","2017-11-13 19:14:59","plotting points on top of image in R","<r><image-processing><plot><scatter-plot>","2","0","1","","","CC BY-SA 2.5","1397823","4452","4452","r","404559","3625322","3607736","",""
"1399217","1","1399351","","2009-09-09 11:50:56","","2","1590","<p>While I can change annotations with the generic plot command turning off axes and 
annotations and specifying them again using the axis command e.g.</p>

<pre><code>cars &lt;- c(1, 3, 6, 4, 9)

plot(cars, type=""o"", col=""blue"", ylim=range(0, cars), axes=FALSE, ann=FALSE)  
axis(1, at=1:5, lab=c(""Mon"",""Tue"",""Wed"",""Thu"",""Fri""))
</code></pre>

<p>I cant do it with time series object e.g.</p>

<pre><code>www &lt;- ""http://www.massey.ac.nz/~pscowper/ts/Maine.dat""  
Maine.month &lt;- read.table(www, header = TRUE)  
attach(Maine.month)  
Maine.month.ts &lt;- ts(unemploy, start = c(1996, 1), freq = 12)  
Maine.98 &lt;- window(Maine.month.ts, start = c(1998,1), end = c(1998,11))
</code></pre>

<p>How can I plot <code>Maine.98</code> with annotations looking like:</p>

<pre><code>""Jan-98""   ""Feb-98""   ""Mar-98""   ""Apr-98""   ""May-98""  etc?
</code></pre>
","170792","","3392044","","2016-02-29 08:21:20","2016-02-29 08:21:20","Changing annotations in time series plots in R","<r><annotations><plot><time-series>","2","0","2","","","CC BY-SA 3.0","1399217","4452","4452","r","404559","3625322","3607736","",""
"1400937","1","1401030","","2009-09-09 17:19:44","","11","3736","<p>How to use gsub with more than 9 backreferences? 
I would expect the output in the example below to be ""e, g, i, j, o"".</p>

<pre><code>&gt; test &lt;- ""abcdefghijklmnop""
&gt; gsub(""(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)(\\w)"", ""\\5, \\7, \\9, \\10, \\15"", test, perl = TRUE)
[1] ""e, g, i, a0, a5""
</code></pre>
","168168","","","","","2015-10-25 17:23:38","More than 9 backreferences in gsub()","<regex><r><gsub>","6","0","2","","","CC BY-SA 2.5","1400937","4452","4452","r","404559","3625322","3607736","",""
"1401872","1","","","2009-09-09 20:22:22","","5","2977","<p>we have to fit about 2000 or odd time series every month,
they have very idiosyncratic behavior in particular, some are arma/arima, some are ewma, some are arch/garch with or without seasonality and/or trend (only thing in common is the time series aspect).</p>

<p>one can in theory build ensemble model with aic or bic criterion to choose the best fit model but is the community aware of any library which attempts to solve this problem?</p>

<p>Google made me aware of the below one by Rob J Hyndman
<a href=""http://robjhyndman.com/software/forecast"" rel=""nofollow noreferrer"">link</a></p>

<p>but are they any other alternatives? </p>
","153440","","163053","","2009-09-30 15:07:03","2011-01-12 15:07:29","On the issue of automatic time series fitting using R","<r><time-series><curve-fitting>","2","2","9","","","CC BY-SA 2.5","1401872","4452","4452","r","404559","3625322","3607736","",""
"1401894","1","1404365","","2009-09-09 20:27:39","","7","22396","<p>I need to calculate the within and between run variances from some data as part of developing a new analytical chemistry method.  I also need confidence intervals from this data using the R language</p>

<p>I assume I need to use anova or something ?</p>

<p>My data is like</p>

<pre><code>&gt; variance
   Run Rep Value
1    1   1  9.85
2    1   2  9.95
3    1   3 10.00
4    2   1  9.90
5    2   2  8.80
6    2   3  9.50
7    3   1 11.20
8    3   2 11.10
9    3   3  9.80
10   4   1  9.70
11   4   2 10.10
12   4   3 10.00
</code></pre>
","74658","","","","","2019-06-21 23:57:28","Calculate within and between variances and confidence intervals in R","<r><statistics>","4","0","5","","","CC BY-SA 2.5","1401894","4452","4452","r","404559","3625322","3607736","",""
"1401904","1","3977156","","2009-09-09 20:29:11","","163","61176","<p><a href=""http://www.stat.columbia.edu/~cook/movabletype/archives/2009/08/upgrading_r.html"" rel=""noreferrer"">Andrew Gelman recently lamented the lack of an easy upgrade process for R</a> (probably more relevant on Windows than Linux).  Does anyone have a good trick for doing the upgrade, from installing the software to copying all the settings/packages over?</p>

<p>This suggestion was contained in the comments and is what I've been using recently.  First you install the new version, then run this in the old verion:</p>

<pre><code>#--run in the old version of R
setwd(""C:/Temp/"")
packages &lt;- installed.packages()[,""Package""]
save(packages, file=""Rpackages"")
</code></pre>

<p>Followed by this in the new version:</p>

<pre><code>#--run in the new version
setwd(""C:/Temp/"")
load(""Rpackages"")
for (p in setdiff(packages, installed.packages()[,""Package""]))
install.packages(p)
</code></pre>
","163053","","3817004","","2017-05-23 20:04:33","2020-12-17 15:01:57","Painless way to install a new version of R?","<r><upgrade><packages>","12","3","138","","","CC BY-SA 3.0","1401904","4452","4452","r","404559","3625322","3607736","",""
"1402001","1","","","2009-09-09 20:48:08","","7","9699","<p>Is it possible to perform a bulk insert into an MS-SQL Server (2000, 2005, 2008) using the RODBC package?</p>

<p>I know that I can do this using freebcp, but I'm curious if the RODBC package implements this portion of the Microsoft SQL API and if not, how difficult it would be to implement it.</p>
","168542","","2246344","","2015-12-27 12:35:37","2018-03-10 17:03:47","MS-SQL Bulk Insert with RODBC","<sql><r><rodbc>","6","0","2","","","CC BY-SA 3.0","1402001","4452","4452","r","404559","3625322","3607736","",""
"1402634","1","1402655","","2009-09-09 23:15:13","","8","3074","<p>I would like to incorporate variable names that imply what I should do with them. I imagine a dataframe ""survey"".</p>

<pre><code>library(Rlab) # Needed for rbern() function.
survey &lt;- data.frame(cbind(  
id = seq(1:10),  
likert_this = sample(seq(1:7),10, replace=T),  
likert_that = sample(seq(1:7), 10, replace=T),  
dim_bern_varx = rbern(10, 0.6),  
disc_1 = sample(letters[1:5],10,replace=T)))
</code></pre>

<p>Now I would like to do certain things with all variables that contain <em>likert</em>, other things with variables that contain <em>bern</em> etc. </p>

<p>How can this be done in R?</p>
","162832","","4370109","","2015-12-02 15:21:02","2015-12-02 15:21:02","Choose variables based on name (simple regular expression)","<r><dataframe><subset>","3","0","5","","","CC BY-SA 2.5","1402634","4452","4452","r","404559","3625322","3607736","",""
"1403355","1","1406337","","2009-09-10 04:29:43","","0","303","<p>I am using R for scatter plots, and now also for 3D cloud plots on top of an image.
I have an application that generates a lot of such 3D coordinates and I need to see those coordinates on top of the image at run-time (for debugging purposes).</p>

<p>Is it possible for my Windows application to communicate to R at run-time?</p>
","70702","","1083921","","2016-03-04 13:12:01","2016-03-04 13:12:01","Real time data exchange between R and Windows application","<r><plot>","2","1","","","","CC BY-SA 3.0","1403355","4452","4452","r","404559","3625322","3607736","",""
"1403560","1","1403605","","2009-09-10 05:45:43","","6","5870","<p>Whenever I run large scale monte carlo simulations in S-Plus, I always end up growing a beard while I wait for it to complete.  </p>

<p>What are the best tricks for running monte carlo simulations in R?  Any good examples of running processes in a distributed fashion?</p>
","171249","","109942","","2009-09-10 05:58:53","2014-08-04 13:12:10","What's the best trick to speed up a monte carlo simulation?","<r><simulation><distributed-computing><montecarlo>","4","0","8","2014-08-04 18:12:26","","CC BY-SA 2.5","1403560","4452","4452","r","404559","3625322","3607736","",""
"1405571","1","1405649","","2009-09-10 14:21:45","","26","23139","<p>How would it be possible in the example below to skip the step of writing to file ""test.txt"", i.e. assign the cat-result to an object, and still achieve the same end result?</p>

<p>I thought I'd include the full example to give background to my problem.</p>

<pre><code>test &lt;- c(""V 1"", ""x"", ""1 2 3"", ""y"", ""3 5 8"", ""V 2"", ""x"", ""y"", ""V 3"", ""y"", ""7 2 1"", ""V 4"", ""x"", ""9 3 7"", ""y"")

# Write selection to file
cat(test, ""\n"", file=""test.txt"")
test2 &lt;- readLines(""test.txt"")
test3 &lt;- strsplit(test2, ""V "")[[1]][-1]

# Find results
x &lt;- gsub(""([0-9]) (?:x )?([0-9] [0-9] [0-9])?.*"", ""\\1 \\2 "", test3, perl = TRUE)
y &lt;- gsub(""([0-9]).* y ?([0-9] [0-9] [0-9])?.*"", ""\\1 \\2 "", test3, perl = TRUE)

# Eliminate tests with no results
x1 &lt;- x[regexpr(""[0-9] ([^0-9]).*"", x) == -1]
y1 &lt;- y[regexpr(""[0-9] ([^0-9]).*"", y) == -1]

# Dataframe of results
xdf1 &lt;- read.table(textConnection(x1), col.names=c(""id"",""x1"",""x2"",""x3""))
ydf1 &lt;- read.table(textConnection(y1), col.names=c(""id"",""y1"",""y2"",""y3""))
closeAllConnections()

# Dataframe of tests with no results
x2 &lt;- x[regexpr(""[0-9] ([^0-9]).*"", x) == 1]
y2 &lt;- y[regexpr(""[0-9] ([^0-9]).*"", y) == 1]

df1 &lt;- as.integer(x2[x2 == y2])
df1 &lt;- data.frame(id = df1)

# Merge dataframes
results &lt;- merge(xdf1, ydf1, all = TRUE)
results &lt;- merge(results, df1, all = TRUE)
results
</code></pre>

<p>Results in:</p>

<pre><code>  id x1 x2 x3 y1 y2 y3
1  1  1  2  3  3  5  8
2  2 NA NA NA NA NA NA
3  3 NA NA NA  7  2  1
4  4  9  3  7 NA NA NA
</code></pre>
","168168","","","","","2016-07-14 06:16:58","How to assign output of cat to an object?","<r><variable-assignment>","5","0","6","","","CC BY-SA 2.5","1405571","4452","4452","r","404559","3625322","3607736","",""
"1406202","1","","","2009-09-10 16:05:10","","9","9145","<p>I have a nice surface that represents nonlinear multi-part regression results on a regression with two independent variables. I would like to plot the regression predicted values as a nice 3D surface and then show the actual values as point that bounce around the surface. This would be the 3D version of plotting a regression line and showing the actuals as points around the line. I can't figure out how to do this with lattice. I'm happy to use another graphing library in R, but I don't know of others that do 3D plots. </p>

<p>Here's a simplified version of what I want to do:</p>

<pre><code>library(lattice)
#set up some simplified data
x &lt;- seq(-.8, .8, .1)
y &lt;- seq(-.8, .8, .1)
myGrid &lt;- data.frame(expand.grid(x,y))
colnames(myGrid) &lt;- c(""x"",""y"")
myGrid$z &lt;- myGrid$x + myGrid$y
noise &lt;- rnorm(length(myGrid$z),.3,.2)
myGrid$z2 &lt;- myGrid$x + myGrid$y + noise
</code></pre>

<p>z is my smooth surface and z2 are my noisy points mostly slightly above the surface. So the surface looks like this:</p>

<pre><code>wireframe(myGrid$z ~ myGrid$x * myGrid$y, xlab=""X"", ylab=""Y"", zlab=""Z"")
</code></pre>

<p><a href=""https://i.stack.imgur.com/M6wtI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/M6wtI.png"" alt=""enter image description here""></a></p>

<p>and the cloud of points looks like this:</p>

<pre><code>cloud(myGrid$z2 ~ myGrid$x * myGrid$y, xlab=""X"", ylab=""Y"", zlab=""Z"")
</code></pre>

<p><a href=""https://i.stack.imgur.com/o6UXV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/o6UXV.png"" alt=""enter image description here""></a></p>

<p>Is it possible to get both of these in one lattice panel?</p>
","37751","","8881141","","2018-10-28 11:22:17","2018-10-28 11:22:17","Plotting a wireframe AND a cloud with lattice in R","<r><lattice><wireframe>","2","0","5","","","CC BY-SA 4.0","1406202","4452","4452","r","404559","3625322","3607736","",""
"1407238","1","1435648","","2009-09-10 19:29:01","","5","4598","<p>Early in my R life I discovered the pain of R and windows being on different pages when it came to the separator between directories and subdirectories. Eventhough I know about the problem, I am still pained by manually having to put a backslash in front of all my backslashes or replacing all of them with forward slashes. </p>

<p>I love copying a path name or an entire filename with any one of several applications that I have running on my computer (eg. XYPlorer, Everything by voidtools) and then pasting it into Tinn-R. Is there anyway that I could automate the task that I am currently doing manually.</p>

<ul>
<li>Is there a setting in Tinn-R?</li>
<li>Is there a setting in R?</li>
<li>Is there a autohotkey script that could do it for me by default?</li>
</ul>

<hr>

<p>Background for those who don't know what I am talking about</p>

<p>Quoting from R for Windows FAQ, Version for R-2.9.2, B. D. Ripley and D. J. Murdoch</p>

<blockquote>
  <p>Backslashes have to be doubled in R
  character strings, so for example one
  needs
  `""d:\R-2.9.2\library\xgobi\scripts\xgobi.bat""'.
  You can make life easier for yourself
  by using forward slashes as path
  separators: they do work under Windows</p>
</blockquote>
","168139","","168139","","2010-04-16 19:15:05","2019-07-19 14:30:52","Relief from backslash irritation in R for Windows","<r><autohotkey>","9","0","4","","","CC BY-SA 2.5","1407238","4452","4452","r","404559","3625322","3607736","",""
"1407449","1","1407792","","2009-09-10 20:09:55","","13","13786","<p>A week ago I would have done this  manually: subset dataframe by group to new dataframes. For each dataframe compute means for each variables, then rbind. very clunky ... </p>

<p>Now i have learned about <code>split</code> and <code>plyr</code>, and I guess there must be an easier way using these tools. Please don't prove me wrong.</p>

<pre><code>test_data &lt;- data.frame(cbind(
var0 = rnorm(100),
var1 = rnorm(100,1),
var2 = rnorm(100,2),
var3 = rnorm(100,3),
var4 = rnorm(100,4),
group = sample(letters[1:10],100,replace=T),
year = sample(c(2007,2009),100, replace=T)))

test_data$var1 &lt;- as.numeric(as.character(test_data$var1))
test_data$var2 &lt;- as.numeric(as.character(test_data$var2))
test_data$var3 &lt;- as.numeric(as.character(test_data$var3))
test_data$var4 &lt;- as.numeric(as.character(test_data$var4))
</code></pre>

<p>I am toying with both <code>ddply</code> but I can't produce what I desire - i.e. a table like this, for each group</p>

<pre><code>group a |2007|2009|
________|____|____|
var1    | xx | xx |
var2    | xx | xx |
etc.    | etc| ect|
</code></pre>

<p>maybe <code>d_ply</code> and some <code>odfweave</code> output would work to. Inputs are very much appreciated.</p>

<p>p.s. I notice that data.frame converts the rnorm to factors in my data.frame? how can I avoid this - I(rnorm(100) doesn't work so I have to convert to numerics as done above</p>
","162832","","3768871","","2019-04-29 03:35:49","2019-04-29 03:35:49","for each group summarise means for all variables in dataframe (ddply? split?)","<r><dataframe><plyr>","6","1","10","","","CC BY-SA 3.0","1407449","4452","4452","r","404559","3625322","3607736","",""
"1407647","1","","","2009-09-10 20:49:30","","20","241257","<p>I have a text file with an <code>id</code> and <code>name</code> column, and I'm trying to read it into a data frame in R:</p>

<pre><code>d = read.table(""foobar.txt"", sep=""\t"")
</code></pre>

<p>But for some reason, a lot of lines get merged -- e.g., in row 500 of my data frame, I'll see something like</p>

<pre><code>row 500: 500 Bob\n501\tChris\n502\tGrace
</code></pre>

<p>[So if my original text file has, say, 5000 lines, the dimensions of my table will only end up being 1000 rows and 2 columns.]</p>

<p>I've had this happen to me quite a few times. Does anyone know what the problem is, or how to fix it?</p>
","","Ruld","3962914","","2018-02-21 04:16:41","2018-02-21 04:16:41","Reading text files using read.table","<r><read.table>","1","2","9","","","CC BY-SA 3.0","1407647","4452","4452","r","404559","3625322","3607736","",""
"1407680","1","1407770","","2009-09-10 20:57:57","","4","7581","<p>If I have the following dataframe called result</p>

<pre><code>&gt; result
     Name       CV      LCB       UCB
1  within 2.768443 1.869964  5.303702
2 between 4.733483 2.123816 18.551051
3   total 5.483625 3.590745 18.772389

&gt; dput(result,"""")
structure(list(Name = structure(c(""within"", ""between"", ""total""
), .rk.invalid.fields = list(), .Label = character(0)), CV = c(2.768443, 
4.733483, 5.483625), LCB = c(1.869964, 2.123816, 3.590745), UCB = c(5.303702, 
18.551051, 18.772389)), .Names = c(""Name"", ""CV"", ""LCB"", ""UCB""
), row.names = c(NA, 3L), class = ""data.frame"")
</code></pre>

<p>What is the best way to present this data nicely?  Ideally I'd like an image file that can be pasted into a report, or possibly an HTML file to represent the table?</p>

<p>Extra points for setting number of significant figures.</p>
","74658","","3309529","","2014-06-13 13:42:03","2014-06-13 13:42:03","How can I produce report quality tables from R?","<r><reporting><presentation><sweave>","4","0","3","","","CC BY-SA 3.0","1407680","4452","4452","r","404559","3625322","3607736","",""
"1408897","1","","","2009-09-11 03:56:24","","8","4337","<p>I have <code>GNU R</code> installed (the <code>S-like</code> statistics package; version 2.8.1) and <code>PostgreSQL (8.4.1)</code>, but I cannot connect <code>GNU R</code> to my <code>RDBMS</code>.</p>

<p>When I first did this (years ago - code lost) <code>DBI</code> for <code>R</code> didn't exist. Now it does. I am also confused as to which <code>R</code> package to use. A quick search returns:</p>

<ul>
<li><a href=""http://cran.r-project.org/web/packages/RPostgreSQL/"" rel=""nofollow noreferrer"">RPostgreSQL</a> seems to be the most up-to-date</li>
<li><code>RPgSQL</code> Looks abandoned. I wish they would put a date on their webpage. ;-(</li>
</ul>

<p>My <code>Linux distribution</code> doesn't package <code>R</code> packages (irony) but I am comfortable running <code>R CMD INSTALL package.tar.gz</code>. </p>

<p>I installed <code>RPostgreSQL</code>: a lot of documentation says to call <code>dbConnect</code> but I get the following error message: <code>Error: object ""dbConnect"" not found</code>.</p>
","","Anonymous","3392044","","2016-02-29 08:50:50","2016-02-29 08:50:50","Connecting GNU R to PostgreSQL","<postgresql><r>","4","2","1","","","CC BY-SA 3.0","1408897","4452","4452","r","404559","3625322","3607736","",""
"1411599","1","14026150","","2009-09-11 15:23:57","","3","1081","<p>A colleague of mine needs to plot 101 bull's-eye charts.  This is not her idea.  Rather than have her slave away in Excel or God knows what making these things, I offered to do them in R; mapping a bar plot to polar coordinates to make a bull's-eye is a breeze in <code>ggplot2</code>.</p>

<p>I'm running into a problem, however: the data is already aggregated, so Hadley's example <a href=""http://had.co.nz/ggplot2/coord_polar.html"" rel=""nofollow noreferrer"">here</a> isn't working for me.  I could expand the counts out into a factor to do this, but I feel like there's a better way - some way to tell the geom_bar how to read the data.</p>

<p>The data looks like this:</p>

<pre><code>    Zoo Animals Bears Polar Bears
1 Omaha      50    10           3
</code></pre>

<p>I'll be making a plot for each zoo - but that part I can manage.</p>

<p>and here's its <code>dput</code>:</p>

<pre><code>structure(list(Zoo = ""Omaha"", Animals = ""50"", Bears = ""10"", `Polar Bears` = ""3""), .Names = c(""Zoo"", 
""Animals"", ""Bears"", ""Polar Bears""), row.names = c(NA, -1L), class = ""data.frame"")
</code></pre>

<p>Note: it is significant that Animals >= Bears >= Polar Bears.  Also, she's out of town, so I can't just get the raw data from her (if there was ever a big file, anyway).</p>
","143319","","190277","","2012-12-24 23:55:18","2012-12-24 23:55:18","Bull's-eye charts","<r><ggplot2><plot>","3","0","","","","CC BY-SA 3.0","1411599","4452","4452","r","404559","3625322","3607736","",""
"1412473","1","1412798","","2009-09-11 18:11:14","","0","155","<p>We are working on a social capital project so our data set has a list of an individual's organizational memberships. So each person gets a numeric ID and then a sub ID for each group they are in. The unit of analysis, therefore, is the group they are in. One of our variables is a three point scale for the type of group it is. Sounds simple enough?</p>

<p>We want to bring the unit of analysis to the individual level and condense the type of group it is into a variable signifying how many different types of groups they are in.</p>

<p>For instance, person one is in eight groups. Of those groups, three are (1s), three are (2s), and two are (3s). What the individual level variable would look like, ideally, is 3, because she is in all three types of groups.</p>

<p>Is this possible in the least?</p>
","172208","","172208","","2012-01-10 04:10:11","2012-01-10 04:10:11","Unit of Analysis Conversion","<r>","2","3","1","","","CC BY-SA 3.0","1412473","4452","4452","r","404559","3625322","3607736","",""
"1412582","1","1412607","","2009-09-11 18:32:31","","17","15525","<p>Let's say I have just called a function, <code>f</code>, and an error occurred somewhere in the function.  I just want to be able to check out the values of different variables right before the error occurred.  </p>

<p>Suppose my gut tells me it's a small bug, so I'm too lazy to use <code>debug(f)</code> and too lazy to insert <code>browser()</code> into the part of the function where I think things are going wrong.  And I'm far too lazy to start putting in <code>print()</code> statements.</p>

<p>Here's an example:</p>

<pre><code>x &lt;- 1:5
y &lt;- x + rnorm(length(x),0,1)
f &lt;- function(x,y) {
  y &lt;- c(y,1)
  lm(y~x)
}
</code></pre>

<p>Calling <code>f(x,y)</code> we get the following error:</p>

<pre><code>Error in model.frame.default(formula = y ~ x, drop.unused.levels = TRUE) : 
  variable lengths differ (found for 'x')
</code></pre>

<p>In this example, I want grab the state of the environment just before <code>lm()</code> is called; that way I can call <code>x</code> and <code>y</code> and see that their lengths are different.  (This example may be too simple, but I hope it gets the idea across.)</p>
","84458","","","","","2009-09-13 05:35:38","Getting the state of variables after an error occurs in R","<debugging><r>","3","0","10","","","CC BY-SA 2.5","1412582","4452","4452","r","404559","3625322","3607736","",""
"1412775","1","5524435","","2009-09-11 19:11:41","","2","812","<p>If one has 4 judges and they each give a score for a particular performer or a particular topic then one could have 4 vectors with each containing the score.
But one would like to turn that into a rank to overcome grade inflation by one judge compared to another.
that is easy</p>

<pre><code>transform(assignment,judge1.rank=rank(judge1),judge2.rank=rank(judge2),
                     judge3.rank=rank(judge3), judge4.rank=rank(judge4))
</code></pre>

<p>But then for each row (performer or topic) I want another four columns that for each row states the rank of ranks (or parallel rank) for each judge.</p>

<p>I would like to do something such as</p>

<pre><code>prank(judge1.rank,judge2.rank,judge3.rank,judge4.rank)
</code></pre>

<p>I guess it would have to output as a dataframe.</p>

<p>I thought of using the reshape package to melt the data but that is just a preliminary thought.</p>
","168139","","429846","","2011-04-02 16:42:59","2011-04-02 16:42:59","pmax (parallel maximum) equivalent for rank in R","<r>","1","3","1","","","CC BY-SA 2.5","1412775","4452","4452","r","404559","3625322","3607736","",""
"1413697","1","1413815","","2009-09-11 23:23:52","","2","5558","<p>Is there a command in R that will allow you to write a CSV file that has the row and column names of a matrix (dimnames(M))? Whenever I output the file, the names are gone. </p>

<pre><code>help(write)
</code></pre>

<p>doesn't mention that this is possible to do. </p>
","147537","","","","","2009-09-12 00:09:08","How do you write a CSV in R with the matrix names (dimnames(M)) intact in R?","<file-io><r><matrix>","3","0","","","","CC BY-SA 2.5","1413697","4452","4452","r","404559","3625322","3607736","",""
"1413853","1","1416912","","2009-09-12 00:28:22","","5","1375","<p>I love the Emacs ESS combination.  I love sending lines, functions, regions, and buffers of code to the command line for evaluation without using the mouse.  </p>

<p>However, I've noticed that the <code>Eval Function</code> command in Emacs is much slower than simply running <code>source(""fns.R"")</code>, where <code>fns.R</code> is the file that contains the function I want to evaluate.</p>

<p>Why is this the case?</p>
","84458","","","","","2009-09-13 05:14:35","Emacs ESS: Eval region vs. source()","<emacs><r><ess>","3","1","","","","CC BY-SA 2.5","1413853","4452","4452","r","404559","3625322","3607736","",""
"1417269","1","1417303","","2009-09-13 09:10:08","","1","2357","<p>Is it possible to source a file without printing all the charts etc (already tried with echo=F)? </p>

<p>In my case I call the png(""filename%03d.png"") device early in the script. It is not to big a hassle to comment this out - but all the charts do take a lot of time to render. (the specific file I am working with now uses base-graphics - but mostly I'll be using ggplot2 - which makes the issue somewhat more important (ggplot2 is excellent, but in the current implementation not the fastest))</p>

<p>Thanks</p>
","162832","","1677912","","2015-08-28 15:15:18","2015-08-28 15:15:18","How to source file.R without output","<r>","4","0","","","","CC BY-SA 2.5","1417269","4452","4452","r","404559","3625322","3607736","",""
"1419136","1","","","2009-09-13 23:42:28","","3","162","<p>Here's my situation. I have an object that I've created using <code>read.spss</code>.</p>

<pre><code>&gt; a &lt;- read.spss(...)
&gt; attach(a)
</code></pre>

<p>Now in this object <code>a</code> is a set questions that I would like to pull out that follows a sequence of question numbers:</p>

<pre><code>&gt; q3 &lt;- data.frame(q3_1, q3_2, q3_4, ... q3_27)
</code></pre>

<p>Is there a way to automate it such that it pulls out all questions starting with <code>q3_</code> from the original object into the new <code>q3 data.frame</code>?</p>

<p>I've tried using the <code>paste</code> function to no avail.</p>

<pre><code>&gt; q3 &lt;- data.frame(paste(""q3_"",1:27,sep=""""))
</code></pre>

<p>That just returns a <code>data.frame</code> with the pasted sequence. </p>

<p>Ideally, I would like something that pulls in everything from a question beginning with a <code>qX_</code>, as some values are missing or outdated. </p>
","","1beb","3392044","","2016-02-29 09:05:47","2016-02-29 09:05:47","Automating multiple variable withdrawal from an object","<r>","3","0","","","","CC BY-SA 3.0","1419136","4452","4452","r","404559","3625322","3607736","",""
"1419526","1","1419625","","2009-09-14 03:12:33","","2","282","<p>I have two random variables:</p>

<pre><code>X ~ binom(n, p1)
Y ~ binom(n, p2)
</code></pre>

<p>n is a known parameter (the total number of trials), while p1 and p2 are unknown.</p>

<p>I have one sample from each distribution (x from X, and y from Y). To give some context, x and y are numbers of true positives from two different classifiers, at a fixed selectivity.</p>

<p>I would like to use R to test the null hypothesis p1=p2 against p1 > p2.</p>

<p>In particular, I would like to be able to find the p-value P(X-Y=x-y | p1=p2), and if possible, a confidence interval for the difference between p1 and p2.</p>

<p>What is the best way to go about this?</p>
","169462","","","","","2009-09-14 04:03:43","Difference of binomial parameters in R","<r><statistics>","1","0","2","","","CC BY-SA 2.5","1419526","4452","4452","r","404559","3625322","3607736","",""
"1422247","1","","","2009-09-14 15:22:22","","6","1831","<p>I have a density object dd created like this:</p>

<pre><code>x1 &lt;- rnorm(1000) 
x2 &lt;- rnorm(1000, 3, 2) 
x &lt;- rbind(x1, x2)
dd &lt;- density(x) 
plot(dd)
</code></pre>

<p>Which produces this very non-Gaussian distribution:</p>

<p><a href=""http://www.cerebralmastication.com/wp-content/uploads/2009/09/nongaus.png"" rel=""nofollow noreferrer"">alt text http://www.cerebralmastication.com/wp-content/uploads/2009/09/nongaus.png</a></p>

<p>I would ultimately like to get random deviates from this distribution similar to how rnorm gets deviates from a normal distribution. </p>

<p>The way I am trying to crack this is to get the CDF of my kernel and then get it to tell me the variate if I pass it a cumulative probability (inverse CDF). That way I can turn a vector of uniform random variates into draws from the density. </p>

<p>It seems like what I am trying to do should be something basic that others have done before me. Is there a simple way or a simple function to do this? I hate reinventing the wheel. </p>

<p>FWIW I found <a href=""http://tolstoy.newcastle.edu.au/R/help/01a/1957.html"" rel=""nofollow noreferrer"">this R Help article</a> but I can't grok what they are doing and the final output does not seem to produce what I am after. But it could be a step along the way that I just don't understand. </p>

<p>I've considered just going with a <a href=""http://hosho.ees.hokudai.ac.jp/~kubo/Rdoc/library/SuppDists/html/Johnson.html"" rel=""nofollow noreferrer"">Johnson distribution from the suppdists package</a> but Johnson won't give me the nice bimodal hump which my data has. </p>
","37751","","1140748","","2012-05-06 17:01:16","2012-05-06 17:01:16","Generate stochastic random deviates from a density object with R","<r><probability><stochastic>","2","2","1","","","CC BY-SA 2.5","1422247","4452","4452","r","404559","3625322","3607736","",""
"1422987","1","1423006","","2009-09-14 17:51:00","","61","19871","<p>Is there a mode in emacs that does syntax highlighting for the R programming language? R-mode doesn't seem to work...</p>
","173292","","14343","","2010-07-16 19:35:38","2020-01-18 02:04:18","Emacs mode for R?","<emacs><r>","1","0","8","","","CC BY-SA 2.5","1422987","4452","4452","r","404559","3625322","3607736","",""
"1423472","1","1423767","","2009-09-14 19:34:26","","3","5658","<p>I'm trying to write a function to automate doing a variance analysis, part of which involves doing some further calculations.  The method I've been using isn't very robust, if variable names change then it stops working.</p>

<p>For this dummy data</p>

<pre><code>&gt; dput(assayvar,"""")
structure(list(Run = structure(c(1L, 1L, 1L, 2L, 2L, 2L, 3L, 
3L, 3L, 4L, 4L, 4L), .rk.invalid.fields = list(), .Label = c(""1"", 
""2"", ""3"", ""4""), class = ""factor""), Actual = c(246.3, 253.6, 247.6, 
249, 249, 251.3, 254.9, 254.1, 253.2, 250, 248.9, 250.3)), .Names = c(""Run"", 
""Actual""), row.names = c(NA, 12L), class = ""data.frame"")

&gt; assayaov&lt;-aov(Actual~Run+Error(Run),data=assayvar)
&gt; str(summary(assayaov))
List of 2
 $ Error: Run   :List of 1
  ..$ :Classes ‘anova’ and 'data.frame':    1 obs. of  3 variables:
  .. ..$ Df     : num 3
  .. ..$ Sum Sq : num 46.5
  .. ..$ Mean Sq: num 15.5
  ..- attr(*, ""class"")= chr [1:2] ""summary.aov"" ""listof""
 $ Error: Within:List of 1
  ..$ :Classes ‘anova’ and 'data.frame':    1 obs. of  5 variables:
  .. ..$ Df     : num 8
  .. ..$ Sum Sq : num 36.4
  .. ..$ Mean Sq: num 4.55
  .. ..$ F value: num NA
  .. ..$ Pr(&gt;F) : num NA
  ..- attr(*, ""class"")= chr [1:2] ""summary.aov"" ""listof""
 - attr(*, ""class"")= chr ""summary.aovlist""
</code></pre>

<p>But for this dummy data</p>

<pre><code>&gt; dput(BGBottles,"""")
structure(list(Machine = structure(c(1L, 1L, 1L, 2L, 2L, 2L, 
3L, 3L, 3L, 4L, 4L, 4L), .rk.invalid.fields = structure(list(), .Names = character(0)), .Label = c(""1"", 
""2"", ""3"", ""4""), class = ""factor""), Weight = c(14.23, 14.96, 14.85, 
16.46, 16.74, 15.94, 14.98, 14.88, 14.87, 15.94, 16.07, 14.91
)), .Names = c(""Machine"", ""Weight""), row.names = c(NA, 12L), class = ""data.frame"")

&gt; bgaov&lt;-aov(Weight~Machine+Error(Machine),data=BGBottles)
&gt; str(summary(bgaov))
List of 2
 $ Error: Machine:List of 1
  ..$ :Classes ‘anova’ and 'data.frame':    1 obs. of  3 variables:
  .. ..$ Df     : num 3
  .. ..$ Sum Sq : num 5.33
  .. ..$ Mean Sq: num 1.78
  ..- attr(*, ""class"")= chr [1:2] ""summary.aov"" ""listof""
 $ Error: Within :List of 1
  ..$ :Classes ‘anova’ and 'data.frame':    1 obs. of  5 variables:
  .. ..$ Df     : num 8
  .. ..$ Sum Sq : num 1.45
  .. ..$ Mean Sq: num 0.182
  .. ..$ F value: num NA
  .. ..$ Pr(&gt;F) : num NA
  ..- attr(*, ""class"")= chr [1:2] ""summary.aov"" ""listof""
 - attr(*, ""class"")= chr ""summary.aovlist""
</code></pre>

<p>So the code to get the mean square value</p>

<pre><code>machine&lt;-summary(bgaov)$""Error: Machine""[[1]]$""Mean Sq""
</code></pre>

<p>Doesn't work, because the Machine but won't always be Machine.</p>

<p>Any better way to do this ?</p>
","74658","","","","","2016-07-23 20:06:14","Best way to extract Mean Square Values from aov object in r","<r><statistics>","1","1","2","","","CC BY-SA 2.5","1423472","4452","4452","r","404559","3625322","3607736","",""
"1423902","1","","","2009-09-14 21:01:29","","0","831","<p>Could you please give an example on how that might be done using the doSNOW ?</p>

<p>(I asked the same question <a href=""http://blog.revolution-computing.com/2009/08/parallel-programming-with-foreach-and-snow.html"" rel=""nofollow noreferrer"">here</a>, but only got a partial reply)
Tal</p>
","","tal galili","260197","","2011-12-07 16:57:44","2011-12-07 16:57:44","How to use foreach with snow for multicore in Windows XP?","<r><statistics><parallel-processing>","1","0","","","","CC BY-SA 3.0","1423902","4452","4452","r","404559","3625322","3607736","",""
"1424189","1","1424274","","2009-09-14 22:18:53","","6","2598","<p>I'm using ggplot2 to make some bullseye charts in R.  They look delightful, and everyone is very pleased - except that they'd like to have the values of the bullseye layers plotted on the chart.  I'd be happy just to put them in the lower-right corner of the plot, or even in the plot margins, but I'm having some difficulty doing this.</p>

<p>Here's the example data again:</p>

<pre><code>critters &lt;- structure(list(Zoo = ""Omaha"", Animals = 50, Bears = 10, PolarBears = 3), .Names = c(""Zoo"", 
""Animals"", ""Bears"", ""PolarBears""), row.names = c(NA, -1L), class = ""data.frame"")
</code></pre>

<p>And how to plot it:</p>

<pre><code>d &lt;- data.frame(animal=factor(c(rep(""Animals"", critters$Animals),
       rep(""Bears"", critters$Bears), rep(""PolarBears"", critters$PolarBears)),
       levels = c(""PolarBears"", ""Bears"", ""Animals""), ordered= TRUE))
grr &lt;- ggplot(d, aes(x = factor(1), fill = factor(animal))) +  geom_bar() +
  coord_polar() + labs(x = NULL, fill = NULL) +
  scale_fill_manual(values = c(""firebrick2"", ""yellow2"", ""green3"")) +
  opts(title = paste(""Animals, Bears and Polar Bears:\nOmaha Zoo"", sep=""""))
</code></pre>

<p>I'd like to add a list to, say, the lower right corner of this plot saying,</p>

<pre><code>Animals: 50
Bears: 10
PolarBears: 3
</code></pre>

<p>But I can't figure out how.  My efforts so far with <code>annotate()</code> have been thwarted, in part by the polar coordinates.  If I have to add the numbers to the title, so be it - but I always hold out hope for a more elegant solution.  Thanks in advance.</p>

<p>EDIT:
An important note for those who come after: the bullseye is a bar plot mapped to polar coordinates.  The ggplot2 default for bar plots is, sensibly, to stack them.  However, that means that the rings of your bullseye will also be stacked (e.g. the radius in my example equals the sum of all three groups, 63, instead of the size of the largest group, 50).  I <strong>don't</strong> think that's what most people expect from a bullseye plot, especially when the groups are nested.  Using <code>geom_bar(position = position_identity())</code> will turn the stacked rings into layered circles.</p>

<p>EDIT 2: Example from <a href=""http://docs.ggplot2.org/current/coord_polar.html"" rel=""nofollow noreferrer"">ggplot2</a> docs:<br>
<img src=""https://i.stack.imgur.com/yL4zi.png"" alt=""enter image description here""></p>
","143319","","2144085","","2013-05-20 15:54:36","2013-05-20 15:54:36","More bullseye plotting in R","<r><ggplot2><plot>","2","2","1","","","CC BY-SA 3.0","1424189","4452","4452","r","404559","3625322","3607736","",""
"1424351","1","1424549","","2009-09-14 23:15:22","","5","651","<p>In <code>R</code> on <code>Windows</code>, <code>tempdir()</code> returns a path that contains short names for <code>non 8dot3 directory names</code>. </p>

<p>How do I expand those to long names? </p>

<p>An answer that uses pure <code>R</code> code is favorable, but one that uses well-known shell commands used via <code>system()</code> is fine as a backup.</p>
","165384","","3392044","","2016-02-16 13:00:00","2016-02-16 13:00:00","Expanding short names for non 8dot3 directory paths to long name","<r><long-filenames>","1","0","","","","CC BY-SA 3.0","1424351","4452","4452","r","404559","3625322","3607736","",""
"1427771","1","1430474","","2009-09-15 15:07:36","","30","2383","<p>I would like to improve my C skills in order to be more competent at converting R code to C where this would be useful. What hints do people have that will help me on my way?</p>

<p>Background: I followed an online Intro to C course a few years ago and that plus <i>Writing R Extensions</i> and <i>S Programming</i> (Venables &amp; Ripley) enabled me to convert bottleneck operations to C, e.g. computing the product of submatrices (did I re-invent the wheel there?). However I would like to go a bit beyond this, e.g. converting larger chunks of code, making use of linear algebra routines etc.</p>

<p>No doubt I have more to learn from the resources I used before, but I wondered if there were others that people recommend? Working through examples is obviously one way to learn more: Brian Ripley gave a couple of examples of moving from S prototypes to S+C in this workshop on <a href=""http://www.stats.ox.ac.uk/pub/bdr/Washington98/"" rel=""noreferrer"">Efficient Programming in S</a> and a more recent Bioconductor workshop <i>Advanced R for Bioinformatics</i> (sorry can't post hyperlink) includes a lab on writing an R+C algorithm. More like this, or other suggestions would be appreciated.</p>
","173755","","","user1228","2013-06-07 16:38:08","2015-08-29 17:01:49","C for R programmers - recommended resources/approaches once past the basics","<c><r>","5","0","15","2017-01-10 18:12:26","","CC BY-SA 2.5","1427771","4452","4452","r","404559","3625322","3607736","",""
"1428174","1","1428258","","2009-09-15 16:20:45","","7","3524","<p>Let's say I have a matrix <code>x</code> which contains 10 rows and 2 columns. I want to generate a new matrix <code>M</code> that contains each unique pair of rows from <code>x</code> - that is, a new matrix with 55 rows and 4 columns.</p>

<p>E.g.,</p>

<pre><code>x &lt;- matrix (nrow=10, ncol=2, 1:20)

M &lt;- data.frame(matrix(ncol=4, nrow=55))
k &lt;- 1
for (i in 1:nrow(x))
for (j in i:nrow(x))
{
    M[k,] &lt;- unlist(cbind (x[i,], x[j,]))
    k &lt;- k + 1
}
</code></pre>

<p>So, <code>x</code> is:</p>

<pre><code>      [,1] [,2]
 [1,]    1   11
 [2,]    2   12
 [3,]    3   13
 [4,]    4   14
 [5,]    5   15
 [6,]    6   16
 [7,]    7   17
 [8,]    8   18
 [9,]    9   19
[10,]   10   20
</code></pre>

<p>And then <code>M</code> has 4 columns, the first two are one row from <code>x</code> and the next 2 are another row from <code>x</code>:</p>

<pre><code>&gt; head(M,10)
   X1 X2 X3 X4
1   1 11  1 11
2   1 11  2 12
3   1 11  3 13
4   1 11  4 14
5   1 11  5 15
6   1 11  6 16
7   1 11  7 17
8   1 11  8 18
9   1 11  9 19
10  1 11 10 20
</code></pre>

<p>Is there either a faster or simpler (or both) way of doing this in R?</p>
","136862","","136862","","2009-09-15 16:39:37","2018-11-30 08:40:52","Quickly generate the cartesian product of a matrix","<r><matrix><cartesian>","5","0","4","","","CC BY-SA 2.5","1428174","4452","4452","r","404559","3625322","3607736","",""
"1428750","1","","","2009-09-15 18:02:24","","9","9006","<p>I was wondering if anyone knew of a good way to get R or ESS to stop executing the rest of the code beyond the point at which an error occurs if I am evaluating a region or buffer (I've only found the opposite request in the help archives). I was looking in the R help files but <code>option(error=stop)</code> will only stop execution of the offending function or statement but not those that follow it. Thanks!</p>
","143476","","1003565","","2012-11-30 00:33:11","2013-12-18 09:07:45","Force stop or halt on error","<r><emacs><ess>","3","0","5","","","CC BY-SA 3.0","1428750","4452","4452","r","404559","3625322","3607736","",""
"1428946","1","1428965","","2009-09-15 18:37:36","","28","30522","<p>Are there any other packages for doing Venn diagrams in R besides the <code>limma</code> package?</p>

<p>Anyone got tips?</p>

<p>Here's some <a href=""http://research.stowers.org/mcm/efg/R/Math/VennDiagram.htm"" rel=""nofollow noreferrer"">notes on doing Venn diagrams</a> with the <code>limma</code> packages. </p>
","37751","","4341440","","2019-07-22 21:46:59","2019-07-22 21:46:59","Venn Diagrams with R?","<r><venn-diagram>","8","2","14","2015-01-09 01:00:51","","CC BY-SA 4.0","1428946","4452","4452","r","404559","3625322","3607736","",""
"1429476","1","1429513","","2009-09-15 20:36:36","","8","5041","<p>Does anyone know of an R package that solves <a href=""http://en.wikipedia.org/wiki/Longest_common_substring_problem"" rel=""noreferrer"">the longest common substring problem</a>? I am looking for something fast that could work on vectors.</p>
","143813","","3541976","","2018-06-05 17:38:06","2020-04-29 17:58:56","R - Longest common substring","<r><string><substring><longest-substring>","4","0","6","","","CC BY-SA 4.0","1429476","4452","4452","r","404559","3625322","3607736","",""
"1429907","1","1434424","","2009-09-15 22:14:26","","188","42162","<p>Does anyone have any wisdom on workflows for data analysis related to custom report writing?  The use-case is basically this:</p>

<ol>
<li><p>Client commissions a report that uses data analysis, e.g. a population estimate and related maps for a water district.</p></li>
<li><p>The analyst downloads some data, munges the data and saves the result (e.g. adding a column for population per unit, or subsetting the data based on district boundaries).</p></li>
<li><p>The analyst analyzes the data created in (2), gets close to her goal, but sees that needs more data and so goes back to (1).</p></li>
<li><p>Rinse repeat until the tables and graphics meet QA/QC and satisfy the client.</p></li>
<li><p>Write report incorporating tables and graphics.</p></li>
<li><p>Next year, the happy client comes back and wants an update.  This should be as simple as updating the upstream data by a new download (e.g. get the building permits from the last year), and pressing a ""RECALCULATE"" button, unless specifications change.</p></li>
</ol>

<p>At the moment, I just start a directory and ad-hoc it the best I can.  I would like a more systematic approach, so I am hoping someone has figured this out...  I use a mix of spreadsheets, SQL, ARCGIS, R, and Unix tools.</p>

<p>Thanks!</p>

<p>PS:</p>

<p>Below is a basic Makefile that checks for dependencies on various intermediate datasets (w/ <code>.RData</code> suffix) and scripts (<code>.R</code> suffix).  Make uses timestamps to check dependencies, so if you <code>touch ss07por.csv</code>, it will see that this file is newer than all the files / targets that depend on it, and execute the given scripts in order to update them accordingly.  This is still a work in progress, including a step for putting into SQL database, and a step for a templating language like sweave. Note that Make relies on tabs in its syntax, so read the manual before cutting and pasting. Enjoy and give feedback!</p>

<p><a href=""http://www.gnu.org/software/make/manual/html_node/index.html#Top"" rel=""noreferrer"">http://www.gnu.org/software/make/manual/html_node/index.html#Top</a></p>

<pre>
R=/home/wsprague/R-2.9.2/bin/R

persondata.RData : ImportData.R ../../DATA/ss07por.csv Functions.R
   $R --slave -f ImportData.R

persondata.Munged.RData : MungeData.R persondata.RData Functions.R
      $R --slave -f MungeData.R

report.txt:  TabulateAndGraph.R persondata.Munged.RData Functions.R
      $R --slave -f TabulateAndGraph.R > report.txt

</pre>
","2554948","","1505120","","2015-09-17 16:07:30","2017-11-11 12:55:40","Workflow for statistical analysis and report writing","<r><statistics><data-visualization>","14","3","253","","","CC BY-SA 3.0","1429907","4452","4452","r","404559","3625322","3607736","",""
"1430313","1","","","2009-09-16 00:35:18","","3","260","<p>I've never been able to figure out how to get the <code>PgDn/PgUp keys</code> to work in the <code>R Graphics Viewer</code>. </p>

<p>Even the <code>demo()</code> programs don't seem to support it. </p>

<p>Anyone able to point me to some code that shows how this can be implemented?</p>
","174029","","3392044","","2016-02-16 11:19:17","2016-02-16 11:19:17","PgDn and PgUp Keys in R Graphics Viewer","<r>","3","0","1","","","CC BY-SA 3.0","1430313","4452","4452","r","404559","3625322","3607736","",""
"1430557","1","1430950","","2009-09-16 02:06:30","","0","453","<p>The function below works perfectly for my purpose. The display is wonderful. Now my problem is I need to be able to do it again, many times, on other variables that fit other patterns. </p>

<p>In this example, I've output results for ""q4a"", I would like to be able to do it for sequences of questions that follow patterns like: q4 &lt; a - z > or q &lt; 4 - 10 >&lt; a - z >, automagically. </p>

<p>Is there some way to iterate this such that the specified variable (in this case q4a) changes each time?</p>

<p>Here's my function: </p>

<pre><code>require(reshape) # Using it for melt
require(foreign) # Using it for read.spss

d1 &lt;- read.spss(...) ## Read in SPSS file

attach(d1,warn.conflicts=F) ## Attach SPSS data

q4a_08 &lt;- d1[,grep(""q4a_"",colnames(d1))] ## Pull in everything matching q4a_X
q4a_08 &lt;- melt(q4a_08) ## restructure data for post-hoc

detach(d1)

q4aaov &lt;- aov(formula=value~variable,data=q4a) ## anova
</code></pre>

<p>Thanks in advance!</p>
","170352","","170352","","2009-12-21 09:29:26","2009-12-21 09:29:26","Iterating an R Script as a function of sequential survey questions","<r><survey>","2","2","0","","","CC BY-SA 2.5","1430557","4452","4452","r","404559","3625322","3607736","",""
"1431657","1","","","2009-09-16 08:22:44","","3","7992","<p>does anyone know how to use R to plot a histogram with the columns stacked up by more than 1 variables? Like the ""stacked column"" graph in excel. </p>

<p>Thank you!</p>
","","lu","202229","","2012-11-11 00:47:51","2013-08-28 15:41:35","How to plot a stacked column graph in R?","<r><bar-chart>","3","1","","","","CC BY-SA 2.5","1431657","4452","4452","r","404559","3625322","3607736","",""
"1432867","1","","","2009-09-16 13:08:48","","14","20722","<p>We all love robust measures like medians and interquartile ranges, but lets face it, in many fields, boxplots almost never show up in published articles, while means and standard errors do so all the time.</p>

<p>It's simple in lattice, ggplot2, etc to draw boxplots and the galleries are full of them. Is there an equally straightforward way to draw means and standard errors, conditioned by a categorical variable?</p>

<p>I'm taking about plots like these:</p>

<p><a href=""http://freakonomics.blogs.nytimes.com/2008/07/30/how-big-is-your-halo-a-guest-post/"" rel=""noreferrer"">http://freakonomics.blogs.nytimes.com/2008/07/30/how-big-is-your-halo-a-guest-post/</a></p>

<p>Or what are called ""means diamonds"" in JMP (see Figure 3):</p>

<p><a href=""http://blogs.sas.com/jmp/index.php?/archives/127-What-Good-Are-Error-Bars.html"" rel=""noreferrer"">http://blogs.sas.com/jmp/index.php?/archives/127-What-Good-Are-Error-Bars.html</a></p>
","23929","","","","","2019-04-23 01:49:26","Boxplot schmoxplot: How to plot means and standard errors conditioned by a factor in R?","<r><ggplot2><plot>","5","0","10","","","CC BY-SA 2.5","1432867","4452","4452","r","404559","3625322","3607736","",""
"1433523","1","1433824","","2009-09-16 14:55:19","","7","869","<p>Is <a href=""http://www.rforge.net/rJava/"" rel=""nofollow noreferrer"">rjava</a> the only way to connect R to Java? I am asking because there is a disclaimer at the end of the web page:</p>

<blockquote>
  <p>This interface uses Java reflection
  API to find the correct method so it
  is much slower and may not be right
  (works for simple examples but may not
  for more complex ones). For now its
  use is discouraged in programs as it
  may change in the future.</p>
</blockquote>

<p>This is slightly concerning. How do you address this issue? I know that Rweka has a self-contained interface, so I may look into that package, but maybe many R users have already gone through the pains.</p>
","143813","","168747","","2010-10-06 12:11:48","2010-10-06 12:11:48","Interfacing R to Java","<java><r>","3","0","4","","","CC BY-SA 2.5","1433523","4452","4452","r","404559","3625322","3607736","",""
"1434411","1","","","2009-09-16 17:32:00","","8","1454","<p>I've learned R by toying, and I'm starting to think that I'm abusing the tapply function. Are there better ways to do some of the following actions? Granted, they work, but as they get more complex I wonder if I'm losing out on better options. I'm looking for some criticism, here:</p>

<pre><code>tapply(var1, list(fac1, fac2), mean, na.rm=T)

tapply(var1, fac1, sum, na.rm=T) / tapply(var2, fac1, sum, na.rm=T)

cumsum(tapply(var1, fac1, sum, na.rm=T)) / sum(var1)
</code></pre>

<p>Update: Here's some example data...</p>

<pre><code>     var1    var2 fac1           fac2
1      NA  275.54   10      (266,326]
2      NA  565.89   10      (552,818]
3      NA  815.41    6      (552,818]
4      NA  281.77    6      (266,326]
5      NA  640.24   NA      (552,818]
6      NA   78.42   NA     [78.4,266]
7      NA 1027.06   NA (818,1.55e+03]
8      NA  355.20   NA      (326,552]
9      NA  464.52   NA      (326,552]
10     NA 1397.11   10 (818,1.55e+03]
11     NA  229.82   NA     [78.4,266]
12     NA  542.77   NA      (326,552]
13     NA  829.32   NA (818,1.55e+03]
14     NA  284.78   NA      (266,326]
15     NA  194.97   10     [78.4,266]
16     NA  672.55    8      (552,818]
17     NA  348.01   10      (326,552]
18     NA 1550.79    9 (818,1.55e+03]
19 101.98  101.98    4     [78.4,266]
20     NA  292.80    6      (266,326]
</code></pre>

<p>Update data dump:</p>

<pre><code>structure(list(var1 = c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 
NA, NA, NA, NA, NA, NA, NA, NA, 101.98, NA), var2 = c(275.54, 
565.89, 815.41, 281.77, 640.24, 78.42, 1027.06, 355.2, 464.52, 
1397.11, 229.82, 542.77, 829.32, 284.78, 194.97, 672.55, 348.01, 
1550.79, 101.98, 292.8), fac1 = c(10L, 10L, 6L, 6L, NA, NA, NA, 
NA, NA, 10L, NA, NA, NA, NA, 10L, 8L, 10L, 9L, 4L, 6L), fac2 = structure(c(2L, 
4L, 4L, 2L, 4L, 1L, 5L, 3L, 3L, 5L, 1L, 3L, 5L, 2L, 1L, 4L, 3L, 
5L, 1L, 2L), .Label = c(""[78.4,266]"", ""(266,326]"", ""(326,552]"", 
""(552,818]"", ""(818,1.55e+03]""), class = ""factor"")), .Names = c(""var1"", 
""var2"", ""fac1"", ""fac2""), row.names = c(NA, -20L), class = ""data.frame"")
</code></pre>
","173913","","5414452","","2015-12-27 13:17:14","2015-12-27 13:17:14","Breaking the tapply junkie habit","<r><aggregation><tapply>","1","5","4","","","CC BY-SA 3.0","1434411","4452","4452","r","404559","3625322","3607736","",""
"1434897","1","1434906","","2009-09-16 19:06:36","","10","3546","<p>Let's say I want to reproduce an example posted on StackOverflow.  Some have suggested posters use <a href=""https://stackoverflow.com/questions/1265129/how-to-export-the-definition-of-an-r-object-to-plain-text-so-that-others-can-recr""><code>dput()</code> to help streamline this process</a> or one of the <a href=""http://stat.ethz.ch/R-manual/R-patched/library/datasets/html/00Index.html"" rel=""nofollow noreferrer"">datasets available in the base package</a>.  </p>

<p>In this case, however, suppose I have only been given the output of the dataframe:</p>

<pre><code>&gt; site.data
    site year     peak
1  ALBEN    5 101529.6
2  ALBEN   10 117483.4
3  ALBEN   20 132960.9
8  ALDER    5   6561.3
9  ALDER   10   7897.1
10 ALDER   20   9208.1
15 AMERI    5  43656.5
16 AMERI   10  51475.3
17 AMERI   20  58854.4
</code></pre>

<p>Do I have other options besides saving this as a text file and using <code>read.table()</code>?</p>
","84458","","-1","","2017-05-23 11:45:36","2009-09-17 02:16:37","How do I load example datasets in R?","<r><export><structure>","2","0","7","","","CC BY-SA 2.5","1434897","4452","4452","r","404559","3625322","3607736","",""
"1435937","1","1436168","","2009-09-16 22:57:43","","2","2233","<p>I use OS X and I am currently cooperating with a windows user and deploying the scripts on a linux server. We use git for version control, and I keep getting R scripts from his end where the character encoding used has  mixed  latin1 and utf8 encodings. So I have a couple of questions.</p>

<ol>
<li><p>Is there a simple to use editor for windows that handle UTF8 with more grace than Winedt that my coauthor currently uses?  I use emacs, but I am having a hard time selling getting him to switch.</p></li>
<li><p>How to set up R in Windows so that it defaults to reading and writing UTF8?</p></li>
</ol>

<p>This is driving me crazy. Has anyone found a solution for it (be it in the workflow or in the software used) who cares to share?  </p>
","143377","","305","","2009-09-17 01:13:41","2009-09-17 08:10:03","R character encodings across windows, mac and linux","<encoding><r><utf-8>","2","0","","","","CC BY-SA 2.5","1435937","4452","4452","r","404559","3625322","3607736","",""
"1439059","1","5150336","","2009-09-17 13:58:00","","31","51945","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/1097367/what-ides-are-available-for-r-in-linux"">What IDEs are available for R in Linux?</a><br>
  <a href=""https://stackoverflow.com/questions/1173463/recommendations-for-windows-text-editor-for-r"">Recommendations for Windows text editor for R</a>  </p>
</blockquote>



<p>Which IDE or TextEditor do you use to write <a href=""http://www.r-project.org/"" rel=""nofollow noreferrer"">R</a> code?</p>
","25282","","-1","","2017-05-23 12:09:11","2013-02-14 10:22:18","Best IDE / TextEditor for R","<ide><r>","8","2","12","2011-08-02 16:43:18","","CC BY-SA 3.0","1439059","4452","4452","r","404559","3625322","3607736","",""
"1439348","1","1439530","","2009-09-17 14:47:56","","9","14551","<p>I'm trying to write a function to do a particular job (in my case, analyse a data set for outliers) so the first things I want to do is look at how other people have done similar jobs.</p>

<p>I can do this to load a particular package and examine the code of a function, but some functions seem to depend on what class of object you throw at it</p>

<pre><code>&gt;library(outliers)
&gt; fix(outlier)

function (x, opposite = FALSE, logical = FALSE) 
{
    if (is.matrix(x)) 
        apply(x, 2, outlier, opposite = opposite, logical = logical)
    else if (is.data.frame(x)) 
        sapply(x, outlier, opposite = opposite, logical = logical)
    else {
        if (xor(((max(x) - mean(x)) &lt; (mean(x) - min(x))), opposite)) {
            if (!logical) 
                min(x)
            else x == min(x)
        }
        else {
            if (!logical) 
                max(x)
            else x == max(x)
        }
    }
}
</code></pre>

<p>How can you look at the code of something that changes depending on the object ?</p>

<p>Edit:</p>

<p>OK, Palm &lt;- face.  The function I used as an example just calls itself, but allt he code is there... I have seen other examples (but can't think of any offhand) where the function did do other things depending on the class of the object thrown at it, so the question stands, even though it's a bad example !</p>
","74658","","74658","","2009-09-17 15:02:39","2016-01-15 03:01:13","How to examine the code of a function in R that's object class sensitive","<function><r>","5","0","20","","","CC BY-SA 2.5","1439348","4452","4452","r","404559","3625322","3607736","",""
"1439513","1","1439843","","2009-09-17 15:15:26","","42","94646","<p>I would like to be able to create a sequence of letters in R (to assist in importing data from a SPSS file)</p>

<p>It's quite easy to create a sequence of numbers, for example:</p>

<pre><code>seq(1,1000)
[1] 1 2 3 4 5 6 ... 1000

paste(""something_"",1:12,sep="""")
[1] something1 something2 ... something12
</code></pre>

<p>But is there any functionality for appending, pasting, or creating sequences of letters like this? </p>

<pre><code>paste(""This_"",a:z,sep="""")
[1]This_a This_b This_c ... This_4z
</code></pre>

<p>Thanks in advance! </p>
","170352","","","","","2020-03-21 15:52:49","Creating a sequential list of letters with R","<r><alphabet>","4","0","9","","","CC BY-SA 2.5","1439513","4452","4452","r","404559","3625322","3607736","",""
"1441717","1","1446144","","2009-09-17 22:50:42","","32","41624","<p>I have some US demographic and firmographic data.<br>
I would like to plot zipcode areas in a state or a smaller region (e.g. city). Each area would be annotated by color and/or text specific to that area. The output would be similar to <a href=""http://maps.huge.info/"" rel=""noreferrer"">http://maps.huge.info/</a> but a) with annotated text; b) pdf output; c) scriptable in R or Python.</p>

<p>Is there any package and code that allows me to do this?</p>
","143813","","100297","","2016-09-01 15:04:21","2019-06-03 15:16:12","Plotting color map with zip codes in R or Python","<python><r><graphics><zipcode>","8","0","23","","","CC BY-SA 2.5","1441717","4452","4452","r","404559","3625322","3607736","",""
"1444306","1","1444548","","2009-09-18 12:36:56","","17","43750","<p>As part of my data analysis workflow, I want to test for outliers, and then do my further calculation with and without those outliers.  </p>

<p>I've found the outlier package, which has various tests, but I'm not sure how best to use them for my workflow.</p>
","74658","","1465387","","2013-04-10 05:40:29","2016-01-01 18:21:52","How to use Outlier Tests in R Code","<r><statistics><outliers>","4","0","14","","","CC BY-SA 3.0","1444306","4452","4452","r","404559","3625322","3607736","",""
"1445964","1","1446050","","2009-09-18 17:47:29","","114","35105","<p>If I am running a long R script from the command line (R --slave script.R), how can I get it to give line numbers at errors?  </p>

<p>I don't want to add debug commands to the script if at all possible -- I just want R to behave like most other scripting languages ...</p>
","2554948","","","","","2019-03-27 20:33:18","R script line numbers at error?","<debugging><r>","6","3","27","","","CC BY-SA 2.5","1445964","4452","4452","r","404559","3625322","3607736","",""
"1448600","1","1451246","","2009-09-19 13:59:38","","22","6285","<p>For the purposes of teaching and preparing written instructions about R, one of the things that's always frustrated me is that I can't simply copy commands and output from R and paste them into another R session. For example, if I do something trivial, such as</p>

<pre><code>&gt; x &lt;- rnorm(10)
&gt; x
 [1]  1.76975998  1.19722850 -0.39274507 -1.10979974  0.52320473 -0.08643833
 [7]  0.94437690  0.08083207  0.62260363  1.89305469
</code></pre>

<p>If I copy and paste that into a document or even here in this post, you (and my students) can not then just highlight it, copy it and paste it into an R session successfully</p>

<pre><code>&gt; &gt; x &lt;- rnorm(10)
Error: syntax error
&gt; &gt; x
Error: syntax error
&gt;  [1]  1.76975998  1.19722850 -0.39274507 -1.10979974  0.52320473 -0.08643833
Error: syntax error
&gt;  [7]  0.94437690  0.08083207  0.62260363  1.89305469
Error: syntax error
</code></pre>

<p>You might want to do this to test your installation of R, compare my output to yours, or simply to make use of a function I've offered.</p>

<p>So, what I'd like to be able to do is to change the default prompt from > to either an empty string or a blank space and also prefix all output lines with a hash mark #. That way, I could use R interactively to generate a session that looks like</p>

<pre><code>x &lt;- rnorm(10)
x
# [1]  1.76975998  1.19722850 -0.39274507 -1.10979974  0.52320473 -0.08643833
# [7]  0.94437690  0.08083207  0.62260363  1.89305469
</code></pre>

<p>which <em>could</em> be copy/pasted into an R session successfully. It would make prepping R code for a journal article, students, lectures, etc. much easier for me (and maybe for others?)</p>

<p>I've poked around the documentation with no luck... any ideas? pointers?</p>

<p>Currently, I'm using R on a Mac either via the R.app GUI or from Terminal.</p>
","165787","","","user1228","2013-08-26 14:06:29","2020-11-04 17:21:10","Change default prompt and output line prefix in R?","<r>","11","0","6","","","CC BY-SA 2.5","1448600","4452","4452","r","404559","3625322","3607736","",""
"1449266","1","1449300","","2009-09-19 19:11:37","","13","57686","<p>How can I render the value of points in a <code>plot</code> in the <code>plot</code> itself?</p>

<p>Thank you.</p>
","136594","","","","","2016-08-06 16:18:45","Display Values in R Plot","<r><plot>","7","0","10","","","CC BY-SA 2.5","1449266","4452","4452","r","404559","3625322","3607736","",""
"1452235","1","5570354","","2009-09-20 22:50:22","","39","22344","<p>I'm wondering about the best way to deploy R.  Matlab has the ""matlab compiler"" (MCR).  There has been discussion about something similar in the past for R that would compile R into C or C++.  Does anyone have any experience with the <a href=""http://www.hipersoft.rice.edu/rcc/"" rel=""noreferrer"">R to C Compiler (RCC) that was developed by John Garvin at Rice</a>?</p>

<p>I've looked into it, and it seems to be the only project that worked on compiling R code into executable code.  And as far as I can tell, it isn't still being used.  </p>

<p><i> [Edit 1:]</i>: To be clear, I know that there are C and C++ (and Java, Python, etc.) interfaces to R (rJava, rcpp, Rpy, etc.).  I'm wondering about specific ways to compile and deploy R code without installing R in advance.</p>

<p><i> [Edit 2:]</i>: John Mellor-Crummey tells me that they're still working on RCC and hope to make it available in 4 months or so (at the earliest).  I'll update this further if I find anything else out.</p>
","163053","","202229","","2018-09-28 04:37:55","2018-09-28 04:37:55","Does an R compiler to C/C++ exist?","<c++><c><deployment><compiler-construction><r>","5","0","18","","","CC BY-SA 4.0","1452235","4452","4452","r","404559","3625322","3607736","",""
"1453505","1","1455556","","2009-09-21 08:57:32","","6","524","<p>I want to make a Flash or Flex front end for my R code, I want to call an R function from a website (using Flash) what is the best way to go about connecting Flash and R?</p>
","55362","","","","","2009-09-21 19:18:29","Best way to integrate R and Flash/Flex","<apache-flex><flash><r>","2","0","3","","","CC BY-SA 2.5","1453505","4452","4452","r","404559","3625322","3607736","",""
"1454211","1","1454340","","2009-09-21 12:11:50","","119","20123","<p>Sometimes on an R help page the phrase ""not run"" appears in comments. Check out this from the help page for ""with()"":</p>

<pre><code>Examples
require(stats); require(graphics)
#examples from glm:
**## Not run:** 
library(MASS)
with(anorexia, {
    anorex.1 &lt;- glm(Postwt ~ Prewt + Treat + offset(Prewt),
                    family = gaussian)
    summary(anorex.1)
})
## End(**Not run**)
</code></pre>

<p>What does the ""not run"" mean in the example code?</p>
","23929","","","","","2018-09-18 14:25:12","What does ""not run"" mean in R help pages?","<r>","5","4","21","","","CC BY-SA 2.5","1454211","4452","4452","r","404559","3625322","3607736","",""
"1457216","1","","","2009-09-21 22:26:00","","3","901","<p>Where each datapoint has a pairing of A and B and there multiple entries in A and multiple entires in B. IE multiple syndromes and multiple diagnoses, although for each datapoint there is one single syndrome-diagnoses pair.</p>

<p>Examples, suggestions, or ideas much appreciated</p>

<p>here's what the data is like. And I want to see connections between values of A and B (how many GG's are linked to TTs etc). Both are nominal datatypes.</p>

<pre><code>ID,A ,B 
1,GG,TT
2,AA,SS
3,BB,XX
4,DD,SS
5,DD,TT
6,CC,XX
7,HH,ZZ
8,AA,TT
9,CC,RR
10,DD,ZZ
11,AA,XX
12,AA,TT
13,DD,SS
14,DD,XX
15,AA,YY
16,CC,ZZ
17,FF,SS
18,FF,XX
19,BB,VV
20,GG,VV
21,GG,SS
22,AA,RR
23,AA,TT
24,AA,SS
25,CC,VV
26,CC,TT
27,FF,RR
28,GG,UU
29,CC,TT
30,BB,ZZ
31,II,TT
32,FF,RR
33,BB,SS
34,GG,YY
35,FF,RR
36,BB,VV
37,II,RR
38,CC,YY
39,FF,VV
40,AA,XX
41,AA,ZZ
42,GG,VV
43,BB,UU
44,II,UU
45,II,SS
46,DD,SS
47,AA,UU
48,BB,VV
49,GG,TT
50,BB,TT
</code></pre>
","","colinr23","","colinr23","2009-09-21 23:25:09","2014-09-11 07:53:17","visualize associations between two groups of data","<r>","4","1","2","","","CC BY-SA 2.5","1457216","4452","4452","r","404559","3625322","3607736","",""
"1457821","1","1457832","","2009-09-22 02:12:26","","5","23289","<p>How do I add the values from many variables?</p>

<p>If I just had two variables (columns) I could simply go:</p>

<pre><code>summation.variable &lt;- variable1 + variable2
</code></pre>

<p>or if it was all in a dataframe:</p>

<pre><code>transform(dataframe, summation.col = column1 + column2)
</code></pre>

<p>How do I do it if I have about 10 variables and I do not want to type each one as in col1+col2+col3+col4. To make matters worse my columns have quite long names and at times the exact columns that I use can change. I have a character vector with all the relevant column names in it but cannot think how to use it. </p>

<p>The following is useless since it adds every value in every column in every row and gives a single value for the whole lot.</p>

<pre><code>sum(metrics)
</code></pre>
","168139","","197","","2011-06-26 19:43:10","2011-06-26 19:43:10","Adding multiple columns, transforming with multiple variables","<r>","4","1","2","","","CC BY-SA 3.0","1457821","4452","4452","r","404559","3625322","3607736","",""
"1463444","1","1463622","","2009-09-23 01:01:36","","1","1388","<p>(Asking this on behalf of a member of our Bay Area R Group.  I did not have a ready answer as I run ESS within Emacs.  I assume this question refers to running R within the command-line environment that ships in the standard Windows distribution).</p>

<p>I'm new to R, but what I've found in searching for my answer is that there isn't anything about customizing R so that I can work faster.</p>

<p>One of my main problems is the lack of word wrapping in my version running on Windows XP. I noticed that my friends with the Mac OS have word wrapping.</p>

<p>Is there a way to enable word wrapping in R running on a Windows machine?</p>
","2002705","","163053","","2009-09-23 02:23:50","2009-09-23 03:29:35","Word-wrapping in the R environment for Windows","<windows><r><customization>","3","0","","","","CC BY-SA 2.5","1463444","4452","4452","r","404559","3625322","3607736","",""
"1467201","1","1467334","","2009-09-23 16:37:13","","65","30530","<p>Periodically I program sloppily. Ok, I program sloppily all the time, but sometimes that catches up with me in the form of out of memory errors. I start exercising a little discipline in deleting objects with the <code>rm()</code> command and things get better. I see mixed messages online about whether I should explicitly call <code>gc()</code> after deleting large data objects. Some say that before R returns a memory error it will run <code>gc()</code> while others say that manually forcing <code>gc</code> is a good idea. </p>

<p>Should I run <code>gc()</code> after deleting large objects in order to ensure maximum memory availability?</p>
","37751","","10323798","","2019-01-04 06:35:29","2019-01-04 06:35:29","Forcing garbage collection to run in R with the gc() command","<r><garbage-collection>","6","0","30","","","CC BY-SA 4.0","1467201","4452","4452","r","404559","3625322","3607736","",""
"1467807","1","1468024","","2009-09-23 18:28:43","","3","543","<p>Does anyone have any good thoughts on how to code complex tabulations in R?</p>

<p>I am afraid I might be a little vague on this, but I want to set up a script to create a bunch of tables of a complexity analogous to the stat abstract of the united states. </p>

<p>e.g.: <a href=""http://www.census.gov/compendia/statab/tables/09s0015.pdf"" rel=""nofollow noreferrer"">http://www.census.gov/compendia/statab/tables/09s0015.pdf</a> </p>

<p>And I would like to avoid a whole bunch of rbind and hbind statements.</p>

<p>In <code>SAS</code>, I have heard, there is a table creation specification language; I was wondering if there was something of similar power for <code>R</code>?</p>

<p>Thanks!</p>
","2554948","","3392044","","2016-02-17 13:06:24","2016-02-17 13:06:24","Good ways to code complex tabulations in R?","<r><statistics><data-visualization>","3","0","2","","","CC BY-SA 3.0","1467807","4452","4452","r","404559","3625322","3607736","",""
"1468856","1","1469356","","2009-09-23 22:25:37","","15","24664","<p>OK, I've got two named lists, one is ""expected"" and one is ""observed"". They may be complex in structure, with arbitrary data types. I want to get a new list containing just those elements of the observed list that are different from what's in the expected list. Here's an example:</p>

<pre><code>Lexp &lt;- list(a=1, b=""two"", c=list(3, ""four""))
Lobs &lt;- list(a=1, c=list(3, ""four""), b=""ni"")
Lwant &lt;- list(b=""ni"")
</code></pre>

<p>Lwant is what I want the result to be. I tried this:</p>

<pre><code>&gt; setdiff(Lobs, Lexp)
[[1]]
[1] ""ni""
</code></pre>

<p>Nope, that loses the name, and I don't think setdiff pays attention to the names. Order clearly doesn't matter here, and I don't want <em>a=1</em> to match with <em>b=1</em>. </p>

<p>Not sure what a good approach is... Something that loops over a list of <em>names(Lobs)</em>? Sounds clumsy and non-R-like, although workable... Got any elegant ideas?</p>
","135944","","","","","2009-09-24 01:12:32","how do I get the difference between two R named lists?","<r><indexing><list><set>","2","0","2","","","CC BY-SA 2.5","1468856","4452","4452","r","404559","3625322","3607736","",""
"1468962","1","1469498","","2009-09-23 23:03:42","","9","11190","<p>I'd like to use <code>correlation clustering</code> and I figure <code>R</code> is a good place to start.</p>

<p>I can present the data to <code>R</code> as a set of large, sparse vectors or as a table with a pre-computed dissimilarity matrix.</p>

<p>My questions are:</p>

<ul>
<li>are there existing <code>R</code> functions to turn this into a <code>hierarchical cluster</code> with <code>agnes</code> that uses <code>correlation clustering</code>?</li>
<li>will I have to implement the (admittedly simple) <code>correlation clustering</code>function by hand, if so how do I make it play well with <code>agnes</code>?</li>
</ul>
","11858","","3392044","","2016-02-29 09:35:10","2016-02-29 09:35:10","Correlation clustering in R","<r><cluster-analysis><nlp>","4","0","5","","","CC BY-SA 3.0","1468962","4452","4452","r","404559","3625322","3607736","",""
"1474081","1","","","2009-09-24 20:51:30","","418","551011","<p>A friend sent me along this great tutorial on <a href=""http://www.stanford.edu/~cengel/cgi-bin/anthrospace/scraping-new-york-times-articles-with-r"" rel=""noreferrer"">webscraping NYtimes with R</a>. I would really love to try it. However, the first step is to installed a package called RJSONIO from source.</p>

<p>I know R reasonably well, but I have no idea how to install a package from source.</p>

<p>I'm running Mac OSX.</p>
","","Madjoro","2338862","user212218","2016-05-24 15:35:36","2017-10-18 21:31:48","How do I install an R package from source?","<r><package><installation><r-faq>","6","1","140","","","CC BY-SA 3.0","1474081","4452","4452","r","404559","3625322","3607736","",""
"1475360","1","","","2009-09-25 04:01:55","","1","2376","<p>I'm trying to ""apply"" a function that does ""lag""s on zoo objects in R.</p>

<p>The function works correctly if I pass a single zoo vector - it applys the lag and everything works.</p>

<p>However, if I <code>apply( data, 1, function )</code> then the lag doesn't work.  There is no error, just the equivalent of a zero lag.</p>

<p>This is also the case with a simple <code>apply( data, 1, lag )</code>.</p>

<p>Can anyone explain why this should be the case?  Is there anything I can do to make the lag to occur?</p>
","","a-or-b","1315767","","2014-01-01 17:29:58","2014-01-01 17:29:58","lag in apply statement doesn't work in R","<r><time-series><apply><lag>","3","1","","","","CC BY-SA 3.0","1475360","4452","4452","r","404559","3625322","3607736","",""
"1475631","1","1475805","","2009-09-25 05:53:31","","3","2022","<p><strong><em>Background:</em></strong> </p>

<p>I'm running a Monte Carlo simulation to show that a particular process (a cumulative mean) does <strong>not</strong> converge over time, and often diverges wildly in simulation (the expectation of the random variable = infinity).  I want to plot about 10 of these simulations on a line chart, where the x axis has the iteration number, and the y axis has the cumulative mean up to that point.</p>

<p><strong><em>Here's my problem:</em></strong></p>

<p>I'll run the first simulation (each sim. having 10,000 iterations), and build the main plot based on its current range.  But often one of the simulations will have a range a few orders of magnitude large than the first one, so the plot flies outside of the original range.  So, <strong>is there any way to dynamically update the ylim or xlim of a plot upon adding a new set of points or lines?</strong></p>

<p>I can think of two <strong>workarounds</strong> for this: 1. store each simulation, then pick the one with the largest range, and build the base graph off of that (not elegant, and I'd have to store a lot of data in memory, but would probably be laptop-friendly <strong>[[EDIT: as Marek points out, this is not a memory-intense example, but if you know of a nice solution that'd support far more iterations such that it becomes an issue (think high dimensional walks that require much, much larger MC samples for convergence) then jump right in]]</strong>) 2. find a seed that appears to build a nice looking version of it, and set the ylim manually, which would make the demonstration reproducible.</p>

<p>Naturally I'm holding out for something more elegant than my workarounds.  Hoping this isn't too pedestrian a problem, since I imagine it's not uncommon with simulations in R.  Any ideas?</p>
","144601","","5414452","","2015-12-27 13:28:03","2015-12-27 13:28:03","R: update plot [xy]lims with new points() or lines() additions?","<r><plot>","2","2","","","","CC BY-SA 2.5","1475631","4452","4452","r","404559","3625322","3607736","",""
"1476185","1","1476280","","2009-09-25 08:53:10","","11","19289","<p>I have some data, </p>

<pre><code>calvarbyruno.1&lt;-structure(list(Nominal = c(1, 3, 6, 10, 30, 50, 150, 250), Run = structure(c(1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L), .Label = c(""1"", ""2"", ""3""), class = ""factor""), 
    PAR = c(1.25000000000000e-05, 0.000960333333333333, 0.00205833333333334, 
    0.00423333333333333, 0.0322333333333334, 0.614433333333334, 
    1.24333333333333, 1.86333333333333), PredLin = c(-0.0119152187070942, 
    0.00375925114245899, 0.0272709559167888, 0.0586198956158952, 
    0.215364594111427, 0.372109292606959, 1.15583278508462, 1.93955627756228
    ), PredQuad = c(-0.0615895732702735, -0.0501563307416599, 
    -0.0330831368244257, -0.0104619953693943, 0.100190275883806, 
    0.20675348710041, 0.6782336426345, 1.04748729725370)), .Names = c(""Nominal"", 
""Run"", ""PAR"", ""PredLin"", ""PredQuad""), row.names = c(NA, 8L), class = ""data.frame"")
calweight &lt;- -2
</code></pre>

<p>for which I've created both a linear and a quadratic lm model</p>

<pre><code>callin.1&lt;-lm(PAR~Nominal,data=calvarbyruno.1,weight=Nominal^calweight)
calquad.1&lt;-lm(PAR~Nominal+I(Nominal^2),data=calvarbyruno.1,weight=Nominal^calweight)
</code></pre>

<p>I can then plot my data values using ggplot2</p>

<pre><code>qplot(PAR,Nominal,data=calvarbyruno.1)
</code></pre>

<p>But can't work out how to overlay a line representing the two lm objects... Any ideas ?</p>
","74658","","","","","2019-04-26 07:53:41","How to overlay a line for an lm object on a ggplot2 scatterplot","<graphics><r><ggplot2>","2","0","6","","","CC BY-SA 2.5","1476185","4452","4452","r","404559","3625322","3607736","",""
"1476585","1","1952409","","2009-09-25 10:36:12","","1","4109","<p>I have some data in a dataframe calvarbyruno.1 with variables Nominal and PAR that represent the Peak Area Ratio (PAR) found from analysis of a set of standards using a particular analytical technique, and two lm models of that data (linear and quadratic) for the relationship PAR ~ Nominal.  I'm trying to use the predict.lm function to back calculate Nominal values, given my PAR values, but both predict.lm and fitted seem to only give me PAR values.  I'm slowly loosing my mojo, can anyone help ?</p>

<p>calvarbyruno.1 dataframe</p>

<pre><code>structure(list(Nominal = c(1, 3, 6, 10, 30, 50, 150, 250), Run = structure(c(1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L), .Label = c(""1"", ""2"", ""3""), class = ""factor""), 
    PAR = c(1.25000000000000e-05, 0.000960333333333333, 0.00205833333333334, 
    0.00423333333333333, 0.0322333333333334, 0.614433333333334, 
    1.24333333333333, 1.86333333333333), PredLin = c(-0.0119152187070942, 
    0.00375925114245899, 0.0272709559167888, 0.0586198956158952, 
    0.215364594111427, 0.372109292606959, 1.15583278508462, 1.93955627756228
    ), PredQuad = c(-0.0615895732702735, -0.0501563307416599, 
    -0.0330831368244257, -0.0104619953693943, 0.100190275883806, 
    0.20675348710041, 0.6782336426345, 1.04748729725370)), .Names = c(""Nominal"", 
""Run"", ""PAR"", ""PredLin"", ""PredQuad""), row.names = c(NA, 8L), class = ""data.frame"")
</code></pre>

<p>Linear Model</p>

<pre><code>summary(callin.1)

Call:
lm(formula = PAR ~ Nominal, data = calvarbyruno.1, weights = Nominal^calweight)

Residuals:
       Min         1Q     Median         3Q        Max 
-0.0041172 -0.0037785 -0.0003605  0.0024465  0.0071815 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept) -0.007083   0.005037  -1.406   0.2093  
Nominal      0.005249   0.001910   2.748   0.0334 *
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 

Residual standard error: 0.004517 on 6 degrees of freedom
Multiple R-squared: 0.5572,     Adjusted R-squared: 0.4835 
F-statistic: 7.551 on 1 and 6 DF,  p-value: 0.03338 
</code></pre>

<p>Quadratic Model</p>

<pre><code>&gt; summary(calquad.1)

Call:
lm(formula = PAR ~ Nominal + I(Nominal^2), data = calvarbyruno.1)

Residuals:
        1         2         3         4         5         6         7         8 
 0.053366  0.033186  0.002766 -0.036756 -0.211640  0.177012 -0.021801  0.003867 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)  -6.395e-02  6.578e-02  -0.972  0.37560   
Nominal       1.061e-02  2.205e-03   4.812  0.00483 **
I(Nominal^2) -1.167e-05  9.000e-06  -1.297  0.25138   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 

Residual standard error: 0.128 on 5 degrees of freedom
Multiple R-squared: 0.9774,     Adjusted R-squared: 0.9684 
F-statistic: 108.2 on 2 and 5 DF,  p-value: 7.658e-05
</code></pre>

<p>But Predict gives me these values, which both seem wrong (although I can't work out what it's doing that's different for the second set ?</p>

<pre><code>&gt; predict(callin.1)
           1            2            3            4            5            6 
-0.001834123  0.008663451  0.024409812  0.045404959  0.150380698  0.255356437 
           7            8 
 0.780235132  1.305113826 
&gt; predict(callin.1,type=""terms"")
      Nominal
1 -0.32280040
2 -0.31230282
3 -0.29655646
4 -0.27556131
5 -0.17058558
6 -0.06560984
7  0.45926886
8  0.98414755
attr(,""constant"")
[1] 0.3209663
</code></pre>

<p>EDIT: As has been pointed out, I've not been very clear on what I'm trying to achieve, so I'll try to exaplian myself better.</p>

<p>The data is from analysis of a set of standards of known concentrations (Nominal) which gives a particular set of responses, or peak area ratio's (PAR).  I want to show which model best fits this data to use to then analyse unknown samples to find their concentration.</p>

<p>I'm trying to follow someone else working for this, which involves;<br>
a) Find the appropriate weight to use, by finding the within run variance of PAR and fitting that to a model of log(Variance(PAR))=a+b<em>log(Nominal), where B will be the weight to use (rounded to nearest integer)<br>
  b) Fit the data for each run to a linear model (PAR = a+b</em>Nominal) and a Quadratic Model (PAR = a+B<em>Nominal+c</em>Nominal^2)<br>
  c) Back calculate the found concentration for each standard and compare to the Nominal conentration to give the bias<br>
  d) Assess bias across the calibration range and pick the model based on the bias  </p>

<p>This question is trying to do c).  Posts to the R mailing list suggest it's not appropriate to just do the regression with the terms reversed, I can manually do the calculation for the linear model, but am struggling with the quadratic model.  It seems from searcing the R mailing list that others want to do the same thing.</p>
","74658","","74658","","2009-09-28 10:23:34","2009-12-23 12:04:09","How to use Predict.lm in r to reverse the regression","<r><statistics>","1","5","1","","","CC BY-SA 2.5","1476585","4452","4452","r","404559","3625322","3607736","",""
"1478532","1","1478990","","2009-09-25 17:15:01","","32","60161","<p>Suppose I have the following</p>

<pre><code>y &lt;- rnorm(10)
b &lt;- as.factor(sample(1:4,10,replace=T))
qplot(1:10, y, shape=b)
</code></pre>

<p>How do I change the shapes that are used using <code>ggplot2</code>?</p>
","84458","","84458","","2009-09-28 06:38:36","2015-06-09 14:52:09","Changing shapes used for scale_shape() in ggplot2","<r><ggplot2>","3","0","12","","","CC BY-SA 2.5","1478532","4452","4452","r","404559","3625322","3607736","",""
"1478758","1","","","2009-09-25 18:01:25","","4","710","<p>What is the fastest way in R to compute a recursive sequence defined as </p>

<pre><code>x[1] &lt;- x1 
x[n] &lt;- f(x[n-1])
</code></pre>

<p>I am assuming that the vector x of proper length is preallocated. Is there a smarter way than just looping?</p>

<p>Variant: extend this to vectors:</p>

<pre><code> x[,1] &lt;- x1 
 x[,n] &lt;- f(x[,n-1])
</code></pre>
","143813","","30453","","2009-09-25 20:17:23","2009-09-25 20:17:23","Optimizing the computation of a recursive sequence","<algorithm><r><recursion>","5","3","1","","","CC BY-SA 2.5","1478758","4452","4452","r","404559","3625322","3607736","",""
"1481032","1","1481913","","2009-09-26 11:34:36","","6","2411","<p>Using <a href=""http://oreilly.com/catalog/9780596804770/"" rel=""noreferrer"">O'Reilly's Data Mashups in R</a> as inspiration, I'm trying to plot a handful of addresses on a shapefile of Salt Lake County, Utah found <a href=""http://gis.utah.gov/sgid-vector-download/utah-sgid-vector-gis-data-layer-download-index?fc=CensusTracts2000"" rel=""noreferrer"">here</a>.</p>

<p>I have data frame geoTable:</p>

<pre><code>&gt; geoTable
         address        Y         X EID
1    130 E 300 S 40.76271 -111.8872   1
2    875 E 900 S 40.74992 -111.8660   2
3   2200 S 700 E 40.72298 -111.8714   3
4    702 E 100 S 40.76705 -111.8707   4
5 177 East 200 S 40.76518 -111.8859   5
6    702 3rd ave 40.77264 -111.8683   6
7   2175 S 900 E 40.72372 -111.8652   7
8   803 E 2100 S 40.72556 -111.8680   8
</code></pre>

<p>And I've coerced it into an eventData object:</p>

<pre><code>&gt; addressEvents&lt;-as.EventData(geoTable,projection=NA)
&gt; addressEvents
         address        Y         X EID
1    130 E 300 S 40.76271 -111.8872   1
2    875 E 900 S 40.74992 -111.8660   2
3   2200 S 700 E 40.72298 -111.8714   3
4    702 E 100 S 40.76705 -111.8707   4
5 177 East 200 S 40.76518 -111.8859   5
6    702 3rd ave 40.77264 -111.8683   6
7   2175 S 900 E 40.72372 -111.8652   7
8   803 E 2100 S 40.72556 -111.8680   8
</code></pre>

<p>So it looks like I've got everything I need to plot-but its not working.  When I load the shapefile and plot using</p>

<pre><code>addPoints(addressEvents,col=""red"",cex=.5)
</code></pre>

<p>I'm left looking at an empty shapefile.  Additionally, when I try and run findPolys against my eventData object, it returns NULL.</p>

<pre><code>&gt; findPolys(addressEvents,myShapeFile)
NULL
</code></pre>

<p>How can I make this work?  I was able to complete the O'Reilly tutorial without any problems and am having difficulty figuring out where I'm going wrong here.  I dont know if its the shapefile, my data frame, or whateverelse.  </p>

<p>Here are the commands I use to import my data and shapefile</p>

<pre><code>slc&lt;-read.table('~/utah.txt',sep=',',header=TRUE,strip.white=TRUE,stringsAsFactors=FALSE)

myShapeFile&lt;-importShapefile(""/Users/neil/Downloads/SGID93_DEMOGRAPHIC_CensusTracts2000/SGID93_DEMOGRAPHIC_CensusTracts2000"",readDBF=TRUE)
</code></pre>
","92287","","","","","2009-09-26 19:03:01","Help plotting Geographic Data in R using PBSMapping and Shapefiles","<r><mapping><gis><geospatial><esri>","2","2","2","","","CC BY-SA 2.5","1481032","4452","4452","r","404559","3625322","3607736","",""
"1484307","1","","","2009-09-27 19:54:26","","6","1475","<p>I've a problem concerning construction of log y-axis in a graphic. </p>

<p>How can I manage that the units/numbers of my log y-axis aren't shown in </p>

<pre><code>1e+03, 1e+04, 1e+05 etc....
</code></pre>

<p>But only in regular Arabic numbers (1000, 10000, 100000)?</p>
","","Monika","3687447","","2015-02-26 10:17:54","2015-02-26 10:17:54","label of log y-axis: 1000 instead of 1e+03?","<r><algorithm><graphics><statistics>","4","0","3","","","CC BY-SA 3.0","1484307","4452","4452","r","404559","3625322","3607736","",""
"1484472","1","","","2009-09-27 21:01:19","","6","689","<p>Say you have the following dataset:</p>

<pre><code>trt &amp;lt;- ifelse(runif(100)&amp;lt;0.5,""drug"",""placebo"")
inj.site &amp;lt;- ifelse(runif(100)&amp;lt;0.5,""ankle"",""wrist"")
relief &amp;lt;- 20 + 0.5*(inj.site==""ankle"") + 0.5*(trt==""drug"") + rnorm(100)
to.analyze &amp;lt;- data.frame(trt,inj.site,relief)
</code></pre>

<p>Now, the idea is to make a boxplot with injury site on the x-axis and boxes by treatment side-by-side:</p>

<pre><code>bplot &amp;lt;- ggplot(to.analyze,aes(inj.site,relief,fill=trt)) + geom_boxplot(position=""dodge"")
</code></pre>

<p>Easy enough. But now I want to add raw data points on top of the boxes. If I didn't have boxes with <code>position=""dodge""</code>, this would be easy:</p>

<pre><code>bplot + geom_point(aes(colour=trt))
</code></pre>

<p>However, this draws points in between the boxes, and adding a <code>position=""dodge""</code>to this geometry does not seem to work. How do I adjust this so that points are drawn over the boxes?</p>

<p>Bonus: same situation with using <code>stat_summary(blah,y.fun=mean,shape=""+"")</code> to overplot the means, which has the same issue.</p>
","179848","","2100721","","2016-06-22 19:49:18","2016-06-22 19:49:18","Adding summary statistics (or even raw data points) to dodged position boxplots","<r><algorithm><ggplot2>","1","2","1","","","CC BY-SA 3.0","1484472","4452","4452","r","404559","3625322","3607736","",""
"1484904","1","1484926","","2009-09-28 00:28:43","","6","16692","<p>I'm running the following script: </p>

<pre><code>cause = c(1, 1, 1, 1, 1, 2, 1, 2, 2, 2, 2); 
time =  c(1, 1, 2, 3, 3, 2, 2, 1, 1, 2, 2); 
table(cause, time)
</code></pre>

<p>And I get the following:</p>

<pre><code>    time
cause 1 2 3
    1 2 2 2
    2 2 3 0
</code></pre>

<p>What I want is this:</p>

<pre><code>      time
cause     1 2 3
Maltreat  2 2 2
Non-Maltr 2 3 0
</code></pre>

<p>So, my question is: how do you rename the rows of a table in R?</p>

<p>In the same vein, how would you rename the columns of that table?</p>
","177541","","4370109","","2017-01-11 09:05:21","2017-01-11 09:05:21","Renaming rows and columns in R","<r><rename><rows>","3","0","3","","","CC BY-SA 3.0","1484904","4452","4452","r","404559","3625322","3607736","",""
"1487320","1","","","2009-09-28 14:23:24","","17","3261","<p>There is <a href=""http://mars.wiwi.hu-berlin.de/mediawiki/sk/index.php/R_Extension_for_MediaWiki"" rel=""noreferrer"">a very nice Mediawiki plugin for R</a> which allows you to embed R code in any wiki page.  It takes a little effort to configure, but it's really useful once you have it in place.</p>

<p>Does anyone know of an equivalent for embedding R in a blog post?  The only thing I could find was <a href=""http://lixiaoxu.lxxm.com/RwebFriend/"" rel=""noreferrer"">this wordpress plugin called RWebFriend</a>, but it only allows you to send code to <a href=""http://bayes.math.montana.edu/Rweb/"" rel=""noreferrer"">Rweb</a>.  I'm envisioning something where you can embed your code between two tags and it is executed and returned.</p>
","163053","","","","","2014-11-04 16:03:30","Blogging with R: easy way to embed R in a blog post?","<wordpress><r><blogs>","7","1","10","","","CC BY-SA 2.5","1487320","4452","4452","r","404559","3625322","3607736","",""
"1489199","1","1489247","","2009-09-28 20:28:35","","5","701","<h3>I'm looking for an elegant way to change multiple vectors' datatypes in R.</h3>

<p>I'm working with an educational dataset: 426 students' answers to eight multiple choice questions (<code>1</code> = correct, <code>0</code> = incorrect), plus a column indicating which instructor (<code>1, 2, or 3</code>) taught their course.</p>

<p>As it stands, my data is sitting pretty in <code>data.df</code>, like this:</p>

<p><pre><code>    str(data.df)
    'data.frame': 426 obs. of  9 variables:
    $ ques01: int  1 1 1 1 1 1 0 0 0 1 ...
    $ ques02: int  0 0 1 1 1 1 1 1 1 1 ...
    $ ques03: int  0 0 1 1 0 0 1 1 0 1 ...
    $ ques04: int  1 0 1 1 1 1 1 1 1 1 ...
    $ ques05: int  0 0 0 0 1 0 0 0 0 0 ...
    $ ques06: int  1 0 1 1 0 1 1 1 1 1 ...
    $ ques07: int  0 0 1 1 0 1 1 0 0 1 ...
    $ ques08: int  0 0 1 1 1 0 1 1 0 1 ...
    $ inst  : num  1 1 1 1 1 1 1 1 1 1 ...
</code></pre></p></p>

<p>But those <code>ques0x</code> values aren't <strong>really</strong> integers. Rather, I think it's better to have R treat them as experimental factors. Same goes for the ""inst"" values.</p>

<h3>I'd love to turn all those <code>int</code>s and <code>num</code>s into <code>factors</code>
</h3>

<p>
Ideally, an elegant solution should produce a dataframe&mdash;I call it <code>factorData.df</code>&mdash;that looks like this:
</p>

<pre><code>    str(factorData.df)
    'data.frame': 426 obs. of  9 variables:
    $ ques01: Factor w/ 2 levels ""0"",""1"": 2 2 2 2 2 2 1 1 1 2 ...
    $ ques02: Factor w/ 2 levels ""0"",""1"": 1 1 2 2 2 2 2 2 2 2 ...
    $ ques03: Factor w/ 2 levels ""0"",""1"": 1 1 2 2 1 1 2 2 1 2 ...
    $ ques04: Factor w/ 2 levels ""0"",""1"": 2 1 2 2 2 2 2 2 2 2 ...
    $ ques05: Factor w/ 2 levels ""0"",""1"": 1 1 1 1 2 1 1 1 1 1 ...
    $ ques06: Factor w/ 2 levels ""0"",""1"": 2 1 2 2 1 2 2 2 2 2 ...
    $ ques07: Factor w/ 2 levels ""0"",""1"": 1 1 2 2 1 2 2 1 1 2 ...
    $ ques08: Factor w/ 2 levels ""0"",""1"": 1 1 2 2 2 1 2 2 1 2 ...
    $ inst  : Factor w/ 3 levels ""1"",""2"",""3"": 1 1 1 1 1 1 1 1 1 1 ...
</code></pre>

<p><p>I'm fairly certain that whatever solution you folks come up with, it ought to be easy to generalize to any n number of variables that'd need to get reclassified, and would work across most common conversions (<code>int -> factor</code> and <code>num -> int</code>, for example).</p>

<h3> No matter what solution you folks generate, it's <strong>bound</strong> to be more elegant than mine</h3>

<p><p>Because my current clunky code is just 9 separate <code>factor()</code> statements, one for each variable, like this</p>

<pre>    factorData.df$ques01 </pre>

<p>
I'm brand-new to R, programming, and stackoverflow. Please be gentle, and thanks in advance for your help!
</p>
","180626","","","","","2009-09-28 21:27:32","How can I take multiple vectors and recode their datatypes in R?","<r><statistics>","2","2","1","","","CC BY-SA 2.5","1489199","4452","4452","r","404559","3625322","3607736","",""
"1489526","1","1489722","","2009-09-28 21:42:03","","4","10153","<p>I have a dataframe with Address, City, State, Zip entities.  From there, I'm trying to use the Yahoo APIs to Geocode each address.</p>

<p>I'm basing this off the code in O'Reilly's Data Mashups using R Tutorial.  The original example takes a vector of street addresses and uses a hard-coded city.  I'm trying to make a dynamic example that supports multiple cities.</p>

<p>The abbreviated version of the code is:</p>

<pre><code>    geocodeAddresses&lt;-function(myStreets)
    }
  appid&lt;-'&lt;put your appid here&gt;'
          baseURL&lt;-""http://local.yahooapis.com/MapsService/V1/geocode?appid=""
          myGeoTable&lt;-data.frame(address=character(),lat=numeric(),long=numeric(),EID=numeric())
          for (myStreet in myStreets){  
            requestUrl&lt;-paste(baseURL, appid, ""&amp;street="", URLencode(myStreet$address),""&amp;city="",URLencode(myStreet$city),""&amp;state="",URLencode(myStreet$state),sep="""")
            xmlResult&lt;-xmlTreeParse(requestUrl,isURL=TRUE,addAttributeNamespaces=TRUE)
            geoResult&lt;-xmlResult$doc$children$ResultSet$children$Result
            lat&lt;-xmlValue(geoResult[['Latitude']])
            long&lt;-xmlValue(geoResult[['Longitude']])
            myGeoTable&lt;-rbind(myGeoTable,data.frame(address=myStreet,Y=lat,X=long,EID=NA))
          }
    }
</code></pre>

<p>When I try and reference myStreet$City and myStreet$Address, I receive an error</p>

<pre><code>$ operator is invalid for atomic vectors
</code></pre>

<p>Other than looping through data frame myStreets, I don't know how I can make the call to the Yahoo API only once for each row and store both the long/lat for each member.</p>
","92287","","3768871","","2019-04-30 06:44:13","2019-04-30 06:44:13","Trying to loop through a dataframe and reference multiple fields","<r><dataframe>","2","0","1","","","CC BY-SA 4.0","1489526","4452","4452","r","404559","3625322","3607736","",""
"1489788","1","1489820","","2009-09-28 23:02:27","","4","157","<p>I have a DNA sequence like: <code>cgtcgctgtttgtcaaagtcg....</code></p>

<p>that is possibly 1000+ letters long.  </p>

<p>However, I only want to look at letters 5 to 200, for example, and to define this subset of the string as a new object.</p>

<p>I tried looking at the <code>nchar</code> function, but haven't found something that would do this.</p>
","","user180787","978961","","2016-02-17 12:47:14","2016-02-17 12:47:14","Trying to return a specified number of characters from a gene sequence in R","<r><string><split><substr>","3","5","1","","","CC BY-SA 3.0","1489788","4452","4452","r","404559","3625322","3607736","",""
"1491124","1","","","2009-09-29 07:52:21","","8","14018","<p>I'm trying to round an output from a simple <code>by()</code> function in <code>R</code>. This is what I have:</p>

<pre><code>&gt; by(glaciers[,1:3],glaciers$activity.level,mean)

glaciers$activity.level: Active
       aspect  sun.duration      latitude 
-9.444444e+00  1.771778e+03  3.247643e+09 
-------------------------------------------
glaciers$activity.level: Inactive
      aspect sun.duration     latitude 
1.041667e+01 2.067583e+03 4.048301e+09 
-------------------------------------------
glaciers$activity.level: Relict
      aspect sun.duration     latitude 
1.766667e+01 2.168000e+03 2.759283e+09 
</code></pre>

<p>How can I get my output to round to say 5 decimal places, and still keep the factors?</p>

<p>I've tried: <code>round(by(glaciers[,1:3],glaciers$activity.level,mean),5)</code> but get an error: <code>Non-numeric argument to mathematical function</code>.</p>
","74936","","978961","","2016-02-17 12:49:51","2016-02-17 12:49:51","Rounding output from by function in R","<function><r>","6","1","1","","","CC BY-SA 3.0","1491124","4452","4452","r","404559","3625322","3607736","",""
"1493969","1","1495204","","2009-09-29 17:35:31","","48","79684","<p>I have a logical vector, for which I wish to insert new elements at particular indexes. I've come up with a clumsy solution below, but is there a neater way?</p>

<pre><code>probes &lt;- rep(TRUE, 15)
ind &lt;- c(5, 10)
probes.2 &lt;- logical(length(probes)+length(ind))
probes.ind &lt;- ind + 1:length(ind)
probes.original &lt;- (1:length(probes.2))[-probes.ind]
probes.2[probes.ind] &lt;- FALSE
probes.2[probes.original] &lt;- probes

print(probes)
</code></pre>

<p>gives</p>

<pre><code>[1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
</code></pre>

<p>and</p>

<pre><code>print(probes.2)
</code></pre>

<p>gives</p>

<pre><code>[1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE
[13]  TRUE  TRUE  TRUE  TRUE  TRUE
</code></pre>

<p>So it works but is ugly looking - any suggestions?</p>
","160588","","243587","","2014-04-12 22:15:10","2020-11-19 17:02:44","How to insert elements into a vector?","<r>","8","2","16","","","CC BY-SA 3.0","1493969","4452","4452","r","404559","3625322","3607736","",""
"1496582","1","1496833","","2009-09-30 07:29:28","","7","14262","<p>In R, I have a 1-row table. How do I convert that to a vector?</p>

<p>Specifically, the table is this:</p>

<pre><code> 0  1  2  3  4 
21 35 46 62 36 
</code></pre>

<p>I've tried bracket notation but to no avail!</p>
","177541","","4370109","","2017-01-11 09:18:17","2017-01-11 09:18:17","How to convert vector from 1-row table in R","<r><vector><row>","3","0","1","","","CC BY-SA 2.5","1496582","4452","4452","r","404559","3625322","3607736","",""
"1496647","1","1496818","","2009-09-30 07:51:00","","1","392","<p>I have a function to calculate the inverse of a quadratic equation.  By default it gives the two possible solutions:</p>

<pre><code>invquad&lt;-function(a,b,c,y,roots=""both"")
{
    #Calculate the inverse of a quadratic function y=ax^2+bx+c (i.e. find x when given y.)
    #Gives NaN with non real solutions.
    root1&lt;-sqrt((y-(c-b^2/(4*a)))/a)-(b/(2*a))
    root2&lt;--sqrt((y-(c-b^2/(4*a)))/a)-(b/(2*a))
    if (roots==""both"")
        result&lt;-c(root1,root2)
    if (roots==""min"")
        result&lt;-min(root1,root2)
    if (roots==""max"")
        result&lt;-max(root1,root2)
    result
}
</code></pre>

<p>This works fine if given a single value of y, but if I give it a list or a column from a dataframe, then the min and max elements give me the minimum value of the whole list. I want it to return just the minimum result for that element.  I'm assuming iterating over the list is possible, but it is not very efficient.</p>

<p>Any ideas ?</p>
","74658","","63550","","2009-10-19 18:50:52","2009-11-06 20:32:50","How to apply Min or Max to each result of a function separately?","<r><function>","2","0","1","","","CC BY-SA 2.5","1496647","4452","4452","r","404559","3625322","3607736","",""
"1497539","1","1497697","","2009-09-30 11:23:08","","99","276379","<p>Is there a function in R that fits a curve to a histogram?</p>

<p>Let's say you had the following histogram</p>

<pre><code>hist(c(rep(65, times=5), rep(25, times=5), rep(35, times=10), rep(45, times=4)))
</code></pre>

<p>It looks normal, but it's skewed. I want to fit a normal curve that is skewed to wrap around this histogram.</p>

<p>This question is rather basic, but I can't seem to find the answer for R on the internet.</p>
","177541","","903061","","2012-11-16 16:38:00","2021-05-10 13:43:38","Fitting a density curve to a histogram in R","<r><histogram><curve-fitting><r-faq>","6","3","53","","","CC BY-SA 2.5","1497539","4452","4452","r","404559","3625322","3607736","",""
"1502910","1","1503155","","2009-10-01 09:32:31","","49","20837","<p>In R, what would be the most efficient/simplest way to count runs of identical elements in a sequence?</p>

<p>For example, how to count the numbers of consecutive zeros in a sequence of non-negative integers:</p>

<pre><code>x &lt;- c(1,0,0,0,1,0,0,0,0,0,2,0,0) # should give 3,5,2
</code></pre>
","182378","","1193596","","2014-04-30 13:58:48","2018-04-09 10:30:11","How can I count runs in a sequence?","<r><count>","2","2","14","","","CC BY-SA 3.0","1502910","4452","4452","r","404559","3625322","3607736","",""
"1504318","1","1504339","","2009-10-01 14:31:33","","4","1692","<p>This I am sure is really basic stuff. I am just beginning using gvim and latex-suite. However I would like latex-suite to load when I edit a sweavefile with.Rnw extension.</p>

<p>my .vimrc looks like this</p>

<pre><code>"" These settings are needed for latex-suite
filetype indent on
filetype plugin on
filetype on
let g:tex_flavor='latex'
set grepprg=grep\ -nH\ $*
""let g:Tex_Folding=0 ""I don't like folding.
set iskeyword+=:
</code></pre>

<p>and I guess there is some option I can set here that makes vim treat Rnw as .tex?</p>
","162832","","","","","2009-10-22 09:33:14","Associate .Rnw with vim latex suite","<r><latex><vim><sweave>","2","0","1","","","CC BY-SA 2.5","1504318","4452","4452","r","404559","3625322","3607736","",""
"1504709","1","1505144","","2009-10-01 15:39:53","","2","378","<p>I'm not sure if this is possible, but does anyone know if I can pipe ESS commands (i.e. evaluate region) to a R process running outside of Emacs? The Emacs terminal hangs up a bit (more often than Apple's terminal) and I'd like to just ditch it, while still using ESS commands. Currently I am doing the less efficient copy and paste technique :-)</p>

<p>Vince</p>
","147427","","163053","","2009-10-01 16:51:10","2009-10-01 17:15:29","Pipe ESS to terminal outside of Emacs?","<emacs><r><ess>","2","0","1","","","CC BY-SA 2.5","1504709","4452","4452","r","404559","3625322","3607736","",""
"1504832","1","2047400","","2009-10-01 16:00:14","","4","15065","<p>...if that is possible</p>

<p>My task is to find the longest streak of continuous days a user participated in a game.</p>

<p>Instead of writing an sql function, I chose to use the R's rle function, to get the longest streaks and then update my db table with the results.</p>

<p>The (attached) dataframe is something like this:</p>

<pre><code>    day      user_id
2008/11/01    2001
2008/11/01    2002
2008/11/01    2003
2008/11/01    2004
2008/11/01    2005
2008/11/02    2001
2008/11/02    2005
2008/11/03    2001
2008/11/03    2003
2008/11/03    2004
2008/11/03    2005
2008/11/04    2001
2008/11/04    2003
2008/11/04    2004
2008/11/04    2005
</code></pre>

<p>I tried the following to get per user longest streak</p>

<pre><code># turn it to a contingency table
my_table &lt;- table(user_id, day)

# get the streaks
rle_table &lt;- apply(my_table,1,rle)

# verify the longest streak of ""1""s for user 2001
# as.vector(tapply(rle_table$'2001'$lengths, rle_table$'2001'$values, max)[""1""])

# loop to get the results
# initiate results matrix
res&lt;-matrix(nrow=dim(my_table)[1], ncol=2)

for (i in 1:dim(my_table)[1]) {
string &lt;- paste(""as.vector(tapply(rle_table$'"", rownames(my_table)[i], ""'$lengths, rle_table$'"", rownames(my_table)[i], ""'$values, max)['1'])"", sep="""")
res[i,]&lt;-c(as.integer(rownames(my_table)[i]) , eval(parse(text=string)))
}
</code></pre>

<p>Unfortunately this for loop takes too long and I' wondering if there is a way to produce the res matrix using a function from the ""apply"" family.</p>

<p>Thank you in advance </p>
","170792","","","","","2010-01-12 07:34:25","Help me replace a for loop with an ""apply"" function","<r><loops><for-loop><apply>","5","5","2","","","CC BY-SA 2.5","1504832","4452","4452","r","404559","3625322","3607736","",""
"1508513","1","","","2009-10-02 09:16:36","","0","1379","<p>I've got data being read into a data frame R, by column.  Some of the columns will increase in value; for those columns only, I want to replace each value (n) with its difference from the previous value in that column.  For example, looking at an individual column, I want</p>

<pre><code>c(1,2,5,7,8)
</code></pre>

<p>to be replaced by</p>

<pre><code>c(1,3,2,1)
</code></pre>

<p>which are the differences between successive elements</p>

<p>However, it's getting really late in the day, and I think my brain has just stopped working.  Here's my code at present</p>

<pre><code>col1 &lt;- c(1,2,3,4,NA,2,3,1) # This column rises and falls, so we want to ignore it
col2 &lt;- c(1,2,3,5,NA,5,6,7) # Note: this column always rises in value, so we want to replace it with deltas
col3 &lt;- c(5,4,6,7,NA,9,3,5) # This column rises and falls, so we want to ignore it
d &lt;- cbind(col1, col2, col3)
d
fix_data &lt;- function(data) {
    # Iterate through each column...
    for (column in data[,1:dim(data)[2]]) {
        lastvalue &lt;- 0
        # Now walk through each value in the column, 
        # checking to see if the column consistently rises in value
        for (value in column) {
            if (is.na(value) == FALSE) { # Need to ignore NAs
                if (value &gt;= lastvalue) {
                    alwaysIncrementing &lt;- TRUE
                } else {
                    alwaysIncrementing &lt;- FALSE
                    break
                }
            }
        }

        if (alwaysIncrementing) {
            print(paste(""Column"", column, ""always increments""))
        }

        # If a column is always incrementing, alwaysIncrementing will now be TRUE
        # In this case, I want to replace each element in the column with the delta between successive
        # elements.  The size of the column shrinks by 1 in doing this, so just prepend a copy of
        # the 1st element to the start of the list to ensure the column length remains the same
        if (alwaysIncrementing) {
            print(paste(""This is an incrementing column:"", colnames(column)))
            column &lt;- c(column[1], diff(column, lag=1))
        }
    }
    data
}

fix_data(d)
d
</code></pre>

<p>If you copy/paste this code into RGui, you'll see that it doesn't do anything to the supplied data frame.</p>

<p>Besides losing my mind, what am I doing wrong??</p>

<p>Thanks in advance</p>
","140823","","","","","2009-10-02 11:11:02","Selectively replacing columns in R with their delta values","<r><diff>","2","1","","","","CC BY-SA 2.5","1508513","4452","4452","r","404559","3625322","3607736","",""
"1508889","1","1508932","","2009-10-02 10:57:21","","8","39289","<p>I have a dataframe, and I want to produce a table of summary statistics including number of valid numeric values, mean and sd by group for each of three columns.  I can't seem to find any function to count the number of numeric values in R.  I can use length() which tells me how many values there are, and I can use colSums(is.na(x)) to count the number of NA values, but colSums(is.numeric(x)) doesn't work the same way.</p>

<p>I could use tapply with { length - number of NA values - number of blank values - number of text values } but surely there's an easier way.</p>

<p>My data (I want to group by Nominal, and produce summary stats on Actual, LinPred and QualPred)</p>

<pre><code>structure(list(Nominal = c(1, 3, 6, 10, 30, 50, 150, 250, 1, 
3, 6, 10, 30, 50, 150, 250, 1, 3, 6, 10, 30, 50, 150, 250, 1, 
3, 6, 10, 30, 50, 150, 250, 1, 3, 6, 10, 30, 50, 150, 250, 1, 
3, 6, 10, 30, 50, 150, 250, 1, 3, 6, 10, 30, 50, 150, 250, 1, 
3, 6, 10, 30, 50, 150, 250, 1, 3, 6, 10, 30, 50, 150, 250), Actual = c(NA, 
0.422, 0.782, 1.25, 3.85, 6.94, 18.8, 31.2, 0.118, 0.361, 0.747, 
1.18, 3.58, 5.82, 16.7, 29, 0.113, 0.382, 0.692, 1.12, 3.51, 
5.43, 17.1, 28.7, 0.134, 0.402, 0.718, 1.25, 3.65, 6.52, NA, 
28.8, 0.123, 0.396, 0.664, 1.12, 3.83, 5.6, NA, 28.1, 0.112, 
0.341, 0.7, 1.08, 3.25, 5.97, NA, 27.1, 0.106, 0.35, 0.674, 1.14, 
3.28, 5.5, 17.3, 30, 0.122, 0.321, 0.673, 1.22, 3.41, 5.85, 17.6, 
28.1, 0.129, 0.351, 0.737, 1.06, 3.39, 5.53, 15.9, 28.5), LinPred = c(NA, 
3.49519490135683, 6.4706724568458, 10.3387932789814, 31.8283534019573, 
57.3678690865708, 155.393324109068, 257.881995464799, 0.982569410055046, 
2.99101676001009, 6.18138991672881, 9.76022819874748, 29.5967452353405, 
48.1108278028274, 138.036371702049, 239.698521514589, 0.941243332895477, 
3.16458628408028, 5.72680306797355, 9.26431527283265, 29.0181801551066, 
44.887393784381, 141.342457874815, 237.218956885015, 1.07941778099747, 
3.36900393602722, 6.0686652233011, 10.6136646056736, 31.1174212178803, 
55.6364968333108, NA, 245.979704049963, 0.98544222985819, 3.3177445444967, 
5.60733069952645, 9.50304445584572, 32.6552029637958, 47.7767234652982, 
NA, 239.999441704736, 0.89146667871891, 2.8478667888003, 5.91488704870955, 
9.1613151789756, 27.7001284491792, 50.9377192763467, NA, 231.456209782983, 
0.887738051402174, 3.04188235451485, 5.9023034783202, 10.0163659588551, 
28.9092709123842, 48.5084526866061, 152.684283738776, 264.805729023739, 
1.02899341554071, 2.78585700701375, 5.89347501806154, 10.7226427795477, 
30.0569707460098, 51.5984137771366, 155.332821816374, 248.031654532288, 
1.09079263735132, 3.05071081477351, 6.45849647461568, 9.31008913816238, 
29.8804015408367, 48.7733064943658, 140.324439376654, 251.563038635751
), QuadPred = c(NA, 3.46077095737974, 6.38659713413108, 10.1956079501556, 
31.4700369979564, 57.0089799611706, 157.775316006369, 268.303966059862, 
0.99289436409299, 2.96536517477853, 6.10198249392715, 9.62549220297933, 
29.2517496204359, 47.7196128593832, 139.600469198163, 248.272682787657, 
0.95232583127381, 3.13590297331348, 5.65480031033985, 9.13693141349813, 
28.6769820181676, 44.4936547741659, 143.050878627236, 245.555818447238, 
1.08417831830729, 3.33895371044810, 6.00044125019758, 10.4882228621509, 
30.8451526869812, 55.4331759085967, NA, 256.446833964951, 0.991679220421247, 
3.28844923081897, 5.54540949253351, 9.3907657095483, 32.3793538902883, 
47.5218142460371, NA, 249.828516445647, 0.899183876120787, 2.82554368740693, 
5.84875388286628, 9.05319326862309, 27.4395572248486, 50.7001828907023, 
NA, 240.411024762687, 0.884412915928806, 3.05257006009469, 5.93046554432476, 
10.0673979669, 29.0311859234644, 48.645035648271, 151.914544909710, 
261.273991566153, 1.02660962824666, 2.79491765184684, 5.92158513760114, 
10.7773327827008, 30.1813919027873, 51.7318741314584, 154.518856412401, 
245.027488125567, 1.08881969774848, 3.06145444119556, 6.48990638077339, 
9.35738460692028, 30.0044505131336, 48.9096796323938, 139.747394069421, 
248.451100154569)), .Names = c(""Nominal"", ""Actual"", ""LinPred"", 
""QuadPred""), row.names = c(NA, -72L), class = ""data.frame"")
</code></pre>
","74658","","","","","2010-11-28 22:11:33","How to count number of Numeric values in a column","<r><statistics>","5","0","5","","","CC BY-SA 2.5","1508889","4452","4452","r","404559","3625322","3607736","",""
"1510039","1","","","2009-10-02 14:55:17","","6","440","<p>I am attempting to find the elements that are not common across multiple vectors. That is, I want to know exactly the elements (not just their position, etc.) that are not shared across all vectors.</p>

<p>The best implementation I could come up with uses a nested-loop, which I realize is probably the least efficient, most notably because the execution is still running as I write this.  Here is what I came up with. (each *.id is a vector of Supreme Court case ID's stored as strings).</p>

<pre><code>check.cases&lt;-TRUE

if(check.cases) {
    all.cases&lt;-c(AMKennedy.id,AScalia.id,CThomas.id,DHSouter.id,JGRoberts.id,JPStevens.id,RBGinsburg.id,SAAlito.id,SGBreyer.id)
    bad.cases&lt;-c()
    for(b in all.cases) {
        for(t in all.cases) {
            m&lt;-match(t,b)
            bad&lt;-t[which(is.na(m))]
            bad.cases&lt;-append(bad.cases,bad)
        }
    }
    bad.cases&lt;-unique(bad.cases)
}

print(bad.cases)
</code></pre>

<p>There must be a more efficient way of doing this?</p>
","144537","","","","","2009-10-02 15:18:21","Finding uncommon elements across multiple vectors","<search><r><vector>","1","0","2","","","CC BY-SA 2.5","1510039","4452","4452","r","404559","3625322","3607736","",""
"1511431","1","1511756","","2009-10-02 19:44:08","","8","6567","<p>Given the following ggplot2 chart:</p>

<pre><code>ggplot(my_data, aes(colour=my_factor) +   
                geom_point(aes(x=prior, y=current)) +   
                facet_grid(gender ~ age)
</code></pre>

<p>I would like to make the size of the points be proportional to the count of my_factor for that prior/current combination.</p>

<pre><code>ggplot(my_data, aes(colour=my_factor, 
                size=&lt;something-here&gt;(my_factor)) +   
                geom_point(aes(x=prior, y=current)) + 
                facet_grid(gender ~ age)
</code></pre>

<p>Any ideas?</p>

<p>== Edit ==</p>

<p>Here's a very trivial example based on mpg dataset. Let's define ""great_hwy"" as hwy > 35, and ""great_cty"" as cty > 25:</p>

<pre><code>mpg$great_hwy[mpg$hwy &gt; 35]  &lt;-1
mpg$great_hwy[mpg$hwy &lt;= 35] &lt;-0
mpg$great_hwy &lt;- factor(mpg$great_hwy)

mpg$great_cty[mpg$cty &gt; 25]  &lt;- 1
mpg$great_cty[mpg$cty &lt;= 25] &lt;- 0
mpg$great_cty &lt;- factor(mpg$great_cty)
</code></pre>

<p>If we plot great_hwy vs. great_cty, it won't tell us much:</p>

<pre><code>ggplot(mpg) + geom_point(aes(x=great_cty, y=great_hwy))
</code></pre>

<p>How could I make the data points bigger in size depending on the number of x/y points? Hope this clears it up, but let me know otherwise.</p>
","165452","","165452","","2009-10-02 20:39:21","2015-09-17 19:21:43","Count by factor in ggplot2 chart","<r><ggplot2>","2","3","6","","","CC BY-SA 2.5","1511431","4452","4452","r","404559","3625322","3607736","",""
"1515143","1","1515176","","2009-10-03 23:30:02","","2","637","<p>I'd like to write a function that takes a filename and produces a .pdf file on a *nix platform and a .wmf on a windows platform with that filename and width of 6 inches height 4.</p>

<pre><code>graph &lt;- function(filename){
setwd(""graphics"")
ext &lt;- ifelse(.Platform$OS.type == ""unix"", ""pdf"", ""wmf"")
name &lt;- paste(filename, ext, sep=""."")
ifelse(.Platform$OS.type == ""unix"", pdf(name, width=6, height=4), wmf(name, width=6, height=4))
}
</code></pre>

<p>That's my attempt but I'm getting this error</p>

<p>Error in ans[test &amp; !nas] &lt;- rep(yes, length.out = length(ans))[test &amp;  : 
  replacement has length zero</p>

<p>any ideas? I feel like I'm overlooking something.</p>
","142879","","61027","","2009-10-03 23:54:20","2009-10-04 01:19:22","Platform-specific graphic device","<r>","2","1","","","","CC BY-SA 2.5","1515143","4452","4452","r","404559","3625322","3607736","",""
"1515193","1","1515237","","2009-10-03 23:53:14","","8","7324","<p>Take the following code:</p>

<pre><code>foo &lt;- list()
foo[[1]] &lt;- list(a=1, b=2)
foo[[2]] &lt;- list(a=11, b=22)
foo[[3]] &lt;- list(a=111, b=222)
result &lt;- do.call(rbind, foo)
result[,'a']
</code></pre>

<p>In this case, <code>result[,'a']</code> shows a list.  Is there a more elegant way such that <code>result</code> is a ""regular"" matrix of vectors?  I imagine there are manual ways of going about this, but I was wondering if there was an obvious step that I was missing.</p>
","142477","","","","","2011-03-07 21:29:59","converting a matrix of lists to a regular matrix","<list><r><matrix>","2","0","2","","","CC BY-SA 2.5","1515193","4452","4452","r","404559","3625322","3607736","",""
"1521390","1","1521435","","2009-10-05 17:37:12","","3","7412","<p>My current dataset <code>data.df</code> comes from about 420 students who took an 8-question survey under one of 3 instructors. <code>escore</code> is my outcome variable of interest.
</p></p>

<pre><code>
    'data.frame':   426 obs. of  10 variables:
     $ ques01: int  1 1 1 1 1 1 0 0 0 1 ...
     $ ques02: int  0 0 1 1 1 1 1 1 1 1 ...
     $ ques03: int  0 0 1 1 0 0 1 1 0 1 ...
     $ ques04: int  1 0 1 1 1 1 1 1 1 1 ...
     $ ques05: int  0 0 0 0 1 0 0 0 0 0 ...
     $ ques06: int  1 0 1 1 0 1 1 1 1 1 ...
     $ ques07: int  0 0 1 1 0 1 1 0 0 1 ...
     $ ques08: int  0 0 1 1 1 0 1 1 0 1 ...
     $ inst  : Factor w/ 3 levels ""1"",""2"",""3"": 1 1 1 1 1 1 1 1 1 1 ...
     $ escore: int  3 1 5 5 3 3 4 4 2 5 ...
     </code></pre>

<p>
I'm wondering how I can generate <code>escore</code> histograms that are conditionally separated based upon the value of <code>inst</code> for a given observation. In my head, the pseudo-code might look like this:</p>

<p>
<pre><code>
    par(mfrow=c(1,3)) 
    hist(escore, data.df$inst = 1)
    hist(escore, data.df$inst = 2)
    hist(escore, data.df$inst = 3)
</code></pre>
</p>

<p>but of course that won't work :-(</p>

<p>Ideally, my histograms would look like this:</p>

<p><a href=""http://terpconnect.umd.edu/~briandk/escoreHistogramsbyInstructor-1.png"" rel=""nofollow noreferrer"">3 separate histograms of ~140 observations each, grouped according to their &quot;inst&quot; value http://terpconnect.umd.edu/~briandk/escoreHistogramsbyInstructor-1.png</a></p>

<p>As usual, I sense there's got to be an easy way to do this. In whatever ""conditional/grouping"" sense I can extract these graphs from my data, I assume it's <strong>got</strong> to be generalizable for all sorts of plots you'd want to make based on certain conditions.</p>

<p>Also, I'm really sorry if this question has been answered before. My primary difficulty is in figuring out how to ask it in a way that makes sense.</p>

<p>Thanks in advance for your help!</p></p>
","180626","","5414452","","2015-12-30 19:40:01","2015-12-30 19:40:01","Conditionally grouped histograms from my dataset","<r><statistics><grouping><histogram>","2","2","1","","","CC BY-SA 3.0","1521390","4452","4452","r","404559","3625322","3607736","",""
"1523126","1","1523415","","2009-10-06 00:55:21","","133","129426","<p>I have a csv file where some of the numerical values are expressed as strings with commas as thousand separator, e.g. <code>""1,513""</code> instead of <code>1513</code>. What is the simplest way to read the data into R?</p>

<p>I can use <code>read.csv(..., colClasses=""character"")</code>, but then I have to strip out the commas from the relevant elements before converting those columns to numeric, and I can't find a neat way to do that.</p>
","144157","","903061","","2019-03-19 02:46:44","2019-08-12 10:50:41","How to read data when some numbers contain commas as thousand separator?","<r><csv><r-faq>","11","0","63","","","CC BY-SA 3.0","1523126","4452","4452","r","404559","3625322","3607736","",""
"1523298","1","1523316","","2009-10-06 02:12:38","","8","2234","<p>I have three data sets of different lengths and I would like to plot density functions of all three on the same plot. This is straight forward with base graphics:</p>

<pre><code>n &lt;- c(rnorm(10000), rnorm(10000))
a &lt;- c(rnorm(10001), rnorm(10001, 0, 2))
p &lt;- c(rnorm(10002), rnorm(10002, 2, .5))

plot(density(n))
lines(density(a))
lines(density(p))
</code></pre>

<p>Which gives me something like this:</p>

<p><a href=""http://www.cerebralmastication.com/wp-content/uploads/2009/10/density.png"" rel=""noreferrer"">alt text http://www.cerebralmastication.com/wp-content/uploads/2009/10/density.png</a></p>

<p>But I really want to do this with GGPLOT2 because I want to add other features that are only available with GGPLOT2. It seems that GGPLOT really wants to take my empirical data and calculate the density for me. And it gives me a bunch of lip because my data sets are of different lengths. So how do I get these three densities to plot in GGPLOT2?</p>
","37751","","1140748","","2012-05-06 17:00:45","2012-05-06 17:00:45","Plotting predefined density functions using ggplot and R","<r><ggplot2>","1","2","2","","","CC BY-SA 2.5","1523298","4452","4452","r","404559","3625322","3607736","",""
"1524088","1","1525003","","2009-10-06 07:34:10","","3","3541","<p>I'm working on a script that creates a package in the current directory (using pdInfoBuilder from BioConductor), and I'd like to install it while the script is running. <code>install.packages()</code> with repo=NULL seems like an obvious choice, but this seems to only except package directories tarballed and gzipped. Is there a way I can override this, since the <code>create.pkg()</code> function doesn't create a *.tar.gz? Currently I am using:</p>

<pre><code>R CMD INSTALL package.name
</code></pre>

<p>Thanks,
Vince</p>
","147427","","","","","2009-10-06 13:09:28","Installing a local package that's not a .tar.gz","<r><bioconductor>","2","2","1","","","CC BY-SA 2.5","1524088","4452","4452","r","404559","3625322","3607736","",""
"1528428","1","","","2009-10-06 22:27:55","","2","934","<p>Could anybody explain to me why</p>

<pre><code>simulatedCase &lt;- rbinom(100,1,0.5)
simDf &lt;- data.frame(CASE = simulatedCase)
posterior_m0 &lt;&lt;- MCMClogit(CASE ~ 1, data = simDf, b0 = 0, B0 = 1)
</code></pre>

<p>always results in a MCMC acceptance ratio of 0? Any explanation would be greatly appreciated!</p>
","185281","","1315767","","2013-05-16 15:06:31","2013-05-16 15:06:31","MCMClogit confusion","<r><bayesian><montecarlo><markov-chains><mcmc>","2","0","1","","","CC BY-SA 3.0","1528428","4452","4452","r","404559","3625322","3607736","",""
"1529559","1","1529601","","2009-10-07 05:00:23","","3","418","<p>Is there a more ""R-minded"" way to dichotomise efficiently? Thanks.</p>

<pre><code>y&lt;-c(0,3,2,1,0,0,2,5,0,1,0,0);b&lt;-vector()

for (k in 1:length(y)) {
    if (y[k] == 0) b[k] = 0
    else
        b[k] = 1
}
y;b
</code></pre>
","182378","","1315767","","2013-05-16 15:05:11","2013-05-16 15:05:27","How do I dichotomise efficiently","<r><performance>","5","2","","","","CC BY-SA 3.0","1529559","4452","4452","r","404559","3625322","3607736","",""
"1530999","1","","","2009-10-07 11:17:16","","2","1238","<p>I use the package <code>languageR</code> for mixed effect models with the syntax at the end of this posting. I can use <code>pvals.fnc</code> to get <em>p</em>-values for models 1 and 3 (<code>hd_lmer1</code> and <code>hd_lmer2</code>). Using this with model two gives the following error message:</p>

<blockquote>
  <p>p2 = pvals.fnc(hd_lmer2)
  Error in pvals.fnc(hd_lmer2) : 
    MCMC sampling is not yet implemented in lme4_0.999375
    for models with random correlation parameters</p>
</blockquote>

<p>I would be grateful if any one could help me out on how to get p-values for such models.</p>

<p>Models:</p>

<pre><code>hd_lmer1 &lt;- lmer(
  rot ~ time + group + sex + gen + (1 | subject) + (1 | rot.pre),
  data = data_long,
  REML = TRUE
)

hd_lmer2 &lt;- lmer(
  rot ~ time + group + sex + gen + (time | subject) + (1 | rot.pre),
  data = data_long,
  REML = TRUE
)

hd_lmer3 &lt;- lmer(
  rot ~ time * group + sex + gen + (1 | subject) + (1 | rot.pre),
  data = data_long,
  REML = TRUE
)
</code></pre>
","185556","","5436877","","2019-05-08 06:38:51","2019-05-08 06:38:51","LanguageR/ lme4: any help on p-values for models with random correlation parameters?","<r><statistics><lme4>","1","2","","","","CC BY-SA 4.0","1530999","4452","4452","r","404559","3625322","3607736","",""
"1532535","1","6054174","","2009-10-07 15:56:02","","10","7782","<p>I've got a nice facet_wrap density plot that I have created with <code>ggplot2</code>. I would like for each panel to have x and y axis labels instead of only having the y axis labels along the left side and the x labels along the bottom. What I have right now looks like this:</p>
<pre><code>library(ggplot2)
myGroups &lt;- sample(c(&quot;Mo&quot;, &quot;Larry&quot;, &quot;Curly&quot;), 100, replace=T)
myValues &lt;- rnorm(300)
df &lt;- data.frame(myGroups, myValues)


p &lt;- ggplot(df)  + 
  geom_density(aes(myValues), fill = alpha(&quot;#335785&quot;, .6)) + 
  facet_wrap(~ myGroups)
p
</code></pre>
<p>Which returns:</p>
<p><a href=""https://i.stack.imgur.com/eGnAF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/eGnAF.png"" alt=""alt text"" /></a><br />
<sub>(source: <a href=""http://www.cerebralmastication.com/wp-content/uploads/2009/10/3stooges.png"" rel=""nofollow noreferrer"">cerebralmastication.com</a>)</sub></p>
<p>It seems like this should be simple, but my Google Fu has been too poor to find an answer.</p>
","37751","","-1","","2020-06-20 09:12:55","2019-07-24 16:36:54","Showing multiple axis labels using ggplot2 with facet_wrap in R","<r><ggplot2><facet-wrap>","2","2","2","","","CC BY-SA 4.0","1532535","4452","4452","r","404559","3625322","3607736","",""
"1533493","1","1533577","","2009-10-07 18:55:42","","17","32175","<p>I'm running into difficulties reshaping a large dataframe. And I've been relatively fortunate in avoiding reshaping problems in the past, which also means I'm terrible at it.</p>

<p>My current dataframe looks something like this:</p>

<pre><code>unique_id    seq   response    detailed.name    treatment 
a            N1     123.23     descr. of N1     T1
a            N2     231.12     descr. of N2     T1
a            N3     231.23     descr. of N3     T1
...
b            N1     343.23     descr. of N1     T2
b            N2     281.13     descr. of N2     T2
b            N3     901.23     descr. of N3     T2
...
</code></pre>

<p>And I'd like:</p>

<pre><code>seq    detailed.name   T1           T2
N1     descr. of N1    123.23       343.23
N2     descr. of N2    231.12       281.13
N3     descr. of N3    231.23       901.23
</code></pre>

<p>I've looked into the reshape package, but I'm not sure how I can convert the treatment factors into individual column names. </p>

<p>Thanks!</p>

<p>Edit: I tried running this on my local machine (4GB dual-core iMac 3.06Ghz) and it keeps failing with: </p>

<pre><code>&gt; d.tmp.2 &lt;- cast(d.tmp, `SEQ_ID` + `GENE_INFO` ~ treatments)
Aggregation requires fun.aggregate: length used as default
R(5751) malloc: *** mmap(size=647168) failed (error code=12)
*** error: can't allocate region
*** set a breakpoint in malloc_error_break to debug
</code></pre>

<p>I'll try running this on one of our bigger machines when I get a chance. </p>
","147427","","147427","","2009-10-07 20:33:32","2017-03-05 06:40:22","Reshaping data frame in R","<r><dataframe><reshape>","5","3","17","2017-08-24 21:56:45","","CC BY-SA 2.5","1533493","4452","4452","r","404559","3625322","3607736","",""
"1535021","1","1535433","","2009-10-08 00:48:13","","57","6305","<p>Is there a certain R-gotcha that had you really surprised one day? I think we'd all gain from sharing these.</p>

<p>Here's mine: in list indexing, <code>my.list[[1]]</code> is not <code>my.list[1]</code>. Learned this in the early days of R.</p>
","147427","","792066","","2017-03-05 17:05:07","2020-11-22 22:15:11","What's the biggest R-gotcha you've run across?","<r><r-faq>","29","3","50","","","CC BY-SA 3.0","1535021","4452","4452","r","404559","3625322","3607736","",""
"1535086","1","1535240","","2009-10-08 01:12:24","","0","731","<p>Hi we're trying to get R with the standard gui loaded onto CentOS 4, and under certain users R will not render certain graphics.  When logged in as root the graphics render, but under the restricted user they don't.  The graphics don't render with the error:</p>

<pre><code>&gt; testdata &lt;- rbind(c(1,2,3,4,5,6),c(3,4,5,4,6,2),c(3,6,7,2,2,1),c(5,4,9,8,9,1))
&gt; pairs(testdata)
Error in text.default(x, y, txt, cex = cex, font = font) : 
 X11 font -adobe-helvetica-%s-%s-*-*-%d-*-*-*-*-*-*-*, face 1 at size 16 could not be loaded
</code></pre>

<p>Anyone come across this one or have any ideas?</p>

<p>Thanks</p>
","176696","","143305","","2009-10-08 02:03:32","2015-07-09 08:33:29","Problem with R rendering base Graphics in CentOS 4","<r><x11><centos>","3","0","","","","CC BY-SA 2.5","1535086","4452","4452","r","404559","3625322","3607736","",""
"1536486","1","1537077","","2009-10-08 08:44:56","","1","418","<p>When in auctex and noweb-mode (using Sweave in emacs), I find it distracting when the screen recenters itself as I use next-line, previous-line, etc. (C-n, C-p, and mouse-1). Does anyone know how to turn it off? Thanks much!</p>
","143476","","","","","2009-10-08 10:58:47","emacs, auctex, noweb-mode - how to keep screen from recentering around point?","<emacs><r><sweave><auctex><noweb>","1","0","","","","CC BY-SA 2.5","1536486","4452","4452","r","404559","3625322","3607736","",""
"1536590","1","1536621","","2009-10-08 09:07:24","","24","102122","<p>I have an aggregated table:</p>

<pre><code>&gt; aggdata[1:4,]
  Group.1 Group.2         x
1       4    0.05 0.9214660
2       6    0.05 0.9315789
3       8    0.05 0.9526316
4      10    0.05 0.9684211
</code></pre>

<p>How can I select the x value when I have values for Group.1 and Group.2?</p>

<p>I tried:</p>

<pre><code>aggdata[aggdata[,""Group.1""]==l &amp;&amp; aggdata[,""Group.2""]==lamda,""x""]
</code></pre>

<p>but that replies all x's.</p>

<p>More info:
I want to use this like this:</p>

<pre><code>table = data.frame();
for(l in unique(aggdata[,""Group.1""])) {
    for(lambda in unique(aggdata[,""Group.2""])) {
        table[l,lambda] = aggdata[aggdata[,""Group.1""]==l &amp; aggdata[,""Group.2""]==lambda,""x""]
    }
}
</code></pre>

<p>Any suggestions that are even easier and giving this result I appreciate!</p>
","85514","","85514","","2009-10-08 09:16:19","2013-05-10 22:10:24","How to select rows from data.frame with 2 conditions","<r>","3","0","10","","","CC BY-SA 2.5","1536590","4452","4452","r","404559","3625322","3607736","",""
"1538798","1","1538814","","2009-10-08 16:06:06","","6","920","<p>I'm thinking there's got to be a better way to do this.</p>

<p>I'm trying to reorder the columns in a dataframe. I have a list, <code>ordered.colnames</code>, representing the new ordering -- but <em>some of the columns don't exist</em> in <code>dataset</code>. To avoid the Error ""<code>undefined columns selected</code>"", I've wrapped the relevant slicing in a <code>try()</code> function.</p>

<p>The following method works, but is there a better way to do this?</p>

<pre><code>&gt; ordered.colnames[1:5]
[1] ""lady_22102""         ""attentions_83249""   ""perseverance_17864""
[4] ""cecil_84477""        ""cecilia_133476""

dataset.reordered = c() 
for (i in 1:length(ordered.colnames)) {
    col = NA
    col = try(cbind(dataset[,ordered.colnames[i]]),silent=TRUE)
    if (!inherits(col,""try-error"")) {
        colnames(col) = ordered.colnames[i]
        dataset.reordered = cbind(dataset.reordered, col) 
    }
}
</code></pre>
","121704","","5414452","","2015-12-30 20:05:58","2015-12-30 20:05:58","Reorder dataframe columns while ignoring unidentified columns","<r><dataframe>","1","0","2","","","CC BY-SA 2.5","1538798","4452","4452","r","404559","3625322","3607736","",""
"1541679","1","1541872","","2009-10-09 03:43:15","","9","3572","<p>I am trying to find a way to stop accidental overwriting of files when using the save() and save.image() function in R. </p>
","186891","","5414452","","2015-12-30 20:07:09","2015-12-30 20:07:09","Preventing overwriting of files when using save() or save.image()","<r><file>","2","0","3","","","CC BY-SA 2.5","1541679","4452","4452","r","404559","3625322","3607736","",""
"1544907","1","1544997","","2009-10-09 16:49:34","","26","34100","<p>I have the following variables in a data frame:</p>

<pre><code>[1] ""Type""   ""I.alt""  ""idx06""  ""idx07""  ""idx08"" ""farve1"" ""farve2""
</code></pre>

<p>If I do:</p>

<pre><code>dm &lt;- melt(d, id=c(""Type"",""I.alt""))
</code></pre>

<p>I get these variables:</p>

<pre><code>""Type""     ""I.alt""    ""variable"" ""value""   
</code></pre>

<p>Where ""idx06"", ""idx07"",  ""idx08"", ""farve1"", ""farve2"" are represented in ""variable"".</p>

<p>But what I really want is something like this:</p>

<pre><code>""Type""     ""I.alt""    ""variable"" ""value"" ""variable2"" ""value2""
</code></pre>

<p>Where ""farve1"" and ""farve2"" are represented in variable2 and value2.</p>

<p>The reason I want to do this, is that I'd like something where the line color is green if the value is falling and red if rising.
<strong>EDIT: Shane has shown how to reshape the data via two melts merged. But my strategy seams to be ill conceived from the beginning - WRONG in one word. See my comment to Shane's solution.</strong></p>

<pre><code>ggplot(dm, aes(x=variable,y=value,group=Type,col=variable2, label=Type,size=I.alt))+
geom_line()+
geom_text(data=subset(dm, variable==""idx08""),hjust=-0.2, size=2.5)+
theme_bw()+
scale_x_discrete(expand=c(0,1))+
opts(legend.position=""none"")
</code></pre>

<p>I assume I need to cast the molten frame - but I can't figure it out.
The data:</p>

<pre><code>d &lt;- structure(list(Type = structure(c(8L, 21L, 23L, 20L, 6L, 14L, 
3L, 24L, 2L, 28L, 32L, 22L, 15L, 29L, 1L, 17L, 18L, 33L, 25L, 
13L, 30L, 11L, 26L, 9L, 12L, 4L, 5L, 27L, 16L, 19L, 10L, 31L, 
7L), .Label = c(""Alvorligere vold"", ""Andre strafferetlige særlove"", 
""Andre tyverier"", ""Bedrageri"", ""Brandstiftelse"", ""Butikstyverier m.v."", 
""Dokumentfalsk"", ""Færdselslovovertræd. i øvrigt"", ""Færdselsuheld med spiritus"", 
""Falsk forklaring i øvrigt"", ""Forbr. mod off. myndighed m.v."", 
""Freds- og ærekrænkelser"", ""Hæleri"", ""Hærværk"", ""Indbrud i bank, forretn. m.v."", 
""Indbrud i fritidshuse, garager mv"", ""Indbrud i villaer, lejligheder mv"", 
""Love vedr. forsvaret og lign."", ""Love vedr. spil, bev., næring"", 
""Lov om euforiserende stoffer"", ""Mangler ved køretøj"", ""Røveri"", 
""Simpel vold"", ""Spiritus- og promillekørsel"", ""Trusler"", ""Tyv./brugstyv. af andet"", 
""Tyv./brugstyv. af cykel"", ""Tyv./brugstyv. af indr. køretøj"", 
""Tyv/brugstyv. af knallert"", ""Tyveri fra bil, båd m.v."", ""Ulovlig omgang med hittegods"", 
""Våbenloven"", ""Vold o.l. mod off. myndighed""), class = ""factor""), 
I.alt = c(16137L, 9519L, 5930L, 5502L, 4887L, 3582L, 3101L, 
1738L, 1660L, 1649L, 1551L, 1412L, 1338L, 1164L, 1154L, 1057L, 
931L, 907L, 857L, 724L, 681L, 644L, 641L, 505L, 450L, 419L, 
405L, 328L, 324L, 324L, 320L, 281L, 262L), idx06 = c(1, 1, 
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), idx07 = c(0.972675591417568, 
0.766866371450899, 0.931743805516597, 0.813047711781889, 
0.88728323699422, 0.96420233463035, 0.855743544078362, 1.03710247349823, 
0.751470588235294, 0.90443686006826, 0.808403361344538, 0.902834008097166, 
0.718181818181818, 0.904555314533623, 1.02717391304348, 0.68957345971564, 
1.10324483775811, 0.93030303030303, 0.805309734513274, 0.843003412969283, 
0.74914089347079, 0.824786324786325, 1.04060913705584, 1.09150326797386, 
0.977941176470588, 0.892405063291139, 0.966666666666667, 
0.828125, 0.696, 0.813559322033898, 0.697841726618705, 0.88235294117647, 
0.62280701754386), idx08 = c(0.986612873647533, 0.712685595207085, 
0.840579710144927, 0.865628042843233, 0.93757225433526, 0.823346303501945, 
0.905609973285841, 1.03356890459364, 0.689705882352941, 0.909556313993174, 
0.798319327731092, 0.955465587044534, 0.714545454545455, 
0.620390455531453, 1.10869565217391, 0.815165876777251, 0.64306784660767, 
0.818181818181818, 0.722713864306785, 0.627986348122867, 
0.59106529209622, 0.927350427350427, 1.21319796954315, 1.20915032679739, 
1.33088235294118, 0.759493670886076, 1.40833333333333, 0.734375, 
0.896, 0.932203389830508, 0.60431654676259, 0.872549019607843, 
0.675438596491228), farve1 = c(""green"", ""green"", ""green"", 
""green"", ""green"", ""green"", ""green"", ""red"", ""green"", ""green"", 
""green"", ""green"", ""green"", ""green"", ""red"", ""green"", ""red"", 
""green"", ""green"", ""green"", ""green"", ""green"", ""red"", ""red"", 
""green"", ""green"", ""green"", ""green"", ""green"", ""green"", ""green"", 
""green"", ""green""), farve2 = c(""red"", ""green"", ""green"", ""red"", 
""red"", ""green"", ""red"", ""green"", ""green"", ""red"", ""green"", 
""red"", ""green"", ""green"", ""red"", ""red"", ""green"", ""green"", 
""green"", ""green"", ""green"", ""red"", ""red"", ""red"", ""red"", ""green"", 
""red"", ""green"", ""red"", ""red"", ""green"", ""green"", ""red"")), .Names = c(""Type"", 
""I.alt"", ""idx06"", ""idx07"", ""idx08"", ""farve1"", ""farve2""), class = ""data.frame"", row.names = c(NA, -33L))
</code></pre>
","162832","","243587","","2014-04-29 23:50:10","2014-04-29 23:50:10","melt to two variable columns","<r><ggplot2><reshape>","1","0","15","","","CC BY-SA 3.0","1544907","4452","4452","r","404559","3625322","3607736","",""
"1545302","1","1545353","","2009-10-09 18:15:47","","2","1326","<p>I have two sets of data points that both relate to the same primary axis, but who differ in secondary axis. Is there some way to plot them on top of each other in R using ggplot2? </p>

<p>What I am looking for is basically something that looks like this:</p>

<pre>
4+           |
 | x       . + 220
3+     . .   |
 |   x       |
2+   .       + 210
 |     x     |
1+ .     x x |
 |           + 200
0+-+-+-+-+-+-+
     time   

   . temperatur
   x car sale
</pre>

<p>(This is just a example of possible data)</p>
","124603","","","","","2009-10-09 18:45:10","Multiple data points in one R ggplot2 plot","<r><graph><ggplot2>","2","0","","","","CC BY-SA 2.5","1545302","4452","4452","r","404559","3625322","3607736","",""
"1545591","1","1546967","","2009-10-09 19:12:53","","4","5135","<p>As per Shanes excellent <a href=""https://stackoverflow.com/questions/1544907/melt-to-two-variable-columns"" title=""excellent solution"">solution</a> of another question, I now realise that I do not know how to do this.</p>

<p>My original approach was to use melt the data (thanks again shane):</p>

<pre><code>dm1 &lt;- melt(d[,c(""Type"",""I.alt"",""idx06"",""idx07"",""idx08"")], id=c(""Type"",""I.alt""))
dm2 &lt;- melt(d[,c(""Type"",""I.alt"",""farve1"",""farve2"")], id=c(""Type"",""I.alt""))
colnames(dm2) &lt;- c(""Type"", ""I.alt"", ""variable2"", ""value2"")
dm &lt;- merge(dm1, dm2)
</code></pre>

<p>And then make the plot:</p>

<pre><code>ggplot(dm, aes(x=variable,y=value,group=Type,label=Type,size=I.alt))+
  geom_line(aes(col=value2))+
  geom_text(data=subset(dm, variable==""idx08""),hjust=-0.2, size=2.5)+
  theme_bw()+
  scale_x_discrete(expand=c(0,1))+
  opts(legend.position=""none"")+
  scale_colour_manual(values=c(""green"",""red""))
</code></pre>

<p>But it's not working (all the individual line pieces going ""up"" should be red, all going ""down"" should be green):</p>

<p><a href=""http://wana.dk/wp-content/uploads/2009/10/damn.png"" rel=""nofollow noreferrer"">BTW:does the png device insist on geom_point? http://wana.dk/wp-content/uploads/2009/10/damn.png</a></p>

<p>(bonus question 1: how can I use expand to only expand to the right? (where my labels ' at.))</p>

<p>(bonus question 2: Both png and pdf device shows up like above - i.e. with geom_points - this does not happen on my screen)</p>

<p>This is my data:</p>

<pre><code>d &lt;- structure(list(Type = structure(c(8L, 21L, 23L, 20L, 6L, 14L, 
3L, 24L, 2L, 28L, 32L, 22L, 15L, 29L, 1L, 17L, 18L, 33L, 25L, 
13L, 30L, 11L, 26L, 9L, 12L, 4L, 5L, 27L, 16L, 19L, 10L, 31L, 
7L), .Label = c(""Alvorligere vold"", ""Andre strafferetlige særlove"", 
""Andre tyverier"", ""Bedrageri"", ""Brandstiftelse"", ""Butikstyverier m.v."", 
""Dokumentfalsk"", ""Færdselslovovertræd. i øvrigt"", ""Færdselsuheld med spiritus"", 
""Falsk forklaring i øvrigt"", ""Forbr. mod off. myndighed m.v."", 
""Freds- og ærekrænkelser"", ""Hæleri"", ""Hærværk"", ""Indbrud i bank, forretn. m.v."", 
""Indbrud i fritidshuse, garager mv"", ""Indbrud i villaer, lejligheder mv"", 
""Love vedr. forsvaret og lign."", ""Love vedr. spil, bev., næring"", 
""Lov om euforiserende stoffer"", ""Mangler ved køretøj"", ""Røveri"", 
""Simpel vold"", ""Spiritus- og promillekørsel"", ""Trusler"", ""Tyv./brugstyv. af andet"", 
""Tyv./brugstyv. af cykel"", ""Tyv./brugstyv. af indr. køretøj"", 
""Tyv/brugstyv. af knallert"", ""Tyveri fra bil, båd m.v."", ""Ulovlig omgang med hittegods"", 
""Våbenloven"", ""Vold o.l. mod off. myndighed""), class = ""factor""), 
I.alt = c(16137L, 9519L, 5930L, 5502L, 4887L, 3582L, 3101L, 
1738L, 1660L, 1649L, 1551L, 1412L, 1338L, 1164L, 1154L, 1057L, 
931L, 907L, 857L, 724L, 681L, 644L, 641L, 505L, 450L, 419L, 
405L, 328L, 324L, 324L, 320L, 281L, 262L), idx06 = c(1, 1, 
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), idx07 = c(0.972675591417568, 
0.766866371450899, 0.931743805516597, 0.813047711781889, 
0.88728323699422, 0.96420233463035, 0.855743544078362, 1.03710247349823, 
0.751470588235294, 0.90443686006826, 0.808403361344538, 0.902834008097166, 
0.718181818181818, 0.904555314533623, 1.02717391304348, 0.68957345971564, 
1.10324483775811, 0.93030303030303, 0.805309734513274, 0.843003412969283, 
0.74914089347079, 0.824786324786325, 1.04060913705584, 1.09150326797386, 
0.977941176470588, 0.892405063291139, 0.966666666666667, 
0.828125, 0.696, 0.813559322033898, 0.697841726618705, 0.88235294117647, 
0.62280701754386), idx08 = c(0.986612873647533, 0.712685595207085, 
0.840579710144927, 0.865628042843233, 0.93757225433526, 0.823346303501945, 
0.905609973285841, 1.03356890459364, 0.689705882352941, 0.909556313993174, 
0.798319327731092, 0.955465587044534, 0.714545454545455, 
0.620390455531453, 1.10869565217391, 0.815165876777251, 0.64306784660767, 
0.818181818181818, 0.722713864306785, 0.627986348122867, 
0.59106529209622, 0.927350427350427, 1.21319796954315, 1.20915032679739, 
1.33088235294118, 0.759493670886076, 1.40833333333333, 0.734375, 
0.896, 0.932203389830508, 0.60431654676259, 0.872549019607843, 
0.675438596491228), farve1 = c(""green"", ""green"", ""green"", 
""green"", ""green"", ""green"", ""green"", ""red"", ""green"", ""green"", 
""green"", ""green"", ""green"", ""green"", ""red"", ""green"", ""red"", 
""green"", ""green"", ""green"", ""green"", ""green"", ""red"", ""red"", 
""green"", ""green"", ""green"", ""green"", ""green"", ""green"", ""green"", 
""green"", ""green""), farve2 = c(""red"", ""green"", ""green"", ""red"", 
""red"", ""green"", ""red"", ""green"", ""green"", ""red"", ""green"", 
""red"", ""green"", ""green"", ""red"", ""red"", ""green"", ""green"", 
""green"", ""green"", ""green"", ""red"", ""red"", ""red"", ""red"", ""green"", 
""red"", ""green"", ""red"", ""red"", ""green"", ""green"", ""red"")), .Names = c(""Type"", 
""I.alt"", ""idx06"", ""idx07"", ""idx08"", ""farve1"", ""farve2""), class = ""data.frame"", row.names = c(NA, -33L))
</code></pre>
","162832","","-1","","2017-05-23 12:01:34","2009-10-10 03:40:03","how to make a (ggplot) line plot with different color segments conditional on direction","<r><ggplot2>","2","1","1","","","CC BY-SA 2.5","1545591","4452","4452","r","404559","3625322","3607736","",""
"1548913","1","","","2009-10-10 19:57:34","","4","6559","<p>I am tracking my body weight in a spread sheet but I want to improve the experience by using R. I was trying to find some information about time series analysis in R but I was not successful.</p>

<p>The data I have here is in the following format:</p>

<pre><code>date -&gt; weight  -&gt; body-fat-percentage  -&gt; water-percentage
</code></pre>

<p>e.g.</p>

<pre><code>10/08/09 -&gt; 84.30 -&gt; 18.20 -&gt; 55.3
</code></pre>

<p>What I want to do</p>

<p><code>plot</code> weight and exponential moving average against time</p>

<p>How can I achieve that?</p>
","56376","","1968","","2018-02-09 10:37:56","2018-02-09 10:37:56","Time series in R","<r><time-series>","3","0","8","","","CC BY-SA 3.0","1548913","4452","4452","r","404559","3625322","3607736","",""
"1551554","1","","","2009-10-11 19:37:49","","4","3508","<p>I am fitting a simple regression in R on gas usage per capita. The regression formulas looks like:</p>

<pre><code>gas_b &lt;- lm(log(gasq_pop) ~ log(gasp) + log(pcincome) + log(pn) +
            log(pd) + log(ps) + log(years), 
            data=gas)
summary(gas_b)
</code></pre>

<p>I want to include a linear constraint that the beta coefficients of <code>log(pn)+log(pd)+log(ps)=1</code> (sum to one).  Is there a simple way of implementing this (possibly in the <code>lm</code> function) in R without having to use <code>constrOptim()</code> function?</p>
","","user188077","172261","","2014-08-25 11:10:02","2014-08-25 11:10:02","Constrained least squares","<r><lm>","1","2","3","","","CC BY-SA 3.0","1551554","4452","4452","r","404559","3625322","3607736","",""
"1552438","1","","","2009-10-12 02:37:07","","1","834","<p>I've been mostly working in SAS of late, but not wanting to lose what familiarity with R I have, I'd like to replicate something basic I've done. You'll forgive me if my SAS code isn't perfect, I'm doing this from memory since I don't have SAS at home.</p>

<p>In SAS I have a dataset that roughly is like the following example (. is equivalent of NA in SAS)</p>

<pre><code>A  B
1  1
1  3
0  .
0  1
1  0
0  0
</code></pre>

<p>If the dataset above was work.foo then I could do something like the following.</p>

<pre><code>/* create work.bar from dataset work.foo */
data work.bar;
set work.foo;

/* generate a third variable and add it to work.bar */
if a = 0 and b ge 1 then c = 1;
if a = 0 and b = 0  then c = 2;
if a = 1 and b ge 1 then c = 3;
if a = 1 and b = 0  then c = 4;
run;
</code></pre>

<p>and I'd get something like</p>

<pre><code>A  B  C
1  1  3
1  3  3
0  .  .
0  1  1
1  0  4
0  0  2
</code></pre>

<p>And I could then proc sort by C and then perform various operations using C to create 4 subgroups.  For example I could get the means of each group with</p>

<pre><code>proc means noprint data =work.bar; 
by c;
var a b;
output out = work.means mean(a b) = a b;
run;
</code></pre>

<p>and I'd get a data of variables by groups called work.means
something like:</p>

<pre><code>C  A  B
1  0  1
2  0  0
3  2  2
4  1  0
</code></pre>

<p>I think I may also get a . row, but I don't care about that for my purposes.  </p>

<p>Now in R. I have the same data set that's been read in properly, but I have no idea how to add a variable to the end (like CC) or how to do an operation on a subgroup (like the by cc command in proc means).  Also, I should note that my variables aren't named in any sort of order, but according to what they represent.</p>

<p>I figure if somebody can show me how to do the above, I can generalize it to what I need to do.</p>
","","user188181","709619","","2011-10-24 09:09:10","2011-10-24 09:09:10","Working with Data.frames in R (Using SAS code to describe what I want)r","<r><sas><dataframe>","2","0","","","","CC BY-SA 3.0","1552438","4452","4452","r","404559","3625322","3607736","",""
"1554942","1","","","2009-10-12 14:36:58","","1","3063","<p>I am using ggplot2 to do some plotting of genomic data, so the basic format is that there is a chromosome and a position along it.  I convert the positions to be on a continuous scale, then put the breaks at the boundaries of the chromosomes with:</p>

<p><code>scale_x_continuous(""Genome Position"", breaks = c(0, cumsum(chromosome_length)))</code></p>

<p>That looks great, as far as the actual plotting is concerned, but the labels are then put at the start and end of the chromosomes.  I would like them to be centered along each chromosome, at the position where the minor break is drawn by default.</p>

<p>Is this possible?</p>
","107437","","","","","2010-05-11 00:00:07","Placement of axis labels at minor breaks with ggplot2","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","1554942","4452","4452","r","404559","3625322","3607736","",""
"1557137","1","1557535","","2009-10-12 21:50:24","","14","97562","<p>How do you properly write a double <code>for</code> loop in R?</p>

<p>For example, in C I would do</p>

<pre><code>int i, j;
for (i = 1; i &lt; 6; i++) {
    for (j=i; j &lt;= 3; j++) {
        printf(""%i,%i\n"",i,j);
    }
    // Do more operations for i &gt; 3...
}
</code></pre>

<p>which would generate the (artificial) sequence:</p>

<pre><code>1,1
1,2
1,3
2,2
2,3
3,3
</code></pre>

<p>In R you do not get the same behaviour when you write</p>

<pre><code>for (i in 1:6) {
    for (j in i:3) {
        print(paste(i,j,sep="",""))
    }
}
</code></pre>

<p>so I've been reduced to doing something like</p>

<pre><code>for (i in 1:6) {
    j &lt;- i
    while (j &lt;= 3) {
        print(paste(i,j,sep="",""))
        j &lt;- j+1
    }
}       
</code></pre>

<p>Is there a better way?</p>

<p>As Shane mentioned, maybe I should make this clear: I am particularly interested in the code-style matching the mathematics to make it easier for students to understand. It seems that students are the most comfortable with <code>for</code> loops.</p>

<p>In particular, I want my students to simulate a <a href=""http://en.wikipedia.org/wiki/LIBOR_market_model"" rel=""noreferrer"">LIBOR market model</a>. The dynamics of the forward rate are to be simulated under the same probability measure. As such, for each time step and each 
 forward rate, the appropriate drift correction \mu_i needs to be calculated and added.</p>
","","user188698","4205652","user188698","2016-05-18 16:35:35","2016-05-18 16:35:35","Double For loops in R","<r><loops>","3","4","11","","","CC BY-SA 3.0","1557137","4452","4452","r","404559","3625322","3607736","",""
"1559724","1","1560234","","2009-10-13 11:47:31","","2","639","<p>I was wondering whether it is possible to use the lapply() function to alter the value of the input, similar to:</p>

<pre><code>a1&lt;-runif(100)
a2&lt;-function(i){
a1[i]&lt;-a1[i-1]*a1[i];a1[i]
}
a3&lt;-lapply(2:100,a2)
</code></pre>

<p>I'm looking for something akin to a for() loop, but using the lapply() infrastructure. I haven't been able to get rapply() to do this.</p>

<p>The reason is that the ""real"" a2 function is a difficult function that only needs to be evaluated if the value of a1[i-1] meets some criteria.</p>

<p>re-phrasing: so i'm trying to replace the for() in the code below by a lapply()-type thing:</p>

<pre><code>    a1&lt;-runif(100)
    a2&lt;-function(i, a1){
        a1[i]&lt;-a1[i-1]*2
        a1[i]
    }
    a3&lt;-as.numeric(lapply(2:100, a2, a1=a1))
#compare the output of a3 with that of a1 after the recursive loop
    a2&lt;-a1 #saved for comparison
    for(i in 2:length(a1)){
        a1[i]&lt;-a1[i-1]*2
    }
cbind(a1[2:100],a3)
#actually this is would be like writting a lapply() version of the cumprod() function
cbind(a1,cumprod(a2))
</code></pre>

<p>The R mailing list has advised looking unto the Reduce() function....as in:</p>

<pre><code>a1&lt;-runif(100)
cadd&lt;-function(x) Reduce(""*"", x, accumulate = TRUE)
cadd(a1)
</code></pre>

<p>which gives the same result as cumprod(a1)...but is even slower than the loop:</p>

<pre><code>a1&lt;-runif(100000)
cadd&lt;-function(x) Reduce(""*"", x, accumulate = TRUE)
looop&lt;-function(a1){
j&lt;-length(a1)
    for(i in 2:j){
        a1[i]&lt;-a1[i-1]*a1[i]
    }
a1
}

&gt; system.time(cadd(a1))
   user  system elapsed 
  1.344   0.004   1.353 
&gt; system.time(cumprod(a1))
   user  system elapsed 
  0.004   0.000   0.002 
&gt; system.time(loop(a1))
   user  system elapsed 
  0.772   0.000   0.775 
&gt; 
</code></pre>

<p>Any idea ? </p>
","189035","","189035","","2009-10-13 18:27:47","2009-10-13 18:27:47","Can you use the lapply() function to alter the value of input?","<r><loops><lapply>","1","7","","","","CC BY-SA 2.5","1559724","4452","4452","r","404559","3625322","3607736","",""
"1560397","1","1560418","","2009-10-13 13:52:23","","4","384","<p>R is <a href=""http://en.wikipedia.org/wiki/Functional_programming"" rel=""nofollow noreferrer"">a functional programming language</a>, and one of it's primary benefits is it's ability to create open and transparent functions.</p>

<p>As John Chambers says <a href=""http://books.google.com/books?id=UXneuOIvhEAC&amp;printsec=frontcover"" rel=""nofollow noreferrer"">in his excellent book ""Software for Data Analysis: Programming with R""</a>:</p>

<blockquote>
  <p>Computations are organized around functions, which can encapsulate specific, meaningful computational results, with implementations that can be examined for correctness.</p>
</blockquote>

<p>Notions such as ""reproducible research"" and ""trustworthy software"" are at the heart of R development.  In general, it is easy to examine a function just by typing its name without parenthesis.  For instance:</p>

<pre><code>&gt; which
function (x, arr.ind = FALSE) 
{
    if (!is.logical(x)) 
        stop(""argument to 'which' is not logical"")
    wh &lt;- seq_along(x)[x &amp; !is.na(x)]
    dl &lt;- dim(x)
...
</code></pre>

<p>My question is: how do you example the contents of functions such as <code>for()</code> or <code>if()</code> without downloading the R source code?</p>

<p><i>Edit:</i> Incidentally, I understand that this won't help viewing compiled code (such as C, C++, or Java) that may be called from R.  I'm really wondering if there is an R function which output's R functions.</p>
","163053","","163053","","2009-10-13 19:25:13","2009-10-14 15:36:43","How to view the contents of parsed R functions?","<r><functional-programming>","2","5","","","","CC BY-SA 2.5","1560397","4452","4452","r","404559","3625322","3607736","",""
"1562124","1","1562384","","2009-10-13 18:35:47","","20","6705","<p>I'd like to merge a bunch of data frames together (because it seems many operations are easier if you're only dealing w/ one, but correct me if I'm wrong).</p>

<p>Currently I have one data frame like this:</p>

<pre><code>ID, var1, var2
A,  2,    2
B,  4,    5
.
.
Z,  3,    2
</code></pre>

<p>Each ID is on a single row w/ several single measurements</p>

<p>I also have a csv file w/ repeated measurement for each ID, like:</p>

<p>filename = ID_B.csv</p>

<pre><code>time, var4, var5
0,    1,    2
1,    4,    5
2,    1,    6
...
</code></pre>

<p>What I'd like is:</p>

<pre><code>ID, time, va1, var2, var4, var5
...
B,  0,    4,   5,    1,    2,
B,  1,    4,   5,    4,    5,
B,  2,    4,   5,    1,    6,
...
</code></pre>

<p>I don't really care about the column order.  The only solution I can think of is to add the ID column to each csv file then loop through them calling <code>merge()</code> several times.  Is there a more elegant approach?</p>
","170364","","202229","","2018-05-04 01:02:48","2018-05-04 01:02:48","Merge many data frames from csv files, when ID column is implied?","<r><csv><merge><rowname>","1","0","6","","","CC BY-SA 4.0","1562124","4452","4452","r","404559","3625322","3607736","",""
"1563961","1","1563978","","2009-10-14 02:28:40","","25","31680","<p>I have a dataset showing the exchange rate of the Australian Dollar versus the US dollar once a day over a period of about 20 years.  I have the data in a data frame, with the first column being the date, and the second column being the exchange rate.   Here's a sample from the data:</p>

<pre><code>&gt;data
             V1     V2
1    12/12/1983 0.9175
2    13/12/1983 0.9010
3    14/12/1983 0.9000
4    15/12/1983 0.8978
5    16/12/1983 0.8928
6    19/12/1983 0.8770
7    20/12/1983 0.8795
8    21/12/1983 0.8905
9    22/12/1983 0.9005
10   23/12/1983 0.9005
</code></pre>

<p>How would I go about displaying the top n% of these records?  E.g. say I want to see the days and exchange rates for those days where the exchange rate falls in the top 5% of all exchange rates in the dataset?</p>
","129475","","4015623","","2015-01-03 21:47:32","2020-03-20 14:06:03","How to find top n% of records in a column of a dataframe using R","<r><dataframe>","4","0","11","","","CC BY-SA 2.5","1563961","4452","4452","r","404559","3625322","3607736","",""
"1567718","1","","","2009-10-14 17:14:22","","62","33338","<p>Say I have a bunch of functions, each with something like<code>MyFunction.1</code>, etc.  I want to pass these functions into another function, which prints out a small report.  Ideally I'd like to be able to label sections of a report by which function is being used to generate the results.  </p>

<p>So are there any nice ways of getting the name of a predefined function as a string?</p>
","144601","","9056717","","2018-08-30 15:23:39","2020-12-17 07:51:42","Getting a function name as a string","<r><function>","9","0","13","","","CC BY-SA 3.0","1567718","4452","4452","r","404559","3625322","3607736","",""
"1568511","1","","","2009-10-14 19:41:17","","115","76806","<p>I have a vector x, that I would like to sort based on the order of values in vector y. The two vectors are not of the same length.</p>

<pre><code>x &lt;- c(2, 2, 3, 4, 1, 4, 4, 3, 3)
y &lt;- c(4, 2, 1, 3)
</code></pre>

<p>The expected result would be:</p>

<pre><code>[1] 4 4 4 2 2 1 3 3 3
</code></pre>
","168168","","168168","","2009-10-15 18:40:25","2019-05-04 22:59:32","How do I sort one vector based on values of another","<sorting><r>","7","0","40","","","CC BY-SA 2.5","1568511","4452","4452","r","404559","3625322","3607736","",""
"1570050","1","","","2009-10-15 02:46:18","","3","481","<p>I'd like to create a zip archive from within R, and need maximal cross-platform compatibility, so I would prefer not to use a <code>system(""zip"")</code> command.</p>

<p>Within utils there's <code>zip.file.extract</code> (aka unzip), which uses [a lot of] c code, derived from zlib 1.1.3 within a file called dounzip.c I couldn't find any similar capabilities for creating zip files.</p>

<p>It's also tricky to construct a specific google query for ""cran create zip"" or equivalent!</p>

<p>Also, a tar will not suffice, I need to creating zip's to use as input for another set of non-R tools.</p>

<p>I'd appreciate any pointers?</p>

<p>cheers,
mark</p>
","178297","","231716","","2011-12-01 01:57:14","2011-12-01 01:57:14","cross-platform zip file creation","<r><functional-programming>","2","0","","","","CC BY-SA 3.0","1570050","4452","4452","r","404559","3625322","3607736","",""
"1570263","1","","","2009-10-15 04:24:13","","5","2544","<p>This may be a naive question, but I was wondering if there's a better way than using <code>text()</code> to adding text to a plot.  Note, I'm also using <code>layout()</code> as well.  Specifically, I have a section of a plot where I would like to add some text with headings followed by regular text. </p>

<p><code>text()</code> is fine it seems for simple annotations, but to get the spacing right for several lines of text seems to require a lot of manual manipulation of the <code>x</code> and <code>y</code> and <code>cex</code> parameters.  Any suggestions?</p>
","142477","","142477","","2009-10-15 04:30:56","2009-10-15 09:14:51","Alternatives to using text() to adding text to a plot","<text><r><annotations><plot>","2","0","0","","","CC BY-SA 2.5","1570263","4452","4452","r","404559","3625322","3607736","",""
"1570379","1","1572924","","2009-10-15 05:07:06","","18","5060","<p>I have some data for which, at one level of a factor, there is a significant correlation.  At the other level, there is none.  Plotting these side-by-side is simple.  Adding a line to both of them with stat_smooth, also straightforward.  However, I do not want the line or its fill displayed in one of the two facets.  Is there a simple way to do this?  Perhaps specifying a blank color for the fill and colour of one of the lines somehow? </p>
","190352","","","","","2009-10-15 14:55:42","Adding stat_smooth in to only 1 facet in ggplot2","<r><ggplot2>","2","0","4","","","CC BY-SA 2.5","1570379","4452","4452","r","404559","3625322","3607736","",""
"1576075","1","1576101","","2009-10-16 01:54:48","","3","13039","<p>I am simply looking for a good tutorial that will walk me through how to create a SOM in R.  I am reading Kohonen and Kaski's paper on using the maps to identify the structure of Welfare, and want to try the technique my self.</p>

<p>I think many of the examples in R have a lot to be desired.  I have looked on the web and didn't find anything that I thought made the process easy to understand.</p>

<p>Any help you can provide will be greatly appreciated.</p>
","155406","","172261","","2009-10-21 11:25:00","2010-05-11 20:39:21","Kohonen SOM Maps in R Tutorial","<r><resources><maps><som>","4","0","5","2015-01-05 13:14:10","","CC BY-SA 2.5","1576075","4452","4452","r","404559","3625322","3607736","",""
"1576201","1","1576244","","2009-10-16 05:18:59","","1","517","<p>I have a large dataset (202k points).  I know that there are 8 values over 0.5.  I want to subset on those rows.</p>

<p>How do I find/return a list the row numbers where the values are > 0.5?</p>
","","user191010","1768232","user191010","2015-08-20 02:39:54","2015-08-20 02:39:54","How do I find peak values/row numbers?","<r><subset>","4","1","1","","","CC BY-SA 3.0","1576201","4452","4452","r","404559","3625322","3607736","",""
"1577480","1","1577508","","2009-10-16 11:19:00","","0","376","<p>What are the better options to convert a non-decreasing seq of occurrence times to a 0-1 seq? Thanks.</p>

<pre><code>d&lt;-c(3,5,9,12,15);
c(rep(0,d[1]-1),1,unlist(rbind(mapply(rep,0,diff(d)-1),1)))
</code></pre>
","182378","","","","","2009-10-16 13:27:03","R: Occurrence times -> binary sequence?","<r><binary>","1","0","","","","CC BY-SA 2.5","1577480","4452","4452","r","404559","3625322","3607736","",""
"1580308","1","1580556","","2009-10-16 20:46:03","","1","638","<p>I want to output a dataframe using R2HTML, and remove scientific notation. Ideas?</p>
","142879","","5414452","","2016-01-04 08:49:14","2016-01-04 08:49:14","R2HTML number formatting","<r><r2html>","1","0","","","","CC BY-SA 2.5","1580308","4452","4452","r","404559","3625322","3607736","",""
"1581232","1","1581279","","2009-10-17 02:24:16","","54","39590","<p>I'm outputting a dataframe to html via <code>xtable</code>. I want to add commas to numbers in a couple columns of the table. I figured before I did my own paste hack I'd check if there is a built in way to do this.</p>
","142879","","903061","","2017-03-01 23:08:13","2020-12-29 04:40:23","add commas into number for output","<r><xtable>","5","0","7","","","CC BY-SA 3.0","1581232","4452","4452","r","404559","3625322","3607736","",""
"1586744","1","1588503","","2009-10-19 02:44:16","","3","363","<p>OK, so I'm trying to use S4 classes to build a very complex object, with slots including a half-dozen matrices, a few lists, and probably a kitchen sink or two in there. The object is initialized by referring to and unpacking a configuration object which I've already defined. It's easy enough to define the class with setClass(), but I'm having difficulty figuring out an elegant way of setting the slots in the setMethod(""initialize""). </p>

<p>The problem is that I need to set particular elements of those half-dozen matrices based on parts of that configuration object. For each element of the configuration object, I may have to set specific elements of several of the matrices. Note that the matrices are in the scope/environment of the initialize function. I then have nested functions within the initialize function that do the actual assignment to the matrices, or that's the idea anyway. Those functions can of course <em>see</em> the matrices, but they can't <em>modify</em> them because the &lt;- operator creates a new matrix if the original variable was not defined in the current environment. R is pass-by-value, and means it. This is even true for slots of the .Object I'm trying to initialize. So I can't use nested functions to do the initialization.</p>

<p>Unfortunately, these nested functions have to modify several of the matrices, so returning values and doing the assignment in the main initialize function is not practical or elegant. (But it is possible, if I stuffed copies of the matrices into returned lists and then combined them in the main initialize function. Ugly though, and would require a lot of extra code.)</p>

<p>And iteration (which would prevent this scoping issue) is not very practical either because of the hierarchical nature of the configuration object, which really wants to be traversed with recursive calls.</p>

<p>The last option I can think of would be to use the assign() function with the envir option to force the assignment to apply to the nonlocal variable. But using environments like that seems icky, like a goto statement... </p>

<p>So, what is the most piratical approach? Stick with pure functional programming and build ugly data structures just to inefficiently pass around redundant matrices? Try to find an iterative solution that avoids functions altogether? Use deep magic by playing with environments?</p>
","135944","","2679518","","2014-04-29 02:42:42","2014-04-29 02:42:42","Complex object initialization scope issues with nested functions","<r><functional-programming><scope><pass-by-value><s4>","1","0","","","","CC BY-SA 2.5","1586744","4452","4452","r","404559","3625322","3607736","",""
"1594121","1","1595646","","2009-10-20 12:04:19","","17","5174","<p>In R, what's the best way to simulate an arbitrary univariate random variate if only its probability density function is available?</p>
","182378","","815724","","2017-07-27 07:14:04","2019-06-18 19:09:19","How do I best simulate an arbitrary univariate random variate using its probability function?","<r><random>","4","0","12","","","CC BY-SA 3.0","1594121","4452","4452","r","404559","3625322","3607736","",""
"1607413","1","1612342","","2009-10-22 13:57:31","","0","1190","<p>I have installed <a href=""http://biostat.mc.vanderbilt.edu/rapache/"" rel=""nofollow noreferrer"">rapache</a> and I am trying to fit a linear model inside the R script file. I have configured the <code>RFileHandler</code> in the http.conf. When I am trying to invoke the summary(model) it is giving me a segment fault error ( i see this in the apache log file). I am guessing that it is trying to print to the console and that is why it is failing. </p>

<p>Has anyone encountered a similar problem with R and <code>rapache</code>? I am relatively new to R and summary is doing a lot of things that are not directly exposed as functions so I am hoping I could get it to work</p>

<p>Here is my r script</p>

<pre><code>mydata &lt;- read.table(""/home/user/test.csv"", header = TRUE, sep = "","")
fit &lt;- lm(y~x1+x2+x3, data = mydata)
setContentType(""text/html"")
cat('&lt;HTML&gt;&lt;BODY&gt;')
cat(summary(fit)$adj.r.squared)
cat('&lt;/BODY&gt;&lt;/HTML&gt;\n')
DONE
</code></pre>

<p>if i replace </p>

<pre><code>    cat(summary(fit)$adj.r.squared)
</code></pre>

<p>with this</p>

<pre><code>    cat(coef(fit))
</code></pre>

<p>it is working!</p>

<p>Thanks
Bharani</p>
","62389","","10068985","","2019-02-22 16:58:55","2019-02-22 16:58:55","Using summary.lm function in rapache","<r><rapache>","4","0","","","","CC BY-SA 4.0","1607413","4452","4452","r","404559","3625322","3607736","",""
"1608130","1","1608170","","2009-10-22 15:44:16","","153","72735","<p>How does one ""throw"" an error in R?  I have a function that takes a data frame and some column names and does stuff with them.  If the columns don't exist, I want the function to stop and to stop all functions depending on it. </p>

<p>I have looked at <code>recover</code> and <code>browse</code> and <code>traceback</code> but, well, they seemed to be close but not what I am looking for.</p>
","2554948","","5414452","","2016-01-04 08:48:21","2017-12-16 12:15:15","Equivalent of ""throw"" in R","<r><error-handling>","5","3","25","","","CC BY-SA 3.0","1608130","4452","4452","r","404559","3625322","3607736","",""
"1614331","1","3502527","","2009-10-23 15:47:32","","2","2139","<p>Is there a way to have an <code>R</code> Device (postscript would be great) write the output into a variable instead of a file?</p>

<p>For example I know this:</p>

<pre><code>postscript(file=""|cat"")
plot(1:10)
dev.off()
</code></pre>

<p>Will send the postscript text to <code>STDOUT</code>.  How can I get that text into a variable within <code>R</code>?</p>
","16363","","4205652","","2016-05-18 16:04:38","2016-05-18 16:04:38","Write Plot Text/Binary into Variable","<r><plot>","4","0","2","","","CC BY-SA 3.0","1614331","4452","4452","r","404559","3625322","3607736","",""
"1614889","1","1655169","","2009-10-23 17:30:59","","7","461","<p>I've been using <code>debug()</code> more often now, but sometimes I wonder which functions have been flagged for debugging.  I know that you can use <code>isdebugged()</code> to find out if a particular function is flagged.  But is there a way for R to list all the functions that are being debugged?</p>
","142477","","","","","2009-11-02 14:16:34","how do you know which functions in R are flagged for debugging?","<r><debugging>","2","0","","","","CC BY-SA 2.5","1614889","4452","4452","r","404559","3625322","3607736","",""
"1616983","1","1618618","","2009-10-24 04:44:15","","24","12721","<p>The systems I work with have GCC 4.5 (experimental) in /usr/local/bin/gcc which has proven to be problematic for some R packages. I would like to instead use system GCC in /usr/bin/gcc.</p>

<p>I have tried setting CC and CXX in the Bash configuration files (.bashrc, .bash_profile etc.) as well as on the command line, but although Bash recognizes the change, R does not.</p>

<p>How can I get R to use the version of GCC in /usr/bin instead of the one in /usr/local/bin/? </p>
","144278","","","","","2019-09-25 16:53:52","Building R Packages using Alternate GCC","<bash><gcc><r>","4","0","14","","","CC BY-SA 2.5","1616983","4452","4452","r","404559","3625322","3607736","",""
"1617061","1","1617150","","2009-10-24 05:31:18","","50","18421","<p>I have a vector 'y' and I count the different values using <code>table</code>:</p>
<pre><code>y &lt;- c(0, 0, 1, 3, 4, 4)
table(y)
# y
# 0 1 3 4 
# 2 1 1 2 
</code></pre>
<p>However, I also want the result to include the fact that there are zero 2's and zero 5's. Can I use <code>table()</code> for this?</p>
<p>Desired result:</p>
<pre><code># y
# 0 1 2 3 4 5 
# 2 1 0 1 2 0
</code></pre>
","84458","","1851712","","2020-08-15 20:55:08","2020-10-15 17:36:47","Include levels of zero count in result of table()","<r><count><missing-data>","1","0","11","","","CC BY-SA 4.0","1617061","4452","4452","r","404559","3625322","3607736","",""
"1621848","1","","","2009-10-25 19:37:59","","8","38591","<p>I am using the <code>R's stats</code> package and would like to loop through <code>column[x]</code> in <code>all the rows of a dataframe</code>, operate on the data in <code>each cell</code> in the column with a function and pass the result to a new column (with the <code>calculated result</code> in the <code>new column</code> aligned with the data in <code>column[x]</code>)</p>

<p>I've got two problems:  </p>

<ol>
<li>I can't get it to work </li>
<li>looping seems to be discouraged in the <code>R articles</code> I've read.  Is there an alternative approach and if not, does anyone have an example of how to carry out the loop?</li>
</ol>
","196288","","3392044","","2016-02-17 12:46:27","2016-02-17 12:46:27","Looping through a column in R","<r><statistics><loops>","3","2","4","","","CC BY-SA 3.0","1621848","4452","4452","r","404559","3625322","3607736","",""
"1622419","1","1622606","","2009-10-25 23:10:38","","4","1132","<p>I have a simple question: 
given p points (non-collinear) in R^p i find the hyperplane passing by these points (to help clarify i type everything in R):</p>

<pre><code>p&lt;-2
x&lt;-matrix(rnorm(p^2),p,p)
b&lt;-solve(crossprod(cbind(1,x[,-2])))%*%crossprod(cbind(1,x[,-2]),x[,2])
</code></pre>

<p>then, given a p+1^th points not collinear with first p points, i find the direction perpendicular to b:</p>

<pre><code>x2&lt;-matrix(rnorm(p),p,1)
b2&lt;-solve(c(-b[-1],1)%*%t(c(-b[-1],1))+x2%*%t(x2))%*%x2
</code></pre>

<p>That is, b2 defines a p dimensional hyperplane perpendicular to b and passing by x2.
Now, my questions are:</p>

<p>The formula comes from <a href=""http://en.wikipedia.org/wiki/Surface_normal"" rel=""nofollow noreferrer"">my interpretation of this wikipedia entry</a> (""solve(A)"" is the R command for A^-1). Why this doesn't work for p>2 ? What am i doing wrong ?</p>

<p>PS: I have seen this post (on stakeoverflow edit:sorry cannot post more than one link) but somehow it doesn't help me.</p>

<p>Thanks in advance,</p>

<p>i have a problem implementation/understanding of Liu's solution when p>2:</p>

<p>shouldn't the dot product between the qr decomposition of the sweeped matrix and the direction of the hyperplane be 0 ? (i.e. if the qr vectors are perpendicular to the hyperplane)</p>

<p>i.e, when p=2 this </p>

<pre><code>c(-b[2:p],1)%*%c(a1)
</code></pre>

<p>gives 0. When p>2 it does not. </p>

<hr>

<p>Here is my attempt to implement Victor Liu's solution.</p>

<p>a) given p linearly independent observations in R^p:</p>

<pre><code>p&lt;-2;x&lt;-matrix(rnorm(p^2),p,p);x
      [,1]       [,2]
[1,] -0.4634923 -0.2978151
[2,]  1.0284040 -0.3165424
</code></pre>

<p>b) stake them in a matrix and subtract the first row:</p>

<pre><code>a0&lt;-sweep(x,2,x[1,],FUN=""-"");a0
        [,1]        [,2]
[1,] 0.000000  0.00000000
[2,] 1.491896 -0.01872726
</code></pre>

<p>c) perform a QR decomposition of the matrix a0. The vector in the nullspace is the direction im looking for:</p>

<pre><code>qr(a0)
          [,1]       [,2]
[1,] -1.491896 0.01872726
[2,]  1.000000 0.00000000
</code></pre>

<p>Indeed; this direction is the same as the one given by application of the formula from wikipedia (using x2=(0.4965321,0.6373157)): </p>

<pre><code>       [,1]
[1,]  2.04694853
[2,] -0.02569464
</code></pre>

<p>...with the advantage that it works in higher dimensions.</p>

<p>I have one last question: what is the meaning of the other p-1 (i.e. (1,0) here) QR vector when p>2 ?
-thanks in advance, </p>
","189035","","925196","","2014-05-05 13:29:31","2014-05-05 13:29:31","(all the) directions perpendicular to hyperplane through p data points","<r><math><geometry>","1","8","","","","CC BY-SA 2.5","1622419","4452","4452","r","404559","3625322","3607736","",""
"1622797","1","1625980","","2009-10-26 02:09:00","","7","969","<p>How do I debug <code>Rscripts</code> that are run from the command line? </p>

<p>I am currently using the <code>getopt</code> package to pass command line options, nut when there's a bug, it is hard for me to: </p>

<ol>
<li>see what exactly went wrong; </li>
<li>debug interactively in <code>R</code> (since the script expects command line options.)</li>
</ol>

<p>Does anyone have example code and willing to share? </p>
","143377","","3392044","","2016-03-03 10:29:39","2016-03-03 10:29:39","debugging littler/Rscripts","<debugging><r>","3","0","4","","","CC BY-SA 3.0","1622797","4452","4452","r","404559","3625322","3607736","",""
"1628383","1","1628671","","2009-10-27 02:01:22","","9","3076","<p>I have two vectors of integers, and for each element of the second vector I want to find the minumum distance to any element of the first vector - for example</p>

<pre><code>obj1 &lt;- seq(0, 1000, length.out=11)
obj2 &lt;- 30:50
min_diff &lt;- sapply(obj2, function(x) min(abs(obj1-x)))
min_diff
</code></pre>

<p>returns</p>

<pre><code>[1] 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
</code></pre>

<p>Is there a more efficient way? I want to scale this up to thousands (millions?) of both obj1 &amp; obj2.</p>

<p>Thanks, 
Aaron</p>
","160588","","45935","","2009-10-27 02:12:24","2020-02-11 10:43:48","Finding the minimum difference between each element of one vector and another vector","<r>","3","2","2","","","CC BY-SA 2.5","1628383","4452","4452","r","404559","3625322","3607736","",""
"1630724","1","1631589","","2009-10-27 13:14:48","","8","6198","<p>I'm working in an R script that uses a long SQL string, and I would like to keep the query relatively free of other markup so as to allow copying and pasting between editors and applications. I'd also like the ability to split the query across lines for better readability. </p>

<p>In the RODBC documentation, the <code>paste</code> function is used to build the query out of separate chunks, but I'd prefer something less kludgy and with fewer quotes and commas. Thanks for your help.</p>
","197321","","74658","","2010-02-25 12:16:50","2016-10-10 19:57:14","Can I gracefully include formatted SQL strings in an R script?","<sql><r><rodbc>","5","0","8","","","CC BY-SA 2.5","1630724","4452","4452","r","404559","3625322","3607736","",""
"1632772","1","1640729","","2009-10-27 18:28:21","","66","96597","<p>I have a dataframe (14.5K rows by 15 columns) containing billing data from 2001 to 2007.</p>

<p>I append new 2008 data to it with: <code>alltime &lt;- rbind(alltime,all2008)</code></p>

<p>Unfortunately that generates a warning:</p>

<pre><code>&gt; Warning message:
In `[&lt;-.factor`(`*tmp*`, ri, value = c(NA, NA, NA, NA, NA, NA, NA,  :
  invalid factor level, NAs generated
</code></pre>

<p>My guess is that there are some new patients whose names were not in the previous dataframe and therefore it would not know what level to give those. Similarly new unseen names in the 'referring doctor' column.</p>

<p>What's the solution?</p>
","168139","","202229","","2019-03-22 09:04:32","2019-03-22 09:04:32","Unseen factor levels when appending new records with unseen string values to a dataframe, cause Warning and result in NA","<r><dataframe><append><r-factor>","7","5","20","","","CC BY-SA 4.0","1632772","4452","4452","r","404559","3625322","3607736","",""
"1635278","1","1636762","","2009-10-28 04:59:10","","14","19984","<p>I would like to save a whole bunch of relatively large data frames while minimizing the space that the files take up. When opening the files, I need to be able to control what names they are given in the workspace. </p>

<p>Basically I'm looking for the symantics of dput and dget but with binary files.</p>

<p>Example:</p>

<pre><code>n&lt;-10000

for(i in 1:100){
    dat&lt;-data.frame(a=rep(c(""Item 1"",""Item 2""),n/2),b=rnorm(n),
        c=rnorm(n),d=rnorm(n),e=rnorm(n))
    dput(dat,paste(""data"",i,sep=""""))
}


##much later


##extract 3 random data sets and bind them
for(i in 1:10){
    nums&lt;-sample(1:100,3)
    comb&lt;-rbind(dget(paste(""data"",nums[1],sep="""")),
            dget(paste(""data"",nums[2],sep="""")),
            dget(paste(""data"",nums[3],sep="""")))
    ##do stuff here
}
</code></pre>
","160314","","","","","2011-04-20 14:02:33","Saving a data frame as a binary file","<r>","2","0","5","","","CC BY-SA 2.5","1635278","4452","4452","r","404559","3625322","3607736","",""
"1641488","1","1706701","","2009-10-29 03:38:43","","1","438","<p>I ran <code>JAGS</code> with <code>runjags</code> in <code>R</code> and I got a giant list back (named results for this example). </p>

<p>Whenever I access <code>results$density</code>, two <code>lattice plots</code> (one for each parameter) pop up in the default quartz device. </p>

<p>I need to combine these with <code>par(mfrow=c(2, 1))</code> or with a similar approach, and send them to the <code>pdf device</code>. </p>

<p>Nothing I tried is working. Any ideas?</p>

<p>I've tried <code>dev.print</code>, <code>pdf()</code> with <code>dev.off()</code>, etc. with no luck.</p>
","147427","","3392044","","2016-03-03 10:31:46","2016-03-03 10:31:46","Lattice problems: lattice objects coming from JAGS, but device can't be set","<graphics><r><lattice>","3","0","","","","CC BY-SA 3.0","1641488","4452","4452","r","404559","3625322","3607736","",""
"1642119","1","1655072","","2009-10-29 07:31:24","","2","2035","<p>I have a list of hclust objects resulting from slight variations in one variable (for calculating the distance matrix)</p>

<ul>
<li>now I would like to make a consensus tree from this list.</li>
</ul>

<p>Is there a generic package to do this? I am hacking my way through
some code from maanova and it seems to work - but it's ugly and it
needs a lot of hacking since I am not doing ""normal"" bootstrapping (it's
chemical data).</p>

<p>/Palle Villesen, Denmark</p>

<pre><code>c1_list &lt;- seq(10,100,by=10)
c2 &lt;- 30
e&lt;- 1
mboot &lt;- list()
for (i in 1: length(c1_list) ) {
   c1 &lt;- c1_list[i]
   cat(""Doing C1="",c1,""..."")
   x &lt;- hclust(custom_euclidean(t(log2(data[, all]+1)), c1,c2,e), method='average')
   cat(""..done\n"")
   mboot[[i]] &lt;- x # To get hclust object back use mbot[[i]] to get i'th object
}

#### Now extract the robust groups from mboot...
</code></pre>
","","user198711","","","","2009-10-31 17:53:43","Consensus tree or ""bootstrap proportions"" from multiple hclust objects","<r><dendrogram><hclust>","2","0","","","","CC BY-SA 2.5","1642119","4452","4452","r","404559","3625322","3607736","",""
"1642201","1","1643482","","2009-10-29 08:03:44","","10","5848","<p>I've been using F# for a while now to model algorithms before coding them in C++, and also using it afterwards to check the results of the C++ code, and also against real-world recorded data.</p>

<p>For the modeling side of things, it's very handy, but for the 'data mashup' kind of stuff, pulling in data from CSV and other sources, generating statistics, drawing charts etc., my colleague teases me no end (""why are you coding that yourself? It's built in to MatLab"").</p>

<p>And I have another colleague who swears by R, which also has charting stuff 'built-in'.</p>

<p>I know that MatLab, R and F# are not strictly comparable, so I'm not asking for a 'feature comparison shoot out'. I just wondered what other people are using for these kind of pre- and post-analysis scenarios, and how happy they are with it. </p>

<p>(If there's anyone out there working on wrapping Microsoft Charts into something F#-friendly, let me know, I'd be happy to participate...)</p>

<p><em>(Note: answers to this question will be subjective, but based on experience, please)</em></p>
","11410","","","","","2009-12-16 08:10:00","Your experiences with Matlab/F#/R for data analysis and modeling algorithms","<matlab><r><f#>","5","3","10","","","CC BY-SA 2.5","1642201","4452","4452","r","404559","3625322","3607736","",""
"1644661","1","1645191","","2009-10-29 15:44:48","","15","11186","<p>I'm using ggplot2 to create panels of histograms, and I'd like to be able to add a vertical line at the mean of each group.  But geom_vline() uses the same intercept for each panel (i.e. the global mean):</p>

<pre><code>require(""ggplot2"")
# setup some sample data
N &lt;- 1000
cat1 &lt;- sample(c(""a"",""b"",""c""), N, replace=T)
cat2 &lt;- sample(c(""x"",""y"",""z""), N, replace=T)
val &lt;- rnorm(N) + as.numeric(factor(cat1)) + as.numeric(factor(cat2))
df &lt;- data.frame(cat1, cat2, val)

# draws a single histogram with vline at mean
qplot(val, data=df, geom=""histogram"", binwidth=0.2) + 
  geom_vline(xintercept=mean(val), color=""red"")

# draws panel of histograms with vlines at global mean
qplot(val, data=df, geom=""histogram"", binwidth=0.2, facets=cat1~cat2) + 
  geom_vline(xintercept=mean(val), color=""red"")
</code></pre>

<p>How can I get it to use each panel's group mean as the x-intercept?  (Bonus points if you can also add a text label by the line with the value of the mean.)</p>
","25571","","25571","","2009-10-29 15:51:25","2010-01-29 15:33:25","Add a vertical line with different intercept for each panel in ggplot2","<r><visualization><ggplot2><histogram>","2","0","5","","","CC BY-SA 2.5","1644661","4452","4452","r","404559","3625322","3607736","",""
"1647236","1","1647409","","2009-10-29 23:50:05","","5","5471","<p>I've got a data frame with 2 character columns. I'd like to find the rows which one column contains the other, however grepl is being strange. Any ideas?</p>

<pre><code>&gt; ( df &lt;- data.frame(letter=c('a','b'),food = c('apple','pear','bun','beets')) )
  letter  food
1      a apple
2      b  pear
3      a   bun
4      b beets 

&gt; grepl(df$letter,df$food)

[1]  TRUE  TRUE FALSE FALSE
</code></pre>

<p>but i want T F F T</p>

<p>Thanks.</p>
","178787","","5414452","","2016-01-04 09:11:20","2016-01-04 09:11:20","Matching strings across columns in R","<r><mapping>","2","0","2","","","CC BY-SA 2.5","1647236","4452","4452","r","404559","3625322","3607736","",""
"1649503","1","1650359","","2009-10-30 12:24:28","","2","1482","<p>After installing RPy2 from </p>

<p><a href=""http://rpy.sourceforge.net/rpy2.html"" rel=""nofollow noreferrer"">http://rpy.sourceforge.net/rpy2.html</a></p>

<p>I'm trying to use it in Python 2.6 IDLE but I'm getting this error:</p>

<pre><code>&gt;&gt;&gt; import rpy2.robjects as robjects
&gt;&gt;&gt; robjects.r['pi']

&lt;RVector - Python:0x0121D8F0 / R:0x022A1760&gt;
</code></pre>

<p>What I'm doing wrong?</p>
","198894","","211160","","2010-05-18 05:36:55","2010-10-07 03:52:38","Strange Problem with RPy2","<python><r><python-idle>","5","2","2","","","CC BY-SA 2.5","1649503","4452","4452","r","404559","3625322","3607736","",""
"1652522","1","1652702","","2009-10-30 21:51:12","","24","22518","<p>I have a list of lists that looks like this: <code>x[[state]][[year]]</code>. Each element of this is a data frame, and accessing them individually is not a problem. </p>

<p>However, I'd like to rbind data frames across multiple lists. More specifically, I'd like to have as output as many dataframes as I have years, that is rbind all the state data frames within each year. In other words, I'd like to combine all my state data, year by year, into separate data frames.</p>

<p>I know that I can combine a single list into a data frame with <code>do.call(""rbind"",list)</code>. But I don't know how I can do so across lists of lists.</p>
","170408","","680068","","2016-11-10 11:58:04","2016-11-10 11:58:04","rbind dataframes in a list of lists","<list><r><dataframe>","2","1","12","","","CC BY-SA 3.0","1652522","4452","4452","r","404559","3625322","3607736","",""
"1653271","1","","","2009-10-31 03:06:06","","4","10770","<p>I am trying to compute the median vector of a data set <code>s</code> with column <code>A1</code> and <code>B1</code>. The median vector is the median for each  observation from both columns. </p>

<p>I tried to do this and it did not work. </p>

<pre><code>median(s[c(""A1"",""B1"")])
</code></pre>

<p>Is there another way to do it? </p>
","200022","","4205652","","2016-05-18 17:02:08","2016-05-18 17:02:08","how do you find the median of 2 columns using R?","<r><median>","2","0","1","","","CC BY-SA 3.0","1653271","4452","4452","r","404559","3625322","3607736","",""
"1653710","1","1654241","","2009-10-31 07:39:46","","1","1186","<p>Suppose we have the contents of tables x and y in two dataframes in R. Which is the suggested way to perform an operation like the following in sql:</p>

<pre><code>Select x.X1, x.X2, y.X3
into z
from x inner join y on x.X1 = y.X1
</code></pre>

<p>I tried the following in R. Is there a better way? 
Thank you</p>

<pre><code>x&lt;-data.frame(cbind('X1'=c(5,9,7,6,4,8,3,1,10,2),'X2'=c(5,9,7,6,4,8,3,1,10,2)^2))
y&lt;-data.frame(cbind('X1'=c(9,5,8,2),'X3'=c('nine','five','eight','two')))

z&lt;-cbind(x[which(x$X1 %in% (y$X1)), c(1:2)][order(x[which(x$X1 %in% (y$X1)), c(1:2)]$X1),],y[order(y$X1),2])
</code></pre>
","170792","","","","","2009-10-31 13:52:33","r analogous to sql inner join selection","<sql><r>","2","0","","","","CC BY-SA 2.5","1653710","4452","4452","r","404559","3625322","3607736","",""
"1655454","1","","","2009-10-31 19:57:29","","3","14829","<p>Is there a way in R to build a new dataset consisting of a given set of vectors -- median1, median2, median3, median4 -- which are median vectors from a previous dataset s? </p>

<pre><code>median1 = apply(s[,c(""A1"",""B1"",""C1"",""D1"",""E1"",""F1"",""G1"",""H1"",""I1"")],1,median)
median2 = apply(s[,c(""A2"",""B2"",""C2"",""D2"",""E2"",""F2"",""G2"",""H2"",""I2"")],1,median)
median3 = apply(s[,c(""A3"",""B3"",""C3"",""D3"",""E3"",""F3"",""G3"",""H3"",""I3"")],1,median)
median4 = apply(s[,c(""A4"",""B4"",""C4"",""D4"",""E4"",""F4"",""G4"",""H4"",""I4"")],1,median)

plot(median1,median2, pch = ""."")
</code></pre>
","200022","","163053","","2009-10-31 21:02:32","2012-12-28 16:03:29","How do you make a new dataset given a set of vectors?","<r><dataset><vector>","1","0","","","","CC BY-SA 2.5","1655454","4452","4452","r","404559","3625322","3607736","",""
"1655792","1","","","2009-10-31 22:26:18","","3","1842","<p>Is there a variant of lag somewhere that keeps NAs in position? I want to compute returns of price data where data could be missing.</p>

<p>Col 1 is the price data
Col 2 is the lag of price
Col 3 shows p - lag(p) - the return from 99 to 104 is effectively missed, so the path length of the computed returns will differ from the true.
Col 4 shows the lag with NA position preserved
Col 5 shows the new difference - now the return of 5 for 2009-11-07 is available</p>

<p>Cheers, Dave</p>

<pre><code>x &lt;- xts(c(100, 101, 97, 95, 99, NA, 104, 103, 103, 100), as.Date(""2009-11-01"") + 0:9)

# fake the lag I want, with NA kept in position
x.pos.lag &lt;- lag.xts(x.pos)
x.pos.lag &lt;- lag.xts(x.pos)
x.pos.lag['2009-11-07']=99
x.pos.lag['2009-11-06']=NA

cbind(x, lag.xts(x), x - lag.xts(x), x.pos.lag, x-x.pos.lag)
           ..1 ..2 ..3 ..4 ..5
2009-11-01 100  NA  NA  NA  NA
2009-11-02 101 100   1 100   1
2009-11-03  97 101  -4 101  -4
2009-11-04  95  97  -2  97  -2
2009-11-05  99  95   4  95   4
2009-11-06  NA  99  NA  NA  NA
2009-11-07 104  NA  NA  99   5
2009-11-08 103 104  -1 104  -1
2009-11-09 103 103   0 103   0
2009-11-10 100 103  -3 103  -3
</code></pre>
","200303","","163053","","2009-11-01 12:15:23","2009-11-11 18:08:52","R lag over missing data","<r><time-series><lag><missing-data>","1","0","","","","CC BY-SA 2.5","1655792","4452","4452","r","404559","3625322","3607736","",""
"1656026","1","","","2009-11-01 00:29:06","","1","1755","<p>I'm trying to add a title at the top of the page scatterplots, however whenever I use the command <em>title</em> it doesn't add the title at the top of page and overwrites my plots. Is there a way to fix this ?</p>

<pre><code>plot(median, pch = ""."")
title(main = ""Scatterplot of the median vectors "",line = 0,font=2)
</code></pre>
","200022","","97160","","2009-11-01 01:09:51","2009-11-01 02:19:07","Why doesn't R add the title at the top of the page?","<r><title>","2","2","","","","CC BY-SA 2.5","1656026","4452","4452","r","404559","3625322","3607736","",""
"1658032","1","1658055","","2009-11-01 19:13:17","","6","3385","<p>How does one go about drawing an hyperplane (given the equation) in 3D in R ?
(i.e. 3d equivalent to ""abline"")</p>

<p>Thanks in advance, </p>
","189035","","172261","","2009-11-03 08:21:36","2014-04-02 19:46:51","Draw hyperplane in R?","<r><plot>","2","0","3","","","CC BY-SA 2.5","1658032","4452","4452","r","404559","3625322","3607736","",""
"1660124","1","1661144","","2009-11-02 09:01:28","","424","710611","<p>I have a data frame with two columns. First column contains categories such as ""First"", ""Second"", ""Third"", and the second column has numbers that represent the number of times I saw the specific groups from ""Category"".</p>

<p>For example:</p>

<pre><code>Category     Frequency
First        10
First        15
First        5
Second       2
Third        14
Third        20
Second       3
</code></pre>

<p>I want to sort the data by Category and sum all the Frequencies:</p>

<pre><code>Category     Frequency
First        30
Second       5
Third        34
</code></pre>

<p>How would I do this in R?</p>
","177541","","1953718","","2020-04-28 11:16:55","2020-12-17 03:33:03","How to sum a variable by group","<r><dataframe><aggregate><r-faq>","15","1","157","","","CC BY-SA 4.0","1660124","4452","4452","r","404559","3625322","3607736","",""
"1661479","1","1662207","","2009-11-02 14:01:35","","11","9634","<p>I regularly make figures (the exploratory data analysis type) in R. I also program in Python and was wondering if there are features or concepts in matplotlib that would be worth learning. For instance, I am quite happy with R - but its image() function will produce large files with pixelated output, whereas Matlab's equivalent figure (I also program regularly in Matlab) seems to be manageable in file size and also 'smoothed' - does matplotlib also provide such reductions...? But more generally, I wonder what other advantages matplotlib might confer. I don't mean this to be a trolling question. Thanks.</p>
","143476","","","","","2009-11-02 16:19:23","matplotlib for R user?","<python><r><matplotlib><scipy><data-visualization>","2","2","6","2020-06-04 15:27:09","","CC BY-SA 2.5","1661479","4452","4452","r","404559","3625322","3607736","",""
"1663370","1","1663602","","2009-11-02 20:05:10","","15","80503","<p>When programming in Stata I often find myself using the loop index in the programming. For example, I'll loop over a list of the variables nominalprice and realprice:  </p>

<pre><code>local list = ""nominalprice realprice""
foreach i of local list {
  summarize `i'
  twoway (scatter `i' time)
  graph export ""C:\TimePlot-`i'.png""
}
</code></pre>

<p>This will plot the time series of nominal and real prices and export one graph called TimePlot-nominalprice.png and another called TimePlot-realprice.png.  </p>

<p>In R the method I've come up with to do the same thing would be:  </p>

<pre><code>clist &lt;- c(""nominalprice"", ""realprice"")
for (i in clist) {
  e &lt;- paste(""png(\""c:/TimePlot-"",i,"".png\"")"", sep="""")
  eval(parse(text=e))
  plot(time, eval(parse(text=i)))
  dev.off() 
}
</code></pre>

<p>This R code looks unintuitive and messy to me and I haven't found a good way to do this sort of thing in R yet. Maybe I'm just not thinking about the problem the right way? Can you suggest a better way to loop using strings? </p>
","296954","","1493368","","2013-08-25 16:56:59","2013-08-25 16:56:59","Loop over string variables in R","<r><statistics><stata>","4","0","10","","","CC BY-SA 2.5","1663370","4452","4452","r","404559","3625322","3607736","",""
"1663536","1","","","2009-11-02 20:37:27","","2","2809","<p>I have a data set of comic book unit sales by volume (ex. Naruto v10) that I need to reduce to sales by series (so all Naruto volume unit sales would be added together into a single observation).  I have a variable ""series"" that identifies the series of each observation.  The equivalent code in Stata would be: </p>

<pre><code>by series, sort:replace unitssales=sum(unitssales);
by series, sort:keep if _n==_N
</code></pre>

<p>But I'm trying to figure out how to do this in R.  Any help would be much appreciated!  Thanks in advance!</p>
","","user201206","1315767","","2014-01-01 17:31:52","2014-07-02 15:31:54","Summing by Categorical Variable","<r><statistics><stata>","1","1","","","","CC BY-SA 3.0","1663536","4452","4452","r","404559","3625322","3607736","",""
"1664473","1","1665259","","2009-11-02 23:58:52","","3","3980","<pre><code>data &lt;-c(88, 84, 85, 85, 84, 85, 83, 85, 88, 89, 91, 99, 104, 112, 126, 138, 146,151,   150, 148, 147, 149, 143, 132, 131, 139, 147, 150, 148, 145, 140, 134, 131, 131, 129, 126, 126, 132, 137, 140, 142, 150, 159, 167, 170, 171, 172, 172, 174, 175, 172, 172, 174, 174, 169, 165, 156, 142, 131, 121, 112, 104, 102, 99, 99, 95, 88, 84, 84, 87, 89, 88, 85, 86, 89, 91, 91, 94, 101, 110, 121, 135, 145, 149, 156, 165, 171, 175, 177, 182, 193, 204, 208, 210, 215, 222, 228, 226, 222, 220)
</code></pre>

<p>Why do the ARMA models acting on the first differences of the data differ from the corresponding ARIMA models?</p>

<pre><code>for (p in 0:5)
{
for (q in 0:5)
{
#data.arma = arima(diff(data), order = c(p, 0, q));cat(""p ="", p, "", q ="", q, ""AIC ="",  data.arma$aic, ""\n"");
data.arma = arima(data, order = c(p, 1, q));cat(""p ="", p, "", q ="", q, ""AIC ="", data.arma$aic, ""\n"");
}
}
</code></pre>

<p>Same with <code>Arima(data,c(5,1,4))</code> and <code>Arima(diff(data),c(5,0,4))</code> in the forecast package. I can get the desired consistency with</p>

<pre><code>auto.arima(diff(data),max.p=5,max.q=5,d=0,approximation=FALSE, stepwise=FALSE, ic =""aic"", trace=TRUE);
auto.arima(data,max.p=5,max.q=5,d=1,approximation=FALSE, stepwise=FALSE, ic =""aic"", trace=TRUE);
</code></pre>

<p>but it seems the holder of the minimum AIC estimate for these data has not been considered by the algorithm behind auto.arima; hence the suboptimal choice of ARMA(3,0) instead of ARMA(5,4) acting on the first differences. A related question is how much the two AIC estimates should differ before one considers one model better than the other has little to do wuth programming - the smallest AIC holder should at least be considered/reported, even though 9 coefficients may be a bit too much for a forecast from 100 observations.</p>

<p>My R questions are:</p>

<p>1) Vectorised version of the double loop so it is faster?</p>

<p>2) Why does <code>arima(5,1,4)</code> acting on the data differ from <code>arma(5,4)</code> acting on the first differences of the data? Which one is to be reported?</p>

<p>3) How do I sort the AICs output so that the smaller come first?</p>

<p>Thanks.</p>
","182378","","1315767","","2013-05-16 15:12:52","2013-05-16 15:12:52","ARIMA, ARMA and AICs?","<r><data-modeling><forecasting>","1","0","3","","","CC BY-SA 3.0","1664473","4452","4452","r","404559","3625322","3607736","",""
"1670803","1","","","2009-11-03 23:20:58","","0","266","<p>When I try to calculate Gest in spatstat I get the error:</p>

<blockquote>
  <p>bootstrap output matrix missing.</p>
</blockquote>

<p>Does anyone know what am I doing wrong?</p>
","202190","","163053","","2009-11-04 20:06:57","2013-12-17 00:40:46","Bootstrap output matrix missing","<r><spatstat>","2","1","","","","CC BY-SA 2.5","1670803","4452","4452","r","404559","3625322","3607736","",""
"1671521","1","1674939","","2009-11-04 03:21:29","","1","1669","<p>I have a network loaded into an igraph object <code>G</code> that has 198 vertices and 214 edges.  If I run:</p>

<pre><code>eig&lt;-evcent(G)$vector
</code></pre>

<p>The resulting <code>eig</code> is a vector with 2172 elements, rather than 198 elements.   <a href=""http://igraph.sourceforge.net/doc/R/evcent.html"" rel=""nofollow noreferrer"">The documentation on the package</a> claims it returns the ""centralities of positions <code>v</code>.""  Any ideas on how to get the eigenvalue centralities for each vertex?</p>
","98130","","164901","","2010-03-05 19:01:17","2010-03-05 19:01:17","How to get vertex eigenvalue centralities in R with igraph","<r><social-networking><igraph>","1","1","1","","","CC BY-SA 2.5","1671521","4452","4452","r","404559","3625322","3607736","",""
"1676990","1","","","2009-11-04 22:04:49","","40","56829","<p>I have the following vector:</p>

<pre><code>tmp3 &lt;- c(""1500 2"", ""1500 1"", ""1510 2"", ""1510 1"", ""1520 2"", ""1520 1"", ""1530 2"", 
""1530 1"", ""1540 2"", ""1540 1"")
</code></pre>

<p>I would like to just retain the second number in each of the atoms of this vector, so it would read:  </p>

<pre><code>c(2,1,2,1,2,1,2,1,2,1)
</code></pre>
","202996","","202229","","2018-05-25 00:04:44","2020-05-06 15:05:12","Split a string vector at whitespace","<r><string><vector><split><whitespace>","9","1","9","","","CC BY-SA 4.0","1676990","4452","4452","r","404559","3625322","3607736","",""
"1677021","1","1677058","","2009-11-04 22:10:59","","17","11639","<p>Is R an interpreted or compiled programming language?</p>
","9382","","3924118","","2018-03-16 22:07:42","2018-03-16 22:18:31","Is R an interpreted or compiled programming language?","<r><interpreted-language><compiled-language>","6","0","2","","","CC BY-SA 3.0","1677021","4452","4452","r","404559","3625322","3607736","",""
"1677489","1","1677611","","2009-11-04 23:52:06","","2","464","<p>I'm thinking to start learning <strong>R</strong>, but I want to know one thing, Is it embeddable(Windows CE, Palm OS)?</p>
","126353","","","","","2009-11-05 01:20:04","Is R Embeddable","<r><embedded>","3","0","1","","","CC BY-SA 2.5","1677489","4452","4452","r","404559","3625322","3607736","",""
"1685181","1","","","2009-11-06 03:13:55","","14","6794","<p>I have written a very basic package in R. In fact, I followed <a href=""http://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf"" rel=""nofollow noreferrer"">this tutorial</a> for creating a basic package.</p>

<p>My package works just fine in linux. eg:</p>

<pre>
> install.packages(""linmod"", repos=NULL)
Warning in install.packages(""linmod"", repos = NULL) :
  argument 'lib' is missing: using '/home/jpgoel/R/i486-pc-linux-gnu-library/2.9'
* Installing *source* package ‘linmod’ ...
** R
** data
** preparing package for lazy loading
** help
*** installing help indices
 >>> Building/Updating help pages for package 'linmod'
     Formats: text html latex example 
** building package indices ...
* DONE (linmod)
> library(linmod)
> data(mod1)
> mod1
Call:
linmod.default(x = x, y = y)

Coefficients:
     Const        Bwt 
-0.3566624  4.0340627 

</pre>

<p>Now, I took my ""linmod"" folder, copied it to Windows XP, and tried the following:</p>

<pre>
> install.packages(""C:\\Documents\ and\ Settings\\foo\\Desktop\\linmod"",repos=NULL)
Error in gzfile(file, ""r"") : cannot open the connection
In addition: Warning messages:
1: In unzip(zipname, exdir = dest) : error 1 in extracting from zip file
2: In gzfile(file, ""r"") :
  cannot open compressed file 'linmod/DESCRIPTION', probable reason 'No such file or directory'
> 
</pre>

<p>Okay. So then I took that folder and placed it into a .zip file. Then I went to Packages -> Install package(s) from local zip files... and selected my package.</p>

<pre>
> utils:::menuInstallLocal()
updating HTML package descriptions

> library(linmod)
Error in library(linmod) : 'linmod' is not a valid installed package

</pre>

<p>I'm stumped. My package doesn't have any native code (eg, no extensions written in C.)</p>

<p>Feel free to download the .zip <a href=""http://www.2shared.com/file/8966494/44855d78/linmod.html"" rel=""nofollow noreferrer"">from here</a> (the link to download is all the way at the bottom, ""Save file to your PC"")</p>
","3788","","5414452","","2016-01-04 09:01:14","2016-01-04 09:01:14","Making R package work in both Windows and Linux","<r><package>","3","0","5","","","CC BY-SA 2.5","1685181","4452","4452","r","404559","3625322","3607736","",""
"1686569","1","1686614","","2009-11-06 09:58:58","","164","325635","<p>I want to filter rows from a <code>data.frame</code> based on a logical condition. Let's suppose that I have data frame like</p>

<pre><code>   expr_value     cell_type
1    5.345618 bj fibroblast
2    5.195871 bj fibroblast
3    5.247274 bj fibroblast
4    5.929771          hesc
5    5.873096          hesc
6    5.665857          hesc
7    6.791656          hips
8    7.133673          hips
9    7.574058          hips
10   7.208041          hips
11   7.402100          hips
12   7.167792          hips
13   7.156971          hips
14   7.197543          hips
15   7.035404          hips
16   7.269474          hips
17   6.715059          hips
18   7.434339          hips
19   6.997586          hips
20   7.619770          hips
21   7.490749          hips
</code></pre>

<p>What I want to is to get a new data frame which looks the same but only has the data for one cell_type. E.g. subset / select rows which contains the cell type ""hesc"":</p>

<pre><code>   expr_value     cell_type
1    5.929771          hesc
2    5.873096          hesc
3    5.665857          hesc
</code></pre>

<p>Or either cell type ""bj fibroblast"" or ""hesc"":</p>

<pre><code>   expr_value     cell_type
1    5.345618 bj fibroblast
2    5.195871 bj fibroblast
3    5.247274 bj fibroblast
4    5.929771          hesc
5    5.873096          hesc
6    5.665857          hesc
</code></pre>

<p>Is there any easy way to do this?</p>

<p>I've tried:</p>

<pre><code>expr[expr[2] == 'hesc']
# [1] ""5.929771"" ""5.873096"" ""5.665857"" ""hesc""     ""hesc""     ""hesc""    
</code></pre>

<p>if the original data frame is called ""expr"", but it gives the results in wrong format as you can see.</p>
","101419","","1851712","","2020-06-29 23:22:05","2020-06-29 23:22:05","Filter data.frame rows by a logical condition","<r><dataframe><subset><r-faq>","9","0","56","","","CC BY-SA 3.0","1686569","4452","4452","r","404559","3625322","3607736","",""
"1688228","1","1693035","","2009-11-06 15:12:51","","0","574","<p>I'm plotting a group of curves, using facet in ggplot2. I'd like to have a smoother applied to plots where there are enough points to smooth, but not on plots with very few points. In particular I'd like to stop the plot failing when one of the panels only has 1 or 2 points.</p>

<p>Example:</p>

<pre><code>a &lt;- data.frame( x=1:100, y=sin(seq(0.1,10,0.1) )) 
b &lt;- data.frame( x=1:5, y=sin(seq(0.1,0.2,0.1) )) 
l &lt;- melt(list(a=a,b=b),id.vars=""x"") 
qplot( x, value, data=l ) + geom_smooth() + facet_wrap( ~ L1 )
</code></pre>
","192720","","192720","","2009-11-06 16:48:08","2009-11-07 13:34:04","Per panel smoothing in ggplot2","<r><ggplot2><smoothing>","1","6","","","","CC BY-SA 2.5","1688228","4452","4452","r","404559","3625322","3607736","",""
"1689116","1","","","2009-11-06 00:28:51","","0","362","<p>I have to keep navigating to my directory when I go to File > Change dir..., which is particularly annoying.</p>

<p>Does anyone know how to make R remember the previously used directory?</p>
","177541","mathee","","","","2009-11-21 20:58:55","Getting R to remember previous directory","<r><directory><workspace>","0","0","0","2013-08-16 17:43:42","","CC BY-SA 2.5","1689116","4452","4452","r","404559","3625322","3607736","",""
"1692336","1","1692342","","2009-11-07 07:39:09","","7","2866","<p>This question came today in the manipulatr mailing list.</p>

<pre><code>http://groups.google.com/group/manipulatr/browse_thread/thread/fbab76945f7cba3f
</code></pre>

<p>I am rephrasing.</p>

<p>Given a distance matrix (calculated with <code>dist</code>) apply a function to the rows of the distance matrix.</p>

<p>Code:</p>

<pre><code>library(plyr)
N &lt;- 100
a &lt;- data.frame(b=1:N,c=runif(N))
d &lt;- dist(a,diag=T,upper=T)
sumd &lt;- adply(as.matrix(d),1,sum)
</code></pre>

<p>The problem is that to apply the function by row you have to store the whole matrix (instead of just the lower triangular part. So it uses too much memory for large matrices. It fails in my computer for matrices of dimensions ~ 10000.</p>

<p>Any ideas?</p>
","143377","","","","","2012-04-05 15:55:29","Applying a function to a distance matrix in R","<algorithm><r>","3","0","1","","","CC BY-SA 2.5","1692336","4452","4452","r","404559","3625322","3607736","",""
"1699046","1","1701141","","2009-11-09 04:08:53","","180","374744","<p>I have a dataframe, and for each row in that dataframe I have to do some complicated lookups and append some data to a file.</p>

<p>The dataFrame contains scientific results for selected wells from 96 well plates used in biological research so I want to do something like:</p>

<pre><code>for (well in dataFrame) {
  wellName &lt;- well$name    # string like ""H1""
  plateName &lt;- well$plate  # string like ""plate67""
  wellID &lt;- getWellID(wellName, plateName)
  cat(paste(wellID, well$value1, well$value2, sep="",""), file=outputFile)
}
</code></pre>

<p>In my procedural world, I'd do something like:</p>

<pre><code>for (row in dataFrame) {
    #look up stuff using data from the row
    #write stuff to the file
}
</code></pre>

<p>What is the ""R way"" to do this?</p>
","87661","","5414452","user212218","2016-01-04 09:11:23","2020-12-14 23:39:13","For each row in an R dataframe","<r><dataframe><rows>","9","3","44","","","CC BY-SA 3.0","1699046","4452","4452","r","404559","3625322","3607736","",""
"1704324","1","1704413","","2009-11-09 22:21:39","","4","3032","<p>Is there an open source and/or free statistics package or library for <a href=""http://en.wikipedia.org/wiki/Delphi_programming_language"" rel=""nofollow noreferrer"">Delphi</a>? I'm looking for something that can compile directly into the executable, so no DLL's. It needs to be compatible with Delphi 2009 and later (the Unicode versions).</p>

<p>Hopefully there is something comprehensive available out there. By comparison, I am used to the amazing features of <a href=""http://www.sas.com/technologies/analytics/statistics/stat/index.html"" rel=""nofollow noreferrer"">SAS</a> and <a href=""http://www.r-project.org/"" rel=""nofollow noreferrer"">R</a>.  </p>

<p>I'm looking for distribution functions (normal, binomial, chi square, <a href=""http://en.wikipedia.org/wiki/Logit"" rel=""nofollow noreferrer"">logit</a>) and regression (linear, non-linear, multinomial) and if possible predictors (e.g. <a href=""http://en.wikipedia.org/wiki/Autoregressive_integrated_moving_average"" rel=""nofollow noreferrer"">ARIMA</a>).</p>
","30176","","63550","","2009-11-10 11:22:46","2009-11-10 11:22:46","Is there a free Statistics Package for Delphi?","<delphi><r><statistics><sas>","2","6","2","","","CC BY-SA 2.5","1704324","4452","4452","r","404559","3625322","3607736","",""
"1708074","1","1708193","","2009-11-10 13:47:12","","15","2853","<p>How do you debug a generic function (using debug, or mtrace in the debug package)?</p>

<p>As an example, I want to debug cenreg in the NADA package, specifically the method that takes a formula input.</p>

<p>You can retrieve the method details like this:</p>

<pre><code>library(NADA)
getMethod(""cenreg"", c(""formula"", ""missing"", ""missing""))

function (obs, censored, groups, ...) 
{
    .local &lt;- function (obs, censored, groups, dist, conf.int = 0.95, 
        ...) 
    {
        dist = ifelse(missing(dist), ""lognormal"", dist)

...
}
</code></pre>

<p>The problem is that cenreg itself looks like this:</p>

<pre><code>body(cenreg)
# standardGeneric(""cenreg"")
</code></pre>

<p>I don't know how to step through the underlying method, rather than the generic wrapper.</p>
","134830","","","","","2019-07-12 20:31:09","Debugging generic functions in R","<debugging><r>","2","0","5","","","CC BY-SA 2.5","1708074","4452","4452","r","404559","3625322","3607736","",""
"1708934","1","","","2009-11-10 15:46:14","","21","1843","<p>I have been working on a few R packages for some general tools that aren't currently available in R: blogging, report delivery, logging, and scheduling.  This led me to wonder: what are the most important things that people <em>wish</em> existed in R that currently aren't available?  </p>

<p>My hope is that we can use this to pinpoint some gaps, and possibly work on them collaboratively.</p>
","163053","","5414452","","2016-01-04 08:39:16","2016-01-04 08:39:16","What useful R package doesn't currently exist?","<r><packages>","12","4","15","2011-11-18 06:25:31","2009-11-10 15:54:51","CC BY-SA 2.5","1708934","4452","4452","r","404559","3625322","3607736","",""
"1710340","1","1710387","","2009-11-10 18:57:44","","16","3196","<p>Sorry for the non-descriptive title but I don't know whether there's a word for what I'm trying to achieve.</p>

<p>Let's assume that I have a list of names of different classes like</p>

<pre><code>c( '1', '2', '3', '4')
</code></pre>

<p>I'd like to generate all possible permutation pairs out of this so that there are no reverse-duplicates. So what I'd like to have is something like</p>

<pre><code>'1' '2'
'1' '3'
'1' '4'
'2' '3'
'2' '4'
'3' '4'
</code></pre>

<p>Note that I don't have e.g. <code>'2' '1'</code> because I already have <code>'1' '2'</code>. Is there an easy way to achieve this in R?</p>
","101419","","3588876","","2018-02-28 12:40:07","2018-02-28 12:40:07","Generating non-duplicate combination pairs in R","<r><combinations>","1","0","2","","","CC BY-SA 3.0","1710340","4452","4452","r","404559","3625322","3607736","",""
"1710853","1","1710952","","2009-11-10 20:10:25","","29","21679","<p>I'm running R 2.9 on a large EC2 Ubuntu instance, loaded with RAM, but without a terminal.  When I load a library that has display dependencies, such as the sqldf package, I receive the following error:</p>

<pre><code>library(sqldf)
...
Loading required package: tcltk
Loading Tcl/Tk interface ... Error in fun(...) : couldn't connect to display ""localhost:11.0""
Error : .onLoad failed in 'loadNamespace' for 'tcltk'
Error: package 'tcltk' could not be loaded
</code></pre>

<p>This seems to be a general problem, and I'm wondering how others have solved it.  Installing an X11 server is not a desirable solution.</p>
","2002705","","5414452","","2016-01-04 09:29:41","2016-01-04 09:29:41","How to run R on a server without X11, and avoid broken dependencies","<r><x11>","2","0","24","","","CC BY-SA 2.5","1710853","4452","4452","r","404559","3625322","3607736","",""
"1712316","1","","","2009-11-11 00:56:18","","0","785","<p>I'm getting a weird error when training a glmnet regression.</p>

<pre><code>invalid class ""dgCMatrix"" object: length(Dimnames[[2]])' must match Dim[2] 
</code></pre>

<p>It only happens occasionally, and perhaps only under larger datasets.</p>

<p>I'm not sure whether it's consistent it happens given a certain dataset.</p>

<p>Any clues?</p>
","86684","","","","","2011-09-07 03:41:56","Strange error when using sparse matrices and glmnet","<r><matrix>","3","1","","","","CC BY-SA 2.5","1712316","4452","4452","r","404559","3625322","3607736","",""
"1714280","1","1715488","","2009-11-11 10:19:32","","47","66095","<p>I want do fit some sort of multi-variate time series model using R. </p>

<p>Here is a sample of my data:</p>

<pre><code>   u     cci     bci     cpi     gdp    dum1 dum2 dum3    dx  
 16.50   14.00   53.00   45.70   80.63  0   0    1     6.39 
 17.45   16.00   64.00   46.30   80.90  0   0    0     6.00 
 18.40   12.00   51.00   47.30   82.40  1   0    0     6.57 
 19.35   7.00    42.00   48.40   83.38  0   1    0     5.84 
 20.30   9.00    34.00   49.50   84.38  0   0    1     6.36 
 20.72   10.00   42.00   50.60   85.17  0   0    0     5.78 
 21.14   6.00    45.00   51.90   85.60  1   0    0     5.16 
 21.56   9.00    38.00   52.60   86.14  0   1    0     5.62 
 21.98   2.00    32.00   53.50   86.23  0   0    1     4.94 
 22.78   8.00    29.00   53.80   86.24  0   0    0     6.25 
</code></pre>

<p>The data is quarterly, the dummy variables are for seasonality.</p>

<p>What I would like to do is to predict dx with reference to some of the others, while (possibly) allowing for seasonality. For argument's sake, lets say I want to use ""u"", ""cci"" and ""gdp"".</p>

<p>How would I go about doing this?</p>
","141789","","163053","","2010-03-05 14:41:01","2016-04-12 15:42:31","Multivariate time series modelling in R","<r><statistics><time-series>","3","0","60","","","CC BY-SA 2.5","1714280","4452","4452","r","404559","3625322","3607736","",""
"1714818","1","1714901","","2009-11-11 12:14:34","","2","3377","<p>I am trying to export biometric data from an analysis using the ROCR package.  Here is the code that I've done so far:</p>

<pre><code>pred = performance(Matching.Score,Distribution)
perf = prediction(pred,""fnr"", ""fpr"")

An object of class “performance”

Slot ""x.name"":

[1] ""False positive rate""

Slot ""y.name"":

[1] ""False negative rate""

Slot ""alpha.name"":

[1] ""Cutoff""

Slot ""x.values"":

[[1]]

[1] 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000
[15] 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000
  ......

Slot ""y.values"":

[[1]]

[1] 1.00000 0.99999 0.99998 0.99997 0.99996 0.99995
[15] 0.99986 0.99985 0.99984 0.99983 0.99982 0.99981
    ......

Slot ""alpha.values"":

[[1]]

[1]  Inf      1.0427800 1.0221150 1.0056240 1.0032630 0.9999599
[12] 0.9644779 0.9633058 0.9628996 0.9626501 0.9607665 0.9605930
    .......
</code></pre>

<p>This results in several Slots.  I would like to export the resulting values into a text file for Excel modification using: </p>

<p><code>write(pred, ""filename"")</code></p>

<p>However, when I try to write the file, I get an error stating:</p>

<pre><code>Error in cat(list(...), file, sep, fill, labels, append) : 
  argument 1 (type 'S4') cannot be handled by 'cat'
</code></pre>

<p>Is there any way around this?</p>

<p>I'd appreciate any advice.  Thank you! </p>

<p>Matt Peterson</p>
","167584","","2679518","","2014-04-29 23:40:08","2014-04-29 23:40:08","How to export data from ROCR package","<r><s4>","1","0","2","","","CC BY-SA 3.0","1714818","4452","4452","r","404559","3625322","3607736","",""
"1716012","1","","","2009-11-11 15:39:27","","25","12829","<p>Is there an R timer or stopwatch function similar to MATLAB's <a href=""http://www.mathworks.com/access/helpdesk/help/techdoc/ref/tic.html"" rel=""noreferrer"">tic/toc</a>?</p>
","142068","","97160","","2009-11-11 18:09:35","2017-12-24 05:55:15","Stopwatch function in R","<matlab><r>","10","1","10","","","CC BY-SA 2.5","1716012","4452","4452","r","404559","3625322","3607736","",""
"1716600","1","","","2009-11-11 17:00:03","","1","2506","<p>I have a data frame showing four classes for each year, along with their respective shares of the total for that year. </p>

<pre><code>&gt; head(df)
      class year share
1    class1 1975 0.806
2    class2 1975 0.131
3    class3 1975 0.018
4    class4 1975 0.045
5    class1 1976 0.788
6    class2 1976 0.151
</code></pre>

<p>When I run <code>ggplot</code> with no <code>fill</code> specified, I get a uniform gray box, as expected.</p>

<pre><code>&gt; ggplot(df, aes(x=year, y=share, group=class)) + geom_area() + scale_fill_brewer()
</code></pre>

<p>So I try to add <code>fill=class</code>, and it doesn't work.</p>

<pre><code>&gt; ggplot(df, aes(x=year, y=share, group=class, fill=class)) + geom_area() + scale_fill_brewer()

Error in inherits(x, ""factor"") : object ""base_size"" not found
In addition: Warning message:
In inherits(x, ""factor"") : restarting interrupted promise evaluation
&gt; 
</code></pre>

<p>What can I do to the <code>class</code> factor to get it working properly with <code>scale_fill_brewer()</code>? The idea, obviously, is to shade each area of the graph according to its class.</p>

<p>Thanks.</p>
","197321","","","","","2010-06-22 19:55:45","ggplot2: using the geom_area() function","<r><ggplot2>","2","3","","","","CC BY-SA 2.5","1716600","4452","4452","r","404559","3625322","3607736","",""
"1719447","1","1722565","","2009-11-12 02:07:18","","11","2846","<p>I understand how outer() works in R:</p>

<pre><code>&gt; outer(c(1,2,4),c(8,16,32), ""*"")

     [,1] [,2] [,3]
[1,]    8   16   32
[2,]   16   32   64
[3,]   32   64  128
</code></pre>

<p>It basically takes 2 vectors, finds the crossproduct of those vectors, and then applies the function to each pair in the crossproduct.</p>

<p>I don't have two vectors, however. I have two lists of matrices:</p>

<p>M = list();</p>

<pre><code>M[[1]] = matrix(...)
M[[2]] = matrix(...)
M[[3]] = matrix(...)
</code></pre>

<p>And I want to do an operation on my list of matricies. I want to do:</p>

<pre><code>outer(M, M, ""*"")
</code></pre>

<p>In this case, I want to take the dot product of each combination of matrices I have.</p>

<p>Actually, I am trying to generate a kernel matrix (and I have written a kernel function), so I want to do:</p>

<pre><code>outer(M, M, kernelFunction)
</code></pre>

<p>where <code>kernelFunction</code> calculates a distance between my two matrices.</p>

<p>The problem is that outer() only takes ""vector"" arguments, rather than ""list""s etc. Is there a function that does the equivalent of outer() for non-vector entities?</p>

<p>Alternately, I could use a for-loop to do this:</p>

<pre><code>M = list() # Each element in M is a matrix

for (i in 1:numElements)
{
   for (j in 1:numElements)
   {
      k = kernelFunction(M[[i]], M[[j]])
      kernelMatrix[i,j] = k;
   }
} 
</code></pre>

<p>but I am trying to avoid this in favor of an R construct (which might be more efficient). (Yes I know I can modify the for-loop to compute the diagonal matrix and save 50% of the computations. But that's not the code that I'm trying to optimize!)</p>

<p>Is this possible? Any thoughts/suggestions?</p>
","3788","","","","","2015-09-29 01:12:21","outer() equivalent for non-vector lists in R","<r>","3","0","4","","","CC BY-SA 2.5","1719447","4452","4452","r","404559","3625322","3607736","",""
"1721536","1","1735260","","2009-11-12 11:20:48","","11","13820","<p>I have a dataframe <code>df.all</code> and I'm plotting it in a bar plot with ggplot2 using the code below. I'd like to make it so that the order of the dodged bars is flipped. That is, so that the bars labeled ""Singular"" come before the bars labeled ""Plural"".</p>

<pre><code>ggplot(df.all, aes(gram, V1, fill=number)) + 
    geom_bar(stat=""identity"", position=""dodge"") + 
    scale_x_discrete(labels=c(""Grammatical"",""Ungrammatical"")) +
    scale_y_continuous(formatter=""percent"", limits=c(0,1)) +
    facet_grid(. ~ experiment) + 
    scale_fill_hue(""Attractor"", breaks=c(""S"",""P""), labels=c(""Singular"",""Plural""))
</code></pre>

<p>I've tried doing <code>levels(df.all$number) = c(""S"", ""P"")</code> thinking that maybe ggplot uses the order of the levels to decide plotting order, but that didn't work. I'm not sure what else to try. Any ideas?</p>

<p>The contents of <code>df.all</code>, in case it's useful:</p>

<pre><code>&gt; df.all
  number gram     experiment        V1
1      S    G BERIMBAU_AGR_A 0.8133333
2      S    G BERIMBAU_AGR_B 0.8658537
3      S    U BERIMBAU_AGR_A 0.5436242
4      S    U BERIMBAU_AGR_B 0.4597701
5      P    G BERIMBAU_AGR_A 0.8580645
6      P    G BERIMBAU_AGR_B 0.8536585
7      P    U BERIMBAU_AGR_A 0.3087248
8      P    U BERIMBAU_AGR_B 0.3975904

&gt; str(df.all)
'data.frame':   8 obs. of  4 variables:
 $ number    : Factor w/ 2 levels ""S"",""P"": 2 2 2 2 1 1 1 1
  ..- attr(*, ""scores"")= num [1:2(1d)] 0 -1
  .. ..- attr(*, ""dimnames"")=List of 1
  .. .. ..$ : chr  ""P"" ""S""
 $ gram      : Factor w/ 2 levels ""G"",""U"": 1 1 2 2 1 1 2 2
 $ experiment: Factor w/ 4 levels ""BERIMBAU_AGR_A"",..: 1 4 1 4 1 4 1 4
 $ V1        : num  0.813 0.866 0.544 0.46 0.858 ...
</code></pre>
","117357","","117357","","2009-11-12 11:48:48","2019-01-10 20:31:14","Changing the order of dodged bars in ggplot2 barplot","<r><ggplot2>","4","2","1","","","CC BY-SA 2.5","1721536","4452","4452","r","404559","3625322","3607736","",""
"1721961","1","1721990","","2009-11-12 12:49:05","","1","259","<p>I'm trying to generate GOFrame objects to generate a gene ontology mapping in R for unsupported organisms (see <a href=""http://www.bioconductor.org/packages/release/bioc/vignettes/GOstats/inst/doc/GOstatsForUnsupportedOrganisms.pdf"" rel=""nofollow noreferrer"">http://www.bioconductor.org/packages/release/bioc/vignettes/GOstats/inst/doc/GOstatsForUnsupportedOrganisms.pdf</a>).</p>

<p>However, following the instructions literally doesn't help me.
Here's the code I execute (R 2.9.2 on ubuntu koala 64 bit)</p>

<pre><code>library(""AnnotationDbi"")
library(""org.Hs.eg.db"")
frame = toTable(org.Hs.egGO)
goframeData = data.frame(frame$go_id, frame$Evidence, frame$gene_id)
goFrame = GOFrame(goframeData, organism = ""Homo sapiens"")
</code></pre>

<p>However, when i try to map my dataframe into a goFrame object, I get this mistake</p>

<pre><code>Error: could not find function ""GOFrame""
</code></pre>

<p>I'm pretty sure the GOFrame wrapper is in the AnnotationDBI library, so I'm puzzled.
Any help is extra appreciated :-)</p>
","209563","","37751","","2009-11-13 18:06:44","2009-11-13 18:06:44","R statistical package: wrapping GOFrame objects","<r><statistics><bioinformatics><bioconductor>","2","0","1","","","CC BY-SA 2.5","1721961","4452","4452","r","404559","3625322","3607736","",""
"1724024","1","1724155","","2009-11-12 17:38:08","","16","5712","<p>What is the best way to make use of a C++ library in R, hopefully preserving the C++ data structures.  I'm not at all a C++ user, so I'm not clear on the relative merits of the available approaches.  The R-ext manual seems to suggest wrapping every C++ function in C.   However, at least four or five other means of incorporating C++ exist.</p>

<p>Two ways are packages w/ similar lineage, the Rcpp (maintained by the prolific overflower Dirk Eddelbuettel) and RcppTemplate packages (both on CRAN), what are the differences between the two?  </p>

<p>Another package, rcppbind available, on R forge that claims to take a different approach to binding C++ and R (I'm not knowledgeable to tell).</p>

<p>The package inline available on CRAN, claims to allow inline C/C++ I'm not sure this differs from the built in functionality, aside for allowing the code to be inline w/R.  </p>

<p>And, finally RSwig which appears to be <a href=""http://www.swig.org/Doc1.3/R.html"" rel=""noreferrer"">in the wild</a> but it is unclear how supported it is, as the <a href=""http://www.omegahat.org/RSWIG/GettingStarted.html"" rel=""noreferrer"">author's page</a> hasn't been updated for years.</p>

<p>My question is, what are the relative merits of these different approaches.  Which are the most portable and robust, which are the easiest to implement.  If you were planning to distribute a package on CRAN which of the methods would you use?</p>
","170364","","143305","","2014-12-28 15:26:56","2014-12-28 20:11:15","Using C++ libraries in an R package","<c++><r><rcpp>","1","0","7","","","CC BY-SA 2.5","1724024","4452","4452","r","404559","3625322","3607736","",""
"1725609","1","1732903","","2009-11-12 21:40:18","","9","4039","<p>I am trying to load an hdf5 into R and running into some problems.  Here are the steps I took to configure my environment:</p>

<ul>
<li>R 2.10.0 (x64) on Mac OS X 10.6</li>
<li>hdf5 1.8.3 installed via macports</li>
<li>hdf5_1.6.9.tar.gz from CRAN</li>
</ul>

<p>I suspect the problem I am having relates to incompatibilities in my version of HDF5 and the one the R module expects.  For completeness here is how I installed the R module:</p>

<blockquote>
  <p>R CMD INSTALL --configure-vars='CPPFLAGS=-I/opt/local/include' --configure-args='--with-hdf5=/opt/local' hdf5_1.6.9.tar.gz</p>
</blockquote>

<p>This builds fine.  The library seems to load without issue, but no data is returned when I try to load a file:</p>

<blockquote>
  <p>library(hdf5)</p>
  
  <p>hdf5load(""test.h5"")</p>
  
  <p>NULL</p>
</blockquote>

<p>Yet,</p>

<blockquote>
  <p>osx:data scott$ h5dump test.h5 
  HDF5 ""test.h5"" {
  GROUP ""/"" {
     DATASET ""dset"" {
        DATATYPE  H5T_STD_I32LE
        DATASPACE  SIMPLE { ( 31 ) / ( 31 ) }
        DATA {
        (0): 1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192,
        (14): 16384, 32768, 65536, 131072, 262144, 524288, 1048576, 2097152,
        (22): 4194304, 8388608, 16777216, 33554432, 67108864, 134217728,
        (28): 268435456, 536870912, 1073741824
        }
     }
  }
  }</p>
</blockquote>

<p>Any thoughts?</p>

<p>Thanks in advance.</p>
","","user174014","","","","2011-04-18 21:54:20","R and HDF5 Troubles","<r><hdf5>","2","7","4","","","CC BY-SA 2.5","1725609","4452","4452","r","404559","3625322","3607736","",""
"1727772","1","1728422","","2009-11-13 07:53:33","","527","234048","<p>I have very large tables (30 million rows) that I would like to load as a dataframes in R.  <code>read.table()</code> has a lot of convenient features, but it seems like there is a lot of logic in the implementation that would slow things down.  In my case, I am assuming I know the types of the columns ahead of time, the table does not contain any column headers or row names, and does not have any pathological characters that I have to worry about.</p>

<p>I know that reading in a table as a list using <code>scan()</code> can be quite fast, e.g.:</p>

<pre><code>datalist &lt;- scan('myfile',sep='\t',list(url='',popularity=0,mintime=0,maxtime=0)))
</code></pre>

<p>But some of my attempts to convert this to a dataframe appear to decrease the performance of the above by a factor of 6:</p>

<pre><code>df &lt;- as.data.frame(scan('myfile',sep='\t',list(url='',popularity=0,mintime=0,maxtime=0))))
</code></pre>

<p>Is there a better way of doing this?  Or quite possibly completely different approach to the problem?</p>
","162436","","107625","","2018-06-03 12:36:27","2020-09-07 02:19:38","Quickly reading very large tables as dataframes","<r><import><dataframe><r-faq>","11","0","427","","","CC BY-SA 4.0","1727772","4452","4452","r","404559","3625322","3607736","",""
"1734470","1","1735164","","2009-11-14 15:03:33","","18","1399","<p>I find R documentation to be important but also time-consuming to create/maintain.  Has anyone used <a href=""http://cran.r-project.org/web/packages/roxygen"" rel=""noreferrer""><b>Roxygen</b></a> yet, and if so, does it help in maintaining an R package?  I've used Doxygen in the past, but those projects didn't have the <em>man</em> structure that R packages require.</p>

<p>You can find <a href=""http://roxygen.org/roxygen.pdf"" rel=""noreferrer"">the vignette here</a>.</p>
","163053","","135870","","2010-02-23 05:49:21","2010-02-23 05:49:21","R documentation with Roxygen?","<documentation><r><roxygen>","2","1","5","2017-06-15 15:16:08","","CC BY-SA 2.5","1734470","4452","4452","r","404559","3625322","3607736","",""
"1734896","1","1735807","","2009-11-14 17:15:32","","21","49130","<p>I am trying to run an analysis by invoking R through the command line as follows: </p>

<pre><code>R --no-save &lt; SampleProgram.R &gt; SampleProgram.opt
</code></pre>

<p>For example, consider the simple R program below: </p>

<pre><code>mydata = read.csv(""test.txt"", header=T)
attach(mydata)
summary(Variable1)
q()
</code></pre>

<p>The output is displayed in SampleProgram.opt (only partially shown): </p>

<pre><code>&gt; mydata = read.csv(""test.txt"", header=T)
&gt; attach(mydata)
&gt; summary(Variable1)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
   1.00    1.00    2.00    2.47    3.00    4.00
&gt; q()
</code></pre>

<p>This simple R program is going to be executed by a script that needs to use the summary statistics displayed for Variable1. </p>

<p>The question is this: Is there any way in R to capture the output of summary(Variable1) and write the results into an output file? In other words, I need R to run the summary statistics for Variable1, capture the ""Min"", ""Median"" and ""Max"" values and write those alone to an output text file. In this example, the output file should contain only one line with the values ""1.00, 2.00, 4.00"" (i.e. the ""Min"", ""Median"" and ""Max"" values). </p>

<p>The example above talks about the summary function. But, I need to do that with other commands as well (such as glm)</p>

<p>I am fairly new to R and was wondering if there was a way in R that I could do this? </p>

<p>Thanks for the help.  </p>
","211082","","168225","","2010-04-08 17:44:31","2014-09-24 23:23:19","R - capturing elements of R output into text files","<command-line><r>","6","0","13","","","CC BY-SA 2.5","1734896","4452","4452","r","404559","3625322","3607736","",""
"1735540","1","1736141","","2009-11-14 20:46:51","","20","22086","<p>I have been struggling with how to make a <a href=""http://en.wikipedia.org/wiki/Pareto_chart"" rel=""nofollow noreferrer"">Pareto Chart</a> in R using the ggplot2 package. In many cases when making a bar chart or histogram we want items sorted by the X axis. In a Pareto Chart we want the items ordered descending by the value in the Y axis. Is there a way to get ggplot to plot items ordered by the value in the Y axis? I tried sorting the data frame first but it seems ggplot reorders them. </p>

<p>Example:</p>

<pre><code>val &lt;- read.csv(""http://www.cerebralmastication.com/wp-content/uploads/2009/11/val.txt"")
val&lt;-with(val, val[order(-Value), ])
p &lt;- ggplot(val)
p + geom_bar(aes(State, Value, fill=variable), stat = ""identity"", position=""dodge"") + scale_fill_brewer(palette = ""Set1"")
</code></pre>

<p>the data frame val is sorted but the output looks like this:</p>

<p><a href=""https://i.stack.imgur.com/F0Za1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/F0Za1.png"" alt=""alt text""></a><br>
<sub>(source: <a href=""http://www.cerebralmastication.com/wp-content/uploads/2009/11/exp.png"" rel=""nofollow noreferrer"">cerebralmastication.com</a>)</sub>  </p>

<p>Hadley correctly pointed out that this produces a much better graphic for showing actuals vs. predicted:</p>

<pre><code>ggplot(val, aes(State, Value)) + geom_bar(stat = ""identity"", subset = .(variable == ""estimate""), fill = ""grey70"") + geom_crossbar(aes(ymin = Value, ymax = Value), subset = .(variable == ""actual""))
</code></pre>

<p>which returns:</p>

<p><a href=""https://i.stack.imgur.com/gnlX2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/gnlX2.png"" alt=""alt text""></a><br>
<sub>(source: <a href=""http://www.cerebralmastication.com/wp-content/uploads/2009/11/exp1.png"" rel=""nofollow noreferrer"">cerebralmastication.com</a>)</sub>  </p>

<p>But it's still not a Pareto Chart. Any tips?</p>
","37751","","4751173","","2019-05-08 19:04:52","2019-12-17 03:10:56","Creating a Pareto Chart with ggplot2 and R","<r><graph><ggplot2>","8","2","12","","","CC BY-SA 4.0","1735540","4452","4452","r","404559","3625322","3607736","",""
"1738087","1","1738309","","2009-11-15 16:59:10","","137","223651","<p>I often hear people complain how expensive <a href=""https://en.wikipedia.org/wiki/MATLAB"" rel=""nofollow noreferrer"">MATLAB</a> licenses are. Then I wonder why they don't just use <a href=""https://www.gnu.org/software/octave/"" rel=""nofollow noreferrer"">Octave</a> or <a href=""https://en.wikipedia.org/wiki/R_%28programming_language%29"" rel=""nofollow noreferrer"">R</a>. But is the latter right? Can you use R to replace MATLAB?</p>
","60628","","707111","","2013-09-27 18:01:30","2013-09-27 18:01:30","What can MATLAB do that R cannot do?","<matlab><r><scientific-computing>","11","15","168","2012-02-16 03:10:45","","CC BY-SA 3.0","1738087","4452","4452","r","404559","3625322","3607736","",""
"1739442","1","","","2009-11-16 00:24:10","","9","4369","<p>I'm working with a small team of analysts and statisticians on what will be a medium-sized body of R code. They're smart people, but they're not trained or experienced as programmers, per se. (I am.) They've written some R code, but for our project to be expandable, efficient, and maintainable, it needs to become well-structured, and rather more piratical. One of the better way to learn to be a better programmer is to study elegant existing code. Can anyone suggest some open source examples of R code (on CRAN or wherever) that you think are particularly clear, literate, and good examples? Functional is good, S3 objects are OK, deep magic is bad. </p>
","135944","","5414452","","2016-01-04 08:47:04","2016-01-04 08:47:04","What's a good example of really clean and clear [R] code, for pedagogical purposes?","<r><coding-style>","2","0","9","2014-09-16 13:14:28","2009-11-16 00:24:10","CC BY-SA 2.5","1739442","4452","4452","r","404559","3625322","3607736","",""
"1740524","1","1740562","","2009-11-16 06:58:47","","102","269306","<p>Can someone recommend a function that can allow me to count and return the number of items in a list?</p>
<pre><code>library(stringr)

l &lt;- strsplit(words, &quot;a&quot;)

if(# number of items in list l &lt; 1) 
  next
</code></pre>
","141789","","2323094","","2021-05-28 04:19:59","2021-05-28 04:19:59","R: Count number of objects in list","<list><r><count>","5","1","21","2017-01-30 20:52:24","","CC BY-SA 4.0","1740524","4452","4452","r","404559","3625322","3607736","",""
"1740774","1","1740818","","2009-11-16 08:12:24","","3","188","<p>Spaces are redundant when reporting a binary sequence. This code</p>

<pre><code>x &lt;- '1 0 0 0 0 0 1 1 0 1 0 1 1 0 '
y&lt;-gsub(' +', '', x)
</code></pre>

<p>does the job so I can copy and paste from R. How do I do the same for 0-1 sequences (and other one-digit data) in others formats, e.g.,</p>

<pre><code>x &lt;- c(1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1, 0)
</code></pre>

<p>or</p>

<pre><code>toString(x)
</code></pre>

<p>or whatever (for the sake of learning various options)? Thanks.</p>
","182378","","1315767","","2014-01-01 17:35:44","2014-01-01 17:35:44","0-1 sequence without spaces","<r><sequence><spaces>","2","0","","","","CC BY-SA 3.0","1740774","4452","4452","r","404559","3625322","3607736","",""
"1741820","1","51564252","","2009-11-16 12:14:51","","805","265440","<p>What are the differences between the assignment operators <code>=</code> and <code>&lt;-</code> in R? </p>

<p>I know that operators are slightly different, as this example shows</p>

<pre><code>x &lt;- y &lt;- 5
x = y = 5
x = y &lt;- 5
x &lt;- y = 5
# Error in (x &lt;- y) = 5 : could not find function ""&lt;-&lt;-""
</code></pre>

<p>But is this the only difference? </p>
","203420","","202229","","2019-08-30 18:15:55","2021-01-21 14:07:26","What are the differences between ""="" and ""<-"" assignment operators in R?","<r><assignment-operator><r-faq>","7","1","272","","","CC BY-SA 4.0","1741820","4452","4452","r","404559","3625322","3607736","",""
"1743698","1","1743796","","2009-11-16 17:39:31","","302","202621","<p>I'm curious to know if R can use its <code>eval()</code> function to perform calculations provided by e.g. a string.</p>

<p>This is a common case:</p>

<pre><code>eval(""5+5"")
</code></pre>

<p>However, instead of 10 I get:</p>

<pre><code>[1] ""5+5""
</code></pre>

<p>Any solution?</p>
","209467","","680068","","2017-02-28 10:54:03","2020-09-20 00:47:58","Evaluate expression given as a string","<r><eval><r-faq>","7","3","111","","","CC BY-SA 3.0","1743698","4452","4452","r","404559","3625322","3607736","",""
"1744861","1","1744882","","2009-11-16 21:07:00","","105","89635","<p>I'd like to know how to learn the R language as as 'programming' language as opposed to learning it as a statistical system. My question is prompted by lack of understanding of such functions as parse, eval, etc. which may not find frequent use by an R user with a 'statistics' persuasion.</p>

<p>Edit: I've been exploring such tools like Rpy RSPerl rJava and wish to (at the very least) be able to understand concepts that facilitate R's communication with other programming languages. </p>

<p>The availability of Web applications for R (R-PHP, RApache, etc.) is another motivationg factor for me to gain a deeper, more structural understanding of R.</p>

<p>Last but not the least, I'd like to be able to write R packages for which such understanding would be beneficial if not necessary.</p>
","177390","","10323798","","2019-04-19 20:32:48","2019-04-19 20:32:48","How to learn R as a programming language","<r>","4","6","115","2013-07-24 10:09:07","","CC BY-SA 4.0","1744861","4452","4452","r","404559","3625322","3607736","",""
"1745514","1","1745592","","2009-11-16 23:19:22","","12","15660","<p>I am writing an R function, and I want to make sure that the argument of my R function is of a certain class (eg, ""matrix"").</p>

<p>What is the best way to do this?</p>

<p>Say I have a function ""foo"" which computes the inverse of a matrix:</p>

<pre><code>foo &lt;- function(x)
{
   # I want to make sure x is of type ""matrix""
   solve(x)
}
</code></pre>

<p>How can I say - as you might in C - <code>function(matrix x)</code> to denote that ""<code>x</code> must be of type <code>matrix</code>, and if it isn't, then return an error""?</p>
","3788","","","","","2009-11-17 04:02:40","How to define argument types for R functions?","<r>","3","0","3","","","CC BY-SA 2.5","1745514","4452","4452","r","404559","3625322","3607736","",""
"1745622","1","1745687","","2009-11-16 23:44:25","","34","58858","<p>I am writing R code to create a square matrix. So my approach is:</p>

<ol>
<li>Allocate a matrix of the correct size</li>
<li>Loop through each element of my matrix and fill it with an appropriate value</li>
</ol>

<p>My question is really simple: what is the best way to pre-allocate this matrix? Thus far, I have two ways:</p>

<pre><code>&gt; x &lt;- matrix(data=NA,nrow=3,ncol=3)
&gt; x
     [,1] [,2] [,3]
[1,]   NA   NA   NA
[2,]   NA   NA   NA
[3,]   NA   NA   NA
</code></pre>

<p>or</p>

<pre><code>&gt; x &lt;- list()
&gt; length(x) &lt;- 3^2
&gt; dim(x) &lt;- c(3,3)
&gt; x
     [,1] [,2] [,3]
[1,] NULL NULL NULL
[2,] NULL NULL NULL
[3,] NULL NULL NULL
</code></pre>

<p>As far as I can see, the former is a more concise method than the latter. Also, the former fills the matrix with NAs, whereas the latter is filled with NULLs.</p>

<p>Which is the ""better"" way to do this? In this case, I'm defining ""better"" as ""better performance"", because this is statistical computing and this operation will be taking place with large datasets.</p>

<p>While the former is more concise, it isn't breathtakingly easier to understand, so I feel like this could go either way.</p>

<p>Also, what is the difference between NA and NULL in R? ?NA and ?NULL tell me that ""NA"" has a length of ""1"" whereas NULL has a length of ""0"" - but is there more here? Or a best practice? This will affect which method I use to create my matrix.</p>
","3788","","","","","2017-04-13 14:52:39","Best way to allocate matrix in R, NULL vs NA?","<r><matrix>","3","2","9","","","CC BY-SA 2.5","1745622","4452","4452","r","404559","3625322","3607736","",""
"1748590","1","1748932","","2009-11-17 12:36:48","","5","2399","<p>since the latest Ubuntu release (karmic koala), I noticed that the internal R package advertises on start-up the <a href=""http://www.revolution-computing.com/"" rel=""nofollow noreferrer"">REvolution</a> package.
It seems to be a library collection for high-performance matrix calculations. And it seems to really work, apparently. For example on a matrix transposition with REvolution:</p>

<pre><code>&gt; system.time(t(matrix(rnorm(10000000),ncol=1000)))
   user  system elapsed 
  1.280   0.150   1.556 
</code></pre>

<p>And without REvolution:</p>

<pre><code>&gt; system.time(t(matrix(rnorm(10000000),ncol=1000)))
   user  system elapsed 
  1.320   0.170   1.725 
</code></pre>

<p>Is anyone using it? Is it really working? Which specific types of calculation is it improving and how? Any drawback?</p>

<p>Thanks :-)</p>
","209467","","209467","","2009-11-17 16:54:42","2010-04-07 07:24:15","REvolution for R","<r><mathematical-packages>","3","1","2","","","CC BY-SA 2.5","1748590","4452","4452","r","404559","3625322","3607736","",""
"1751540","1","","","2009-11-17 20:27:56","","4","9769","<p>Suppose you're trying to create a data frame within a function.  I would like to be able to define the column names ahead of time as one of the parameters of the function.  Take the following code:</p>

<pre><code>  foo &lt;- function(a) {
    answer &lt;- data.frame(a=1:5)
    return(answer)
    }
</code></pre>

<p>In the above example, I would like to be able to specify the value of the column name in the function <code>foo()</code>, e.g. <code>foo('my.name')</code> so that answer has the column name <code>my.name</code> instead of <code>a</code>.  I imagine you could code this up within the function using <code>colnames()</code>, but I was interested in an alternative approach.</p>
","142477","","","","","2014-08-03 19:17:00","specifying column names of a data frame within a function ahead of time","<r>","4","4","1","","","CC BY-SA 2.5","1751540","4452","4452","r","404559","3625322","3607736","",""
"1753299","1","1757352","","2009-11-18 02:42:43","","6","14325","<p>I am trying to use the <code>kernlab</code> R package to do Support Vector Machines (SVM). For my very simple example, I have two pieces of training data. A and B.</p>

<p>(A and B are of type <code>matrix</code> - they are adjacency matrices for graphs.)</p>

<p>So I wrote a function which takes A+B and generates a kernel matrix.</p>

<pre><code>&gt; km
         [,1]     [,2]
[1,] 14.33333 18.47368
[2,] 18.47368 38.96053
</code></pre>

<p>Now I use <code>kernlab</code>'s <code>ksvm</code> function to generate my predictive model. Right now, I'm just trying to get the darn thing to work - I'm not worried about training error, etc.</p>

<p>So, <strong>Question 1</strong>: Am I generating my model correctly? Reasonably?</p>

<pre><code># y are my classes. In this case, A is in class ""1"" and B is in class ""-1""
&gt; y
[1]  1 -1

&gt; model2 =  ksvm(km, y, type=""C-svc"", kernel = ""matrix"");
&gt; model2
Support Vector Machine object of class ""ksvm"" 

SV type: C-svc  (classification) 
 parameter : cost C = 1 

[1] "" Kernel matrix used as input.""

Number of Support Vectors : 2 

Objective Function Value : -0.1224 
Training error : 0 
</code></pre>

<p>So far so good. We created our custom kernel matrix, and then we created a ksvm model using that matrix. We have our training data labeled as ""1"" and ""-1"".</p>

<p>Now to predict:</p>

<pre><code>&gt; A
     [,1] [,2] [,3]
[1,]    0    1    1
[2,]    1    0    1
[3,]    0    0    0

&gt; predict(model2, A)
Error in as.matrix(Z) : object 'Z' not found
</code></pre>

<p>Uh-oh. This is okay. Kind of expected, really. ""Predict"" wants some sort of vector, not a matrix.</p>

<p>So lets try some things:</p>

<pre><code>&gt; predict(model2, c(1))
Error in as.matrix(Z) : object 'Z' not found
&gt; predict(model2, c(1,1))
Error in as.matrix(Z) : object 'Z' not found
&gt; predict(model2, c(1,1,1))
Error in as.matrix(Z) : object 'Z' not found
&gt; predict(model2, c(1,1,1,1))
Error in as.matrix(Z) : object 'Z' not found
&gt; predict(model2, km)
Error in as.matrix(Z) : object 'Z' not found
</code></pre>

<p>Some of the above tests are nonsensical, but that is my point: no matter what I do, I just can't get predict() to look at my data and do a prediction. Scalars don't work, vectors don't work. A 2x2 matrix doesn't work, nor does a 3x3 matrix.</p>

<p><strong>What am I doing wrong here?</strong></p>

<p>(Once I figure out what ksvm <em>wants</em>, then I can make sure that my test data can conform to that format in a sane/reasonable/mathematically sound way.)</p>
","3788","","","","","2015-03-04 05:52:33","Help using predict() for kernlab's SVM in R?","<r><svm><kernlab>","4","0","8","","","CC BY-SA 2.5","1753299","4452","4452","r","404559","3625322","3607736","",""
"1753950","1","","","2009-11-18 05:59:51","","0","1569","<p>I am probably being unreasonable asking for help debugging a program, but I have spent a day and a half on this pretty simple bit of code and have run out of ideas. I am trying to optimize a function called ""log.pr.data"" with respect to its first argument. </p>

<p>Because the function optimize requires you to set bounds on the argument I decided to use <code>nlm</code> which only requires a starting point. I have checked with simple examples that <code>nlm</code> is indeed able to pass functions as arguments. My problem is that I am unable to pass a function as an argument in this particular case. </p>

<p>So here is the objective function (with two print diagnostics). I want to maximize it with respect to the argument lambda.s. (As a matter of interest, I am not maximizing a likelihood here. I am trying to optimize an importance sampler.)</p>

<pre><code>log.pr.data&lt;-function(lambda.s,n1,n0,lambda.star,psi0,tobs,g=T.chan){
           print(""Function log.pr.data"")
           print(g)
          psi.s&lt;-boundary(lambda.s,g,psi0,tobs,n1,n0)
         -my.dbinom(n0*lambda.s,n0,lambda.star,log=TRUE)
}
</code></pre>

<p>I have no problems with the command:</p>

<pre><code>nlm(log.pr.data,p=0.6,n1=n1,n0=n0,lambda.star=lambda.star,psi0=psi0,tobs=tobs)
</code></pre>

<p>It works fine. But I want to be able to change the function g=T.chan. So I redefined the function leaving g unspecified in log.pr.data. In other words, I just removed the ""=T.chan"" in the argument list. I checked that the function works OK. For instance with the command</p>

<pre><code> log.pr.data(l,n1,n0,lambda.star,psi0,tobs,T.chan)
</code></pre>

<p>for a range of values of ""l"" and it works fine and gives the same values as the previous function where g=T.chan is specified in the argument list. So the function T.chan is being passed properly it appears.</p>

<p>I then try to optimize</p>

<pre><code>nlm(log.pr.data,p=0.6,n1=n1,n0=n0,lambda.star=lambda.star,psi0=psi0,tobs=tobs,g=T.chan)
</code></pre>

<p>and I get the error</p>

<blockquote>
  <p>Error in nlm(function(x) f(x, ...), p,
  hessian, typsize, fscale, msg,  : 
          invalid NA value in parameter</p>
</blockquote>

<p>It is also interesting that there does not seem to be a single call to log.pr.data because ""Function log.pr.data"" is not printed. In earlier attempts to troubleshoot this problem, I realized that I was using the symbol ""f"" for the function being passed and that this might cause problems because <code>nlm</code> called its objective function ""f"". So I changed it to ""g"" throughout.</p>
","213513","","10068985","","2019-02-22 15:35:10","2019-02-22 15:35:10","Passing a function argument through R-function nlm","<r><nlm>","1","1","","","","CC BY-SA 4.0","1753950","4452","4452","r","404559","3625322","3607736","",""
"1755642","1","1755688","","2009-11-18 12:28:26","","1","7216","<p>This is a really really simple question to which I seem to be entirely unable to get a solution. I would like to do a scatter plot of an observed time series in R, and over this I want to plot the fitted model.</p>

<p>So I try something like:</p>

<pre><code>model &lt;- lm(x~y+z)
plot(x)
lines(fitted(model))
</code></pre>

<p>But this just plots x with lines.</p>

<p>Thanks</p>
","141789","","4895725","","2016-06-10 21:21:21","2017-07-05 14:57:43","How to plot fitted model over observed time series","<r><plot>","3","1","","","","CC BY-SA 3.0","1755642","4452","4452","r","404559","3625322","3607736","",""
"1756209","1","","","2009-11-18 14:01:56","","6","5927","<p>Is there a simple way to check if <code>R functions</code> and <code>packages</code> have <code>demo()</code> and <code>example()</code> methods?</p>

<p>When building a package, does the package need to have the necessary objects so that <code>demo()</code> and <code>example()</code> can be called on it?</p>

<p><strong>Edit:</strong> In trying to answer this, I checked the source code of <code>demo()</code></p>

<pre><code>demo(package = .packages(all.available = TRUE)) # check which packages have demo
</code></pre>
","177390","","3392044","","2016-03-03 11:42:52","2016-03-03 11:42:52","R demo() and example() methods?","<r>","2","0","0","","","CC BY-SA 3.0","1756209","4452","4452","r","404559","3625322","3607736","",""
"1760068","1","","","2009-11-19 00:16:15","","4","5937","<p>I am trying to add a line to a plot of points, and I can't figure it out.  My y values are numbers from 0 to Inf, while my x values are from an ordered factor.</p>

<p>Here is the plotting code, which only displays points:</p>

<pre><code>g = ggplot() +
  layer(data = ratesdf, mapping = aes(x = age, y = rates), geom = ""point"", stat=""identity"") +
  layer(data = ratesdf, mapping = aes(x = age, y = rates), geom = ""smooth"", stat = ""smooth"", method = loess)
print(g)
</code></pre>

<p>Here is the dataframe:</p>

<pre><code>          rates      age
[0,5)    0.00000000    [0,5)
[5,10)   0.00000000   [5,10)
[10,15)  0.00000000  [10,15)
[15,20)  0.02017059  [15,20)
[20,25)  0.32707402  [20,25)
[25,30)  0.54013169  [25,30)
[30,35)  0.71698958  [30,35)
[35,40)  0.81120944  [35,40)
[40,45)  0.87283637  [40,45)
[45,50)  0.91411649  [45,50)
[50,55)  0.91273334  [50,55)
[55,60)  0.95627322  [55,60)
[60,65)  0.92879819  [60,65)
[65,70)  0.98088779  [65,70)
[70,75)  0.90406674  [70,75)
[75,80)  1.00000000  [75,80)
[80,85)  1.00000000  [80,85)
[85,Inf] 1.00000000 [85,Inf]
</code></pre>

<p>Thanks to everyone in advance!</p>

<p>(Hadley, I promise to buy your book as soon as I get my annual birthday giftcards :)  )</p>
","214198","","","","","2009-11-19 11:12:27","Adding a line to ggplot","<r><ggplot2>","2","4","0","","","CC BY-SA 2.5","1760068","4452","4452","r","404559","3625322","3607736","",""
"1761852","1","","","2009-11-19 08:56:41","","1","4099","<p>I've fitted a VECM model in R, and converted in to a VAR representation. I would like to use this model to predict the future value of a response variable based on different scenarios for the explanatory variables.</p>

<p>Here is the code for the model:</p>

<pre><code>library(urca)
library(vars)

input &lt;-read.csv(""data.csv"")
ts &lt;- ts(input[16:52,],c(2000,1),frequency=4)
dat1 &lt;- cbind(ts[,""dx""], ts[,""u""], ts[,""cci""],ts[,""bci""],ts[,""cpi""],ts[,""gdp""])

args('ca.jo')
vecm &lt;- ca.jo(dat1, type = 'trace', K = 2, season = NULL,spec=""longrun"",dumvar=NULL)
vecm.var &lt;- vec2var(vecm,r=2)    
</code></pre>

<p>Now what I would like do is to predict ""dx"" into the future by varying the others. I am not sure if something like ""predict dx if u=30,cpi=15,bci=50,gdp=..."" in the next period would work. So what I have in mind is something along the lines of: increase ""u"" by 15% in the next period (which would obviously impact on all the other variables as well, including ""dx"") and predict the impact into the future.</p>

<p>Also, I am not sure if the ""vec2var"" step is necessary, so please ignore it if you think it is redundant.</p>

<p>Thanks<br>
Karl</p>
","141789","","141789","","2009-11-20 10:12:18","2009-11-23 15:54:29","R: Use VAR model to predict response to change in values of certain variables","<r><model><statistics><regression>","2","1","","","","CC BY-SA 2.5","1761852","4452","4452","r","404559","3625322","3607736","",""
"1769365","1","1769581","","2009-11-20 09:36:18","","11","11756","<p>Data I'm importing describes numeric measurements taken at various locations for more or less evenly spread timestamps.  sometimes this ""evenly spread"" is not really true and I have to discard some of the values, it's not that important which one, as long as I have one value for each timestamp for each location.  </p>

<p>what I do with the data?  I add it to a <code>result</code> data.frame.  There I have a <code>timestamp</code> column and the values in the timestamp column, they are definitely evenly spaced according to the <code>step</code>.</p>

<pre><code>timestamps &lt;- ceiling(as.numeric((timestamps-epoch)*24*60/step))*step*60 + epoch
result[result$timestamp %in% timestamps, columnName] &lt;- values
</code></pre>

<hr>

<p>This does NOT work when I have timestamps that fall in the same time step.  This is an example:</p>

<pre><code>&gt; data.frame(ts=timestamps, v=values)
                   ts         v
1 2009-09-30 10:00:00 -2.081609
2 2009-09-30 10:04:18 -2.079778
3 2009-09-30 10:07:47 -2.113531
4 2009-09-30 10:09:01 -2.124716
5 2009-09-30 10:15:00 -2.102117
6 2009-09-30 10:27:56 -2.093542
7 2009-09-30 10:30:00 -2.092626
8 2009-09-30 10:45:00 -2.086339
9 2009-09-30 11:00:00 -2.080144
&gt; data.frame(ts=ceiling(as.numeric((timestamps-epoch)*24*60/step))*step*60+epoch,
+ v=values)
                   ts         v
1 2009-09-30 10:00:00 -2.081609
2 2009-09-30 10:15:00 -2.079778
3 2009-09-30 10:15:00 -2.113531
4 2009-09-30 10:15:00 -2.124716
5 2009-09-30 10:15:00 -2.102117
6 2009-09-30 10:30:00 -2.093542
7 2009-09-30 10:30:00 -2.092626
8 2009-09-30 10:45:00 -2.086339
9 2009-09-30 11:00:00 -2.080144
</code></pre>

<p>in Python I would (mis)use a dictionary to achieve what I need:</p>

<pre><code>dict(zip(timestamps, values)).items()
</code></pre>

<p>returns a list of pairs where the first coordinate is unique.</p>

<p>in R I don't know how to do it in a compact and efficient way.</p>
","78912","","2706826","","2017-07-05 09:21:14","2017-07-05 09:21:14","how to remove partial duplicates from a data frame?","<r>","2","0","8","","","CC BY-SA 3.0","1769365","4452","4452","r","404559","3625322","3607736","",""
"1770787","1","1771083","","2009-11-20 14:29:55","","10","16276","<p>I would like to know how I can access the individual fields contained in an R object. Or, more precisely, how to get R to tell me how.</p>

<p>For example, if I run the following code:</p>

<pre><code>dx.ct &lt;- ur.df(dat1[,'dx'], lags=3, type='trend')
summary(dx.ct)
</code></pre>

<p>then I get this output:</p>

<pre><code>############################################### 
# Augmented Dickey-Fuller Test Unit Root Test # 
############################################### 

Test regression trend 


Call:
lm(formula = z.diff ~ z.lag.1 + 1 + tt + z.diff.lag)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.46876 -0.24506  0.02420  0.15752  0.66688 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)  1.099231   0.561377   1.958   0.0606 .
z.lag.1     -0.239438   0.141093  -1.697   0.1012  
tt          -0.019831   0.007799  -2.543   0.0170 *
z.diff.lag1 -0.306326   0.193001  -1.587   0.1241  
z.diff.lag2 -0.214229   0.186135  -1.151   0.2599  
z.diff.lag3 -0.223433   0.179040  -1.248   0.2228  
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 

Residual standard error: 0.3131 on 27 degrees of freedom
Multiple R-squared: 0.3326,     Adjusted R-squared: 0.209 
F-statistic: 2.691 on 5 and 27 DF,  p-value: 0.04244 


Value of test-statistic is: -1.697 2.4118 3.2358 

Critical values for test statistics: 
      1pct  5pct 10pct
tau3 -4.15 -3.50 -3.18
phi2  7.02  5.13  4.31
phi3  9.31  6.73  5.61
</code></pre>

<p>So, I know that I should be able to access all of the values above individually, I don't know how to point to them. Is there some way to ask R to show me how they are stored?</p>

<p>I am thinking along the lines of:</p>

<pre><code>showobjects(summary(dx.ct))
</code></pre>

<p>And then it outputs</p>

<pre><code>$formula
$residuals
$coefficients
etc.
</code></pre>

<p>and then I can do</p>

<pre><code>showobjects(summary(dx.ct)$residuals)
</code></pre>

<p>which then outputs</p>

<pre><code>$min
$1Q
$median
etc.
</code></pre>

<p>Thanks<br>
Karl</p>
","141789","","","","","2012-10-11 04:16:14","R: access field values","<r><object><names>","4","0","3","","","CC BY-SA 2.5","1770787","4452","4452","r","404559","3625322","3607736","",""
"1772964","1","1772995","","2009-11-20 20:11:34","","1","1049","<p>What is the problem with initializing a matrix object to <code>NULL</code> and then growing it with <code>cbind()</code> and <code>rbind()</code>?
In case the number of rows and columns are not known a priori, is it not necessary to grow from <code>NULL</code>?</p>

<p>Edit: My question was prompted by the need to understand memory efficient ways of writing R code. The matrix context is more general and I'm probably looking for suggestions about efficient ways to handle other data objects as well.
Apologize for being too abstract/generic, but I did not really have a specific problem in mind.</p>
","177390","","5466118","","2016-03-03 19:22:43","2016-03-03 19:22:43","Growing matrices in R from NULL","<r>","1","0","","","","CC BY-SA 3.0","1772964","4452","4452","r","404559","3625322","3607736","",""
"1773366","1","","","2009-11-20 21:31:12","","17","3842","<p>Consider the following code.  When you don't explicitly test for <code>NA</code> in your condition, that code will fail at some later date then your data changes.</p>

<pre><code>&gt;   # A toy example
&gt;   a &lt;- as.data.frame(cbind(col1=c(1,2,3,4),col2=c(2,NA,2,3),col3=c(1,2,3,4),col4=c(4,3,2,1)))
&gt;   a
  col1 col2 col3 col4
1    1    2    1    4
2    2   NA    2    3
3    3    2    3    2
4    4    3    4    1
&gt;   
&gt;   # Bummer, there's an NA in my condition
&gt;   a$col2==2
[1]  TRUE    NA  TRUE FALSE
&gt; 
&gt;   # Why is this a good thing to do?
&gt;   # It NA'd the whole row, and kept it
&gt;   a[a$col2==2,]
   col1 col2 col3 col4
1     1    2    1    4
NA   NA   NA   NA   NA
3     3    2    3    2
&gt;   
&gt;   # Yes, this is the right way to do it
&gt;   a[!is.na(a$col2) &amp; a$col2==2,]
  col1 col2 col3 col4
1    1    2    1    4
3    3    2    3    2
&gt;     
&gt;   # Subset seems designed to avoid this problem
&gt;   subset(a, col2 == 2)
  col1 col2 col3 col4
1    1    2    1    4
3    3    2    3    2
</code></pre>

<p>Can someone explain why the behavior you get without the <code>is.na</code> check would ever be good or useful?</p>
","215811","","190277","","2013-10-17 16:29:37","2013-10-17 16:29:37","An NA in subsetting a data.frame does something unexpected","<r>","1","0","7","","","CC BY-SA 3.0","1773366","4452","4452","r","404559","3625322","3607736","",""
"1774112","1","","","2009-11-21 00:51:12","","0","1404","<p>I had Eclipse 3.4 working nicely with the R Console over rJava. I want to get Sweave working in Eclipse, but need Eclipse 3.5 / statet 0.8 to do it.</p>

<p>When I try to start the rJava Console the JVM starts, but no feedback comes back to the console in Eclipse.</p>

<p>JVM process below - any help gratefully received.</p>

<p>Thanks, Dave</p>

<pre><code>dave     23183 22325  0 Nov20 pts/0    00:00:52 /home/dave/dev/app/jdk1.6.0_18/bin/java -Djava.security.policy=jar:file:/home/dave/dev/app/eclipse-3.5/plugins/de.walware.statet.r.core_0.8.0.b200909221530sw.jar!/localhost.policy -Djava.rmi.server.hostname=127.0.0.1 -Djava.rmi.server.codebase=file:///home/dave/dev/app/eclipse-3.5/plugins/de.walware.rj.server_0.3.0.b200909221530sw.jar -Xss8192k -Dfile.encoding=UTF-8 -classpath /home/dave/dev/app/eclipse-3.5/plugins/de.walware.rj.server_0.3.0.b200909221530sw.jar:/home/dave/dev/app/eclipse-3.5/plugins/de.walware.rj.data_0.3.0.b200909221530sw.jar:/home/dave/dev/app/eclipse-3.5/plugins/org.eclipse.swt_3.5.1.v3555a.jar:/home/dave/dev/app/eclipse-3.5/plugins/org.eclipse.swt.gtk.linux.x86_3.5.1.v3555a.jar de.walware.rj.server.RMIServerControl start ///rjs-local-1258679148742 -auth=none -plugins=awt,
</code></pre>
","200303","","","","","2009-11-21 02:12:57","Eclipse 3.5 / Statet / R Console not working on Ubuntu linux","<linux><eclipse><r><ubuntu>","1","0","","","","CC BY-SA 2.5","1774112","4452","4452","r","404559","3625322","3607736","",""
"1774559","1","","","2009-11-21 04:53:44","","0","2267","<p>I asked this on Super User, but someone suggested that I take it here because there are many more R experts.</p>
The question:
<p>I have to keep navigating to my directory when I go to File &gt; Change dir..., which is particularly annoying.</p>
<p>Does anyone know how to make R remember the previously used directory?</p>
","177541","","-1","","2020-06-20 09:12:55","2009-12-01 07:26:10","Getting R to store the working directory for every session","<r><directory>","5","5","0","","","CC BY-SA 2.5","1774559","4452","4452","r","404559","3625322","3607736","",""
"1776014","1","1776097","","2009-11-21 16:53:30","","41","34672","<p>Let's say I have an R source file comprised of some functions, doesn't matter what they are, e.g.,</p>

<pre><code>fnx = function(x){(x - mean(x))/sd(x)}
</code></pre>

<p>I would like to be able to access them in my current R session (without typing them in obviously). It would be nice if library(""/path/to/file/my_fn_lib1.r"") worked, as ""import"" works in Python, but it doesn't. One obvious solution is to create an R Package, but i want to avoid that overhead just to import a few functions.</p>
","66549","","","","","2009-11-21 17:45:13","Importing Functions into Current Namespace","<r>","1","0","8","","","CC BY-SA 2.5","1776014","4452","4452","r","404559","3625322","3607736","",""
"1777351","1","","","2009-11-22 00:43:01","","3","825","<p>Im trying to do principal component analysis in R . There is 2 ways of doing it , I believe. 
One is doing  principal component analysis right away the other way is  standardizing the matrix first  using s = scale(m)and then apply principal component analysis.<br>
How  do I tell what result is better ? What values in particular should i look at . I already managed to find the eigenvalues and eigenvectors , the proportion of  variance for each eigenvector using both methods. </p>

<p>I noticed that the proportion of the variance for the first  pca without standardizing had a larger  value . Is there a meaning to it ? Isnt this always the case?</p>

<p>At last , if I am  supposed to predict a variable ie weight should I drop the variable ie weight from my data matrix when I do principal component analysis ?</p>
","216298","","135944","","2009-11-22 23:30:31","2009-11-22 23:30:31","how do tell if its better to standardize your data matrix first when you do principal component analysis in R?","<r><statistics><numerical-analysis><pca>","1","1","","","","CC BY-SA 2.5","1777351","4452","4452","r","404559","3625322","3607736","",""
"1779916","1","1779979","","2009-11-22 20:36:44","","0","861","<p>Basically I want to know why <code>as.Date(200322,format=""%Y%W"")</code> gives me <code>NA</code>. While we are at it, I would appreciate any advice on a data structure for repeated cross-section (aka pseudo-panel) in R.
I did get <code>aggregate()</code> to (sort of) work, but it is not flexible enough - it misses data on columns when I omit the missed values, for example.
Specifically, I have a survey that is repeated weekly for a couple of years with a bunch of similar questions answers to which I would like to combine, average, condition and plot in both dimensions. Getting the date conversion right should presumably help me towards my goal with zoo package or something similar.</p>

<p>Any input is appreciated.</p>

<p>Update: thanks for string suggestion, but as you can see in your own example, <code>%W</code> part doesn't work - it only identifies the year while setting the current day while I need to set a specific week (and leave the day blank).</p>
","216611","","3671495","","2015-10-25 21:48:46","2015-10-25 21:48:46","Specific date format conversion problems in R","<r><date>","1","2","","","","CC BY-SA 3.0","1779916","4452","4452","r","404559","3625322","3607736","",""
"1782704","1","1782785","","2009-11-23 11:57:32","","10","1916","<p>I'm learning R and I'm curious...  I need a function that does this:</p>

<pre><code>&gt; fillInTheBlanks(c(1, NA, NA, 2, 3, NA, 4))
[1] 1 1 1 2 3 3 4
&gt; fillInTheBlanks(c(1, 2, 3, 4))
[1] 1 2 3 4
</code></pre>

<p>and I produced this one...  but I suspect there's a more R way to do this.</p>

<pre><code>fillInTheBlanks &lt;- function(v) {
  ## replace each NA with the latest preceding available value

  orig &lt;- v
  result &lt;- v
  for(i in 1:length(v)) {
    value &lt;- v[i]
    if (!is.na(value))
      result[i:length(v)] &lt;- value
  }
  return(result)
}
</code></pre>
","78912","","5414452","","2016-01-08 21:25:37","2018-10-08 04:16:45","propagating data within a vector","<r><vector>","5","0","5","","","CC BY-SA 2.5","1782704","4452","4452","r","404559","3625322","3607736","",""
"1783254","1","1783407","","2009-11-23 13:54:56","","4","3031","<blockquote>
<p><strong>Possible Duplicates:</strong><br />
<a href=""https://stackoverflow.com/questions/1439059/best-ide-texteditor-for-r"">Best IDE / TextEditor for R</a><br />
<a href=""https://stackoverflow.com/questions/1173463/recommendations-for-windows-text-editor-for-r"">Recommendations for Windows text editor for R</a></p>
</blockquote>
<p>Dear All,</p>
<p>I teach a large introductory R course (about 100 students), and would like to recommend suitable text editors for R. The students who attend this course are first year mathematics undergraduates doing their very first course in R. They have never programmed in any language before.</p>
<p>For the vast majority of them, it wouldn't beneficial for them to learn to use a 'complex editor' - by this I mean <em>emacs</em> and <em>vi</em>.</p>
<p>What I would like to do is recommend simple text editors that are</p>
<ul>
<li>free</li>
<li>can be easily installed on their laptops by users with little computer knowledge</li>
<li>have R syntax highlighting.</li>
<li>available for Windows or Mac.</li>
</ul>
<p>For windows I've found:</p>
<ul>
<li><a href=""http://www.sciviews.org/Tinn-R/"" rel=""nofollow noreferrer"">TINN-R</a></li>
<li><a href=""http://notepad-plus.sourceforge.net/uk/site.htm"" rel=""nofollow noreferrer"">Notepad ++</a> with the <a href=""http://sourceforge.net/projects/npptor/files/"" rel=""nofollow noreferrer"">R plugin</a></li>
</ul>
<p>Are there any others that I've missed for Windows?</p>
<p>There are a few threads that deal with R text editors:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/1439059/best-ide-texteditor-for-r"">Best IDE / TextEditor for R</a></li>
<li><a href=""https://stackoverflow.com/questions/1173463/recommendations-for-windows-text-editor-for-r"">Recommendations for Windows text editor for R</a></li>
<li><a href=""https://stackoverflow.com/questions/1097367/which-ide-for-r-in-linux"">Which IDE for R in Linux?</a></li>
</ul>
<p>but these are a bit too complicated for my purpose.</p>
<h1>Edits</h1>
<p>Following comments from Shane and others I've reworded the question.</p>
","203420","","-1","","2020-06-20 09:12:55","2013-08-22 20:47:34","R text editors for introductory statistics courses","<r><editor>","7","4","","2009-11-24 10:29:11","","CC BY-SA 2.5","1783254","4452","4452","r","404559","3625322","3607736","",""
"1785118","1","","","2009-11-23 18:42:48","","10","9313","<p>I'm a developer up in Portland, OR. I'm wondering if anyone can assist:</p>

<p>I'm working on Loess fit models using R, once I have the fit
accomplished, I'm looking to back-out the equation of the
fitted non-linear curve, wondering if there is a way to
determine this equation in R? I've been looking but can't find
any literature. For me, the graph of the function is great, but
without the equation of the graph, I'm kinda dead in the water.</p>
","217242","","163053","","2009-11-23 19:24:35","2015-10-15 19:15:05","Loess Fit and Resulting Equation","<r><curve-fitting><loess>","4","1","3","","","CC BY-SA 2.5","1785118","4452","4452","r","404559","3625322","3607736","",""
"1785320","1","1788024","","2009-11-23 19:13:26","","8","7891","<p>I am currently using <code>cast</code> on a melted table to calculate the total of each value at the combination of ID variables ID1 (row names) and ID2 (column headers), along with grand totals for each row using <code>margins=""grand_col""</code>. </p>

<p><code>c &lt;- cast(m, ID1 ~ ID2, sum, margins=""grand_col"")</code></p>

<pre><code>  ID1      ID2a  ID2b     ID2c     ID2d   ID2e    (all)
1  ID1a  6459695  885473  648019  453613 1777308 10224108
2  ID1b  7263529 1411355  587785  612730 2458672 12334071
3  ID1c  7740364 1253524  682977  886897 3559283 14123045
</code></pre>

<p>So far, so R-like.</p>

<p>Then I divide each cell by its row total to get a percentage of the total. </p>

<pre><code>c[,2:6]&lt;-c[,2:6] / c[,7]
</code></pre>

<p>This looks kludgy. Is there something I should be doing in <code>cast</code> or maybe in <code>plyr</code> to handle the percent of margin calculation in the first command? </p>

<p>Thanks,
Matt</p>
","197321","","","","","2016-09-15 00:55:10","Calculating percent of row total with plyr","<r>","2","1","1","","","CC BY-SA 2.5","1785320","4452","4452","r","404559","3625322","3607736","",""
"1785737","1","1785887","","2009-11-23 20:31:27","","5","1078","<p>I would like to know how to quickly find the specific function called by a generic function for a specific object. Example :</p>

<pre><code>library(spatial)
data(redwood)
K &lt;- Kest(redwood)
plot(K)
</code></pre>

<p>This is not an usual plot, it's a plot build for a <code>Kest()</code> object. So to investigate in order to find the function used, I do :</p>

<pre><code>class(K)
</code></pre>

<p>I get </p>

<blockquote>
  <p>""fv""         ""data.frame""</p>
</blockquote>

<p>I guess it is plot.fv</p>

<pre><code>?plot.fv
</code></pre>

<p>Yey ! But I'm sure there a more efficient way than guessing. Anyone ?</p>
","171659","","573","","2009-11-23 20:51:40","2009-11-25 16:43:46","Determine which function is called by a generic function","<r>","3","0","2","","","CC BY-SA 2.5","1785737","4452","4452","r","404559","3625322","3607736","",""
"1786667","1","1791394","","2009-11-23 23:01:07","","0","138","<p>I have some survey data that I want to describe by political party and state. </p>

<p>I'm having some trouble with the by() aggregation command. It works with lots of functions, but just not length(). Eg:</p>

<pre><code>by(x, list(party=nn$info$party,state=nn$info$st),mean)
</code></pre>

<p>works fine but not</p>

<pre><code>by(x, list(party=nn$info$party,state=nn$info$st),length)
</code></pre>

<p>Which returns an array filled not with the count of the data I'm looking for, but just a series of 1's. This is what it looks like for Alabama:</p>

<pre><code>party: D
state: AL
[1] 1
--------------------------------------------------------------------------- 
party: I
state: AL
[1] 1
--------------------------------------------------------------------------- 
party: R
state: AL
[1] 1
--------------------------------------------------------------------------- 
</code></pre>

<p>Very mystifying. Any ideas?</p>
","170408","","5414452","","2016-01-08 21:46:39","2016-01-08 21:46:39","Length doesn't work in by() aggregation?","<r><aggregate>","2","2","","","","CC BY-SA 2.5","1786667","4452","4452","r","404559","3625322","3607736","",""
"1787578","1","1790459","","2009-11-24 03:24:21","","8","5393","<p>I'm having a little trouble with getting ggplot2 to work as I want. Basically, I'd like to compare actual observations vs. approximated by putting them in one single plot. For example,</p>

<pre><code>&gt; library(ggplot2)
&gt; df.actual &lt;- data.frame(x = 1:100, y = (1:100) * 2)
&gt; df.approx &lt;- data.frame(x = 1:150, y = (1:150) * 2 + 5  + rnorm(150, mean = 3) )
&gt; ggplot() + geom_point(aes(x, y), data = df.actual) + geom_line(aes(x,y), data = df.approx)
</code></pre>

<p>My problem is that I can't display a legend. I read somewhere that ggplot2's legend is not very flexible(?). Ideally, a legend with </p>

<ul>
<li>title = 'Type'</li>
<li>key: a black filled point, and a black line</li>
<li>key label: 'Actual', 'Approximate'</li>
<li>legend.position = 'topright'</li>
</ul>

<p>Thanks.</p>
","205459","","","","","2009-11-25 15:04:32","problem with legend while plotting data from two data.frame","<r><ggplot2>","2","0","2","","","CC BY-SA 2.5","1787578","4452","4452","r","404559","3625322","3607736","",""
"1788779","1","1788834","","2009-11-24 08:58:44","","24","13445","<p>Is there an easy way to view the source of an R package (or a method in a package), from within the interactive environment?</p>
","30911","","636656","","2012-10-12 18:50:19","2018-10-17 22:36:37","View the source of an R package","<r><r-faq>","4","0","10","","","CC BY-SA 2.5","1788779","4452","4452","r","404559","3625322","3607736","",""
"1791164","1","1791274","","2009-11-24 16:22:52","","2","942","<p>I'm trying to normalize a big amount of Affymetrix CEL files using R. However, some of them appear to be truncated, so when reading them i get the error</p>

<pre><code>Cel file xxx does not seem to have the correct dimensions
</code></pre>

<p>And the normalization stops. Manually removing the corrupted files and restart every time will take very long. Do you know if there is a fast way (in R or with a tool) to detect corrupted files?</p>

<p>PS I'm 99.99% sure I'm normalizing together CELs from the same platform, it's really just truncated files :-)</p>
","209467","","","","","2009-11-24 16:53:09","Fast assessment of corrupted Affymetrix CEL files","<r><bioinformatics>","1","0","","","","CC BY-SA 2.5","1791164","4452","4452","r","404559","3625322","3607736","",""
"1794318","1","1794436","","2009-11-25 02:41:16","","4","2311","<p><a href=""http://www.omegahat.org/RGoogleDocs/"" rel=""nofollow noreferrer"">RGoogleDocs</a> is fantastic. It allows one to store data on Google and read it in in real time to R. I tried to install it on a computer the other day and lo and behold all I could find was RGoogleData in RForge. What is the relationship between the two packages? I tried to google search RGoogleData and RGoogleDocs in the same search and found nothing. Duncan Temple Lang wrote RGoogleDocs and it appears that Adrian A. Dragulescu wrote RGoogleData. </p>

<p>I could have sworn that a windows binary of RGoogleDocs had been posted in omegahat by Duncan Temple Lang but alas in the past couple of months I no longer see omegahat on the select repository option list from RGUI. Instead RForge is now on that list. What is the relationship between omegahat and RForge?</p>
","168139","","164602","","2010-07-21 20:28:54","2015-06-18 14:13:41","RGoogleDocs and now RGoogleData","<r><google-docs>","1","2","6","","","CC BY-SA 2.5","1794318","4452","4452","r","404559","3625322","3607736","",""
"1797712","1","1798206","","2009-11-25 15:30:42","","3","951","<p>I'm using R to loop through the columns of a data frame and make a graph of the resulting analysis. I don't get any errors when the script runs, but it generates a pdf that cannot be opened.</p>

<p>If I run the content of the script, it works fine. I wondered if there is a problem with how quickly it is looping through, so I tried to force it to pause. This did not seem to make a difference. I'm interested in any suggestions that people have, and I'm also quite new to R so suggestions as to how I can improve the approach are welcome too. Thanks.</p>

<pre><code>for (i in 2:22) {

  # Organise data
  pop_den_z = subset(pop_den, pop_den[i] != ""0"")  # Remove zeros
  y = pop_den_z[,i]        # Get y col
  x = pop_den_z[,1]        # get x col
  y = log(y)               # Log transform

  # Regression
  lm.0 = lm(formula = y ~ x)                # make linear model
  inter = summary(lm.0)$coefficients[1,1]   # Get intercept
  slop = summary(lm.0)$coefficients[2,1]    # Get slope

  # Write to File
  a = c(i, inter, slop)
  write(a, file = ""C:/pop_den_coef.txt"", ncolumns = 3, append = TRUE, sep = "","")

  ## Setup pdf
  string = paste(""C:/LEED/results/Images/R_graphs/Pop_den"", paste(i-2), ""City.pdf"")
  pdf(string, height = 6, width = 9)

  p &lt;- qplot(
    x, y,
    xlab = ""Radius [km]"",
    ylab = ""Population Density [log(people/km)]"",
    xlim = x_range,
    main = ""Analysis of Cities""
  )

  # geom_abline(intercept,slope)
  p + geom_abline(intercept = inter, slope = slop, colour = ""red"", size = 1)

  Sys.sleep(5)

  ### close the PDF file
  dev.off()
}
</code></pre>
","184010","","184010","","2009-11-25 19:31:17","2009-11-25 19:31:17","Error when generating pdf using script in R","<pdf><r><statistics><graph>","1","0","1","","","CC BY-SA 2.5","1797712","4452","4452","r","404559","3625322","3607736","",""
"1801064","1","","","2009-11-26 01:20:46","","24","38992","<p>Whenever I run this code , the first plot would simply overwrite the previous one. Isnt there a way in R to separate to get two plots ? </p>

<pre><code>plot(pc)
title(main='abc',xlab='xx',ylab='yy')

plot(pcs)
title(main='sdf',xlab='sdf',ylab='xcv')
</code></pre>
","219059","","702361","","2012-06-01 05:11:02","2012-06-01 05:24:17","How to separate two  plots in R?","<r><plot>","6","0","14","","","CC BY-SA 3.0","1801064","4452","4452","r","404559","3625322","3607736","",""
"1801487","1","","","2009-11-26 04:07:54","","4","16333","<p>I was wondering if there is a way to include error terms for a linear regression model like:</p>

<pre><code>r = lm(y ~ x1+x2)
</code></pre>
","219059","","190277","","2019-07-26 23:45:31","2019-07-26 23:45:31","include error terms in linear regression model","<r><linear-regression>","1","2","1","","","CC BY-SA 4.0","1801487","4452","4452","r","404559","3625322","3607736","",""
"1803627","1","1803643","","2009-11-26 13:19:00","","6","8074","<p>I'm reading a table and it contains strings that describe timestamps.  I just want to convert from string to a built-in datetime type...</p>

<pre><code>R&gt; Q &lt;- read.table(textConnection('
               tsstring
1 ""2009-09-30 10:00:00""
2 ""2009-09-30 10:15:00""
3 ""2009-09-30 10:35:00""
4 ""2009-09-30 10:45:00""
5 ""2009-09-30 11:00:00""
'), as.is=TRUE, header=TRUE)
R&gt; ts &lt;- strptime(Q$tsstring, ""%Y-%m-%d %H:%M:%S"", tz=""UTC"")
</code></pre>

<p>if I try to store the datetime column into the data.frame, I get a curious error:</p>

<pre><code>R&gt; Q$ts &lt;- ts
Error in `$&lt;-.data.frame`(`*tmp*`, ""ts"", value = list(sec = c(0, 0, 0,  : 
  replacement has 9 rows, data has 5
</code></pre>

<p>but if I go through a numeric representation held in the data.frame, it works...</p>

<pre><code>R&gt; EPOCH &lt;- strptime(""1970-01-01 00:00:00"", ""%Y-%m-%d %H:%M:%S"", tz=""UTC"")
R&gt; Q$minutes &lt;- as.numeric(difftime(ts, EPOCH, tz=""UTC""), units=""mins"")
R&gt; Q$ts &lt;- EPOCH + 60*Q$minutes
</code></pre>

<p>any help in understanding the situation?</p>
","78912","","172261","","2014-04-09 21:02:45","2014-04-09 21:02:45","understanding dates/times (POSIXc and POSIXct) in R","<r><datetime><posixct>","1","0","5","","","CC BY-SA 2.5","1803627","4452","4452","r","404559","3625322","3607736","",""
"1805149","1","","","2009-11-26 18:47:50","","8","21561","<p>Let's say I have a data matrix d </p>

<pre><code>pc = prcomp(d)

# pc1 and pc2 are the principal components  
pc1 = pc$rotation[,1] 
pc2 = pc$rotation[,2]
</code></pre>

<p>Then this should fit the linear regression model right? </p>

<pre><code>r = lm(y ~ pc1+pc2)
</code></pre>

<p>But then I get this error : </p>

<pre><code>Errormodel.frame.default(formula = y ~ pc1+pc2, drop.unused.levels = TRUE) : 
   unequal dimensions('pc1')
</code></pre>

<p>I guess there a packages out there who do this automatically, but this should work too? </p>
","219059","","172261","","2009-11-26 19:03:23","2016-03-03 23:33:10","How to fit a linear regression model with two principal components in R?","<r><linear-regression><pca>","1","0","11","","","CC BY-SA 2.5","1805149","4452","4452","r","404559","3625322","3607736","",""
"1809518","1","1810493","","2009-11-27 16:01:34","","7","3703","<p>Is there an equivalent of dir function (python) in R?</p>

<p>When I load a library in R like -</p>

<blockquote>
  <p>library(vrtest)</p>
</blockquote>

<p>I want to know all the functions that are in that library.</p>

<p>In Python, dir(vrtest) would be a list of all attributes of vrtest.</p>

<p>I guess in general, I am looking for the best way to get help on R while running it in ESS on linux. I see all these man pages for the packages I have installed, but I am not sure how I can access them.</p>

<p>Thanks</p>
","220120","","220120","","2009-11-27 16:07:07","2009-11-30 14:48:35","Getting the contents of a library interactively in R","<r><statistics><data-analysis><ess>","3","0","","","","CC BY-SA 2.5","1809518","4452","4452","r","404559","3625322","3607736","",""
"1809525","1","","","2009-11-27 16:03:20","","1","511","<p>First I will have to apologise for my ignorance as I'm sure this is a very simple question but I am very new to R. My question is that I have a data frame that looks like this;</p>

<pre><code>countrydes       Insured

USA               4500
CANADA            4500 
USA               7500
CANADA            7600
</code></pre>

<p>All I want to do is aggregate the sum of the insured value by country and produce a bar graph e.g.</p>

<pre><code>countrydes        Insured 

USA                12000       
Canada             12100
</code></pre>

<p>Many thanks.</p>
","220124","","28169","","2009-11-27 16:06:58","2009-11-27 16:41:14","Very simple bar graph","<r><aggregation>","2","1","0","","","CC BY-SA 2.5","1809525","4452","4452","r","404559","3625322","3607736","",""
"1810650","1","1822324","","2009-11-27 21:14:42","","3","614","<p>I want to construct a new centrality measure using <code>igraph</code>, preferably in <code>R</code>. </p>

<p>How would I begin this? </p>

<p>For example, would I be better adding to the <code>igraph C library</code> or the <code>R interface</code>?</p>
","77298","","3392044","","2016-03-03 12:36:22","2016-03-03 12:36:22","How do I construct a new centrality measure?","<r><graph><graph-algorithm><igraph>","1","0","1","","","CC BY-SA 3.0","1810650","4452","4452","r","404559","3625322","3607736","",""
"1810662","1","","","2009-11-27 21:19:07","","-1","560","<p>For a linear model with 2 variables </p>

<pre><code>r = lm(y ~ x1+x2)
</code></pre>

<p>When I run  <code>plot(r)</code> , I get a bunch of plots such as residuals vs fitted values and so on , but I can only look at one of them at a time . </p>

<p>Isn't there a way to separate them ? </p>
","219059","","4099593","","2019-07-31 06:46:49","2019-07-31 06:46:49","How to separate linear regression plots in R?","<r><linear-regression>","2","3","0","2019-07-23 13:03:18","","CC BY-SA 3.0","1810662","4452","4452","r","404559","3625322","3607736","",""
"1811651","1","","","2009-11-28 05:15:25","","3","3556","<p>I'm trying to get a better understanding on FA, hope you can take a look at this, my biggest problem is how to interpret FA model in R.</p>

<p>My results look like this:
What values in my results should I be looking at and what is a good indication of FA analysis?</p>

<pre><code>Call:
factanal(x = m2, factors = 2)

Uniquenesses:
v1 v2 v3 v4 v5 v6 v7 v8 v9 v10 v11 v12
0.005 0.324 0.344 0.092 0.084 0.128 0.271 0.272 0.398 0.384 0.540 0.472

Loadings:
Factor1 Factor2
v1 0.847 0.527
v2 0.818
v3 0.733 0.344
v4 0.938 0.169
v5 0.949 0.125
v6 0.825 0.437
v7 0.701 0.488
v8 0.646 0.557
v9 0.467 0.619
v10 0.665 0.417
v11 0.525 0.429
v12 0.581 0.436

Factor1 Factor2
SS loadings 5.905 2.780
Proportion Var 0.492 0.232
Cumulative Var 0.492 0.724

Test of the hypothesis that 2 factors are sufficient.
The chi square statistic is 410.82 on 43 degrees of freedom.
The p-value is 1.59e-61
</code></pre>
","219059","","172261","","2009-11-28 12:20:20","2018-10-20 18:51:26","Factor Analysis in R","<r><factor-analysis>","3","4","","","","CC BY-SA 2.5","1811651","4452","4452","r","404559","3625322","3607736","",""
"1812702","1","2342008","","2009-11-28 14:59:25","","5","889","<p>Often in R, there are a dozen functions scattered across as many packages--all of which have the same purpose but of course differ in accuracy, performance, documentation, theoretical rigor, and so on.</p>

<p>How do you locate these--from within R and even from among the CRAN Packages which you have not installed?</p>

<p>So for instance: the generic <strong><em>plot</em></strong> function. Setting secondary ticks is much easier using a function <strong>outside</strong> of the base package:</p>

<pre><code>minor.tick(nx=n, ny=n, tick.ratio=n)
</code></pre>

<p>Of course <em>plot</em> is in R core, but <em>minor.tick</em> is not, it's actually in <em>Hmisc</em>. </p>

<p>Of course, that doesn't show up in the documentation for <em>plot</em>, nor should you expect it to. </p>

<p>Another example: data-input arguments to <em>plot</em> can be supplied by an object returned from the function <em>hexbin</em>, again, this function is from a library <em>outside</em> of R core.</p>

<p>What would be great obviously is a programmatic way to gather these function arguments from the various libraries and put them in a single namespace?</p>

<p>*edit: (trying to re-state my example just above more clearly:) the arguments to <em>plot</em> supplied in R core, e.g., setting the axis tick frequency are xaxp/yaxp; however, one can also set a/t/f via a function outside of the base package, again, as in the minor.tick function from the Hmisc package--but you wouldn't know that just from looking at the plot method signature. Is there a meta function in R for this?*</p>

<p>So far, as i come across them, i've been manually gathering them, each set gathered in a single <em>TextMate</em> <em>snippet</em> (along with the attendant library imports).  This isn't that difficult or time consuming, but i can only update my snippet as i find out about these additional arguments/parameters. Is there a canonical R way to do this, or at least an easier way?</p>

<p>Just in case that wasn't clear, i am not talking about the case where multiple packages provide functions directed to the same statistic or view (e.g., 'boxplot' in the base package; 'boxplot.matrix' in gplots; and 'bplots' in Rlab).  What i am talking is the case in which the function name is the same across two or more packages.</p>
","66549","","1677912","","2018-01-15 03:42:54","2018-01-15 03:42:54","Finding What You Need in R: focused searching within R and all (3,500+) CRAN Packages","<r><introspection>","2","0","3","","","CC BY-SA 3.0","1812702","4452","4452","r","404559","3625322","3607736","",""
"1813550","1","1813609","","2009-11-28 19:38:43","","28","155635","<p>I'm looking to get a count for the following data frame:</p>

<pre><code>&gt; Santa
   Believe Age Gender Presents Behaviour
1    FALSE   9   male       25   naughty
2     TRUE   5   male       20      nice
3     TRUE   4 female       30      nice
4     TRUE   4   male       34   naughty
</code></pre>

<p>of the number of children who believe. What command would I use to get this?</p>

<p>(The actual data frame is much bigger. I've just given you the first four rows...)</p>

<p>Thanks!</p>
","220602","","","","","2019-05-05 05:54:10","count of entries in data frame in R","<r><count><dataframe>","7","0","10","","","CC BY-SA 2.5","1813550","4452","4452","r","404559","3625322","3607736","",""
"1813700","1","","","2009-11-28 20:25:48","","0","1557","<p>I noticed something in R, say <code>pc</code> is the result of applying PCA to a data matrix and 
<code>pc$x</code> is my sample principal component matrix . </p>

<p>When try <code>plot(pc$x)</code>, it will only plot the first principal component (<code>pc1</code>) against the second (<code>pc2</code>), but I actually have more than 2 principal components. How do I show all of them? </p>
","220626","","172261","","2013-01-21 14:18:56","2013-01-21 14:18:56","How to show all the sample principal component plots in R?","<r><pca>","1","0","","","","CC BY-SA 3.0","1813700","4452","4452","r","404559","3625322","3607736","",""
"1815606","1","","","2009-11-29 13:58:32","","275","131520","<p>I have a script called <code>foo.R</code> that includes another script <code>other.R</code>, which is in the same directory:</p>

<pre><code>#!/usr/bin/env Rscript
message(""Hello"")
source(""other.R"")
</code></pre>

<p>But I want <code>R</code> to find that <code>other.R</code> no matter what the current working directory. </p>

<p>In other words, <code>foo.R</code> needs to know its own path. How can I do that?</p>
","60628","","1968","","2019-06-19 13:49:17","2021-05-14 05:43:11","Determine path of the executing script","<r><file><path><rscript><r-faq>","28","9","88","","","CC BY-SA 4.0","1815606","4452","4452","r","404559","3625322","3607736","",""
"1816200","1","","","2009-11-29 17:54:21","","1","434","<p>I don't think I need to explain exactly what the code does. The point is that while performing the chisq.test outside the loop, I get a result like this (expected):</p>

<pre><code>        Chi-squared test for given probabilities

data:  observed 
X-squared = 185912, df = 5, p-value &lt; 2.2e-16
</code></pre>

<p>but when I try to do the test in a loop, the expected result does not appear </p>

<pre><code>total &lt;- dim(crs$dataset_init)[1]
expected.fr &lt;- cl.popul / total

for (i in 1:dim(cl.vs.Onerall)[1] ) {
        if (cl.vs.Onerall[i,1] &gt; 0) {
             observed &lt;- cl.vs.Onerall[i,2:(clust_no + 1)]

             print(rownames(cl.vs.Onerall)[i])
             chisq.test(observed, p=expected.fr)
             print(""------------------------------"")
    }
}
</code></pre>

<p>Any ideas would be greatly appreciated!</p>
","170792","","","","","2014-09-28 20:33:57","chisq.test doesn't print results when in a loop","<r><statistics><for-loop>","1","5","","","","CC BY-SA 2.5","1816200","4452","4452","r","404559","3625322","3607736","",""
"1816238","1","1816254","","2009-11-29 18:07:09","","8","799","<p>In <code>Emacs Speaks Statistics</code> for <code>R</code>, how can the auto replacement of <code>_</code> with <code>&lt;-</code> be turned off?</p>
","198401","","3392044","","2016-03-03 11:45:01","2016-03-03 11:45:01","How to turn off auto replacement in Emacs Speaks Statistics for R","<emacs><r><ess>","2","0","3","","","CC BY-SA 3.0","1816238","4452","4452","r","404559","3625322","3607736","",""
"1816480","1","1816551","","2009-11-29 19:16:57","","4","8064","<p>I'm using R to loop through a data frame, perform a calculation and to make a plot.</p>

<pre><code>for(i in 2 : 15){
# get data
dataframe[,i]  

# do analysis

# make plot
a &lt;- plot()
}
</code></pre>

<p>Is there a way that I can make the plot object name 'a', using the value of 'i'? For example, a + ""i"" &lt;- plot(). Then I want to add that to a vector so I have a series of plots that I can then use at a later stage when I want to make a pdf. Or perhaps there is another way of storing this.</p>

<p>I'm familiar with the paste() function but I haven't figured out how to define an object using it.</p>
","184010","","","","","2011-02-20 00:46:10","Generating names iteratively in R for storing plots","<r><object><loops><plot>","2","0","4","","","CC BY-SA 2.5","1816480","4452","4452","r","404559","3625322","3607736","",""
"1816719","1","1817045","","2009-11-29 20:48:40","","12","7559","<p>I'm trying to use ggplot2 to create and label a scatterplot. The variables that I am plotting are both scaled such that the horizontal and the vertical axis are plotted in units of standard deviation (1,2,3,4,...ect from the mean). What I would like to be able to do is label ONLY those elements that are beyond a certain limit of standard deviations from the mean. Ideally, this labeling would be based off of another column of data. </p>

<p>Is there a way to do this? </p>

<p>I've looked through the online manual, but I haven't been able to find anything about defining labels for plotted data. </p>

<p>Help is appreciated! </p>

<p>Thanks!</p>

<p>BEB</p>
","170352","","","","","2015-03-27 10:20:25","ggplot2 Scatter Plot Labels","<r><ggplot2>","3","0","6","","","CC BY-SA 2.5","1816719","4452","4452","r","404559","3625322","3607736","",""
"1817305","1","1818313","","2009-11-30 00:32:40","","0","376","<p>I have data nested in to levels:</p>

<pre><code>L1 L2   x1 x2 x3 x4
A  This 20 14 12 15
A  That 11 NA 8  16
A  Bat  Na 22 13  9
B  This 10  9 11  6
B  That 3   3  1 NA
B  Bat  4  10  2  8
</code></pre>

<p>Now I want something simply - and I feel I have been able to do this just last month. But something has gone missing in my head: I want percentages (ignoring NA), summing to 100 for each variable in L1</p>

<pre><code>L1 L2   x1  x2   x3   x4
A  This 65% 39%  36%  38%
A  That 35%  0%  24%  40%
A  Bat   0% 61%  40%  22%
</code></pre>

<p>I can get the totals I need with</p>

<pre><code>cast(L1~variable, data=melt(d, na.rm=T),sum)
</code></pre>

<p>But I guess it should be possible to cook up a function that gives me what I want?
I tried various approaches with cast and plyr... But it seams xmas has already brought to many beers to my frail brain.</p>

<p>Any help will be appreciated - as will any refrain from a downvote.</p>

<p>Thanx</p>

<p>this is my data:</p>

<pre><code>d &lt;- structure(list(level1 = structure(c(1L, 1L, 1L, 1L, 1L, 2L, 2L, 
2L, 2L, 3L, 3L, 3L, 3L, 4L, 4L, 5L, 5L, 5L, 5L, 5L, 6L, 6L, 6L, 
6L, 6L, 7L, 7L, 7L, 7L, 8L, 8L, 8L, 8L, 8L, 10L, 10L, 10L, 10L, 
11L, 11L, 11L, 11L, 11L, 11L, 9L, 9L, 9L, 9L, 9L, 12L, 12L, 12L, 
12L, 13L, 13L, 13L, 13L, 13L, 13L, 14L, 14L, 14L, 14L, 14L, 14L, 
15L, 15L, 15L, 15L, 15L, 16L, 16L, 16L, 16L, 16L, 16L, 17L, 17L, 
17L, 17L, 17L, 18L, 18L, 18L, 18L, 18L, 18L, 19L, 19L, 19L, 19L, 
19L, 19L), .Label = c(""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", ""h"", 
""i"", ""j"", ""k"", ""l"", ""m"", ""n"", ""o"", ""p"", ""q"", ""r"", ""s""), class = ""factor""), 
level2 = structure(c(6L, 2L, 1L, 3L, 5L, 6L, 1L, 3L, 5L, 
6L, 1L, 3L, 5L, 6L, 5L, 6L, 1L, 3L, 5L, 4L, 6L, 2L, 1L, 3L, 
5L, 6L, 1L, 5L, 4L, 6L, 2L, 1L, 3L, 5L, 6L, 1L, 3L, 5L, 6L, 
2L, 1L, 3L, 5L, 4L, 6L, 2L, 1L, 3L, 5L, 6L, 1L, 3L, 5L, 6L, 
2L, 1L, 3L, 5L, 4L, 6L, 2L, 1L, 3L, 5L, 4L, 6L, 2L, 1L, 3L, 
5L, 6L, 2L, 1L, 3L, 5L, 4L, 6L, 2L, 1L, 3L, 5L, 6L, 2L, 1L, 
3L, 5L, 4L, 6L, 2L, 1L, 3L, 5L, 4L), .Label = c(""This"", ""That"", 
""Phat"", ""Bat"", ""Man"", ""Hat""), class = ""factor""), X2002 = c(28L, 
9L, 17L, 8L, 95L, 18L, NA, NA, 36L, 40L, 15L, 10L, 71L, NA, 
14L, 25L, 18L, NA, 56L, 5L, 29L, 5L, 13L, 8L, 65L, 23L, 8L, 
34L, NA, 14L, 5L, 5L, NA, 51L, 18L, NA, 5L, 56L, 30L, 8L, 
9L, 11L, 77L, 5L, 53L, 12L, 16L, 13L, 114L, 30L, 8L, NA, 
52L, 38L, NA, 12L, 5L, 87L, 5L, 35L, NA, 10L, 6L, 92L, 10L, 
41L, NA, 22L, 8L, 115L, 27L, 6L, 9L, NA, 47L, 9L, 29L, 6L, 
11L, NA, 56L, 38L, 7L, 10L, NA, 93L, 6L, 22L, 9L, 9L, NA, 
59L, 5L), X2003 = c(32L, NA, 16L, 9L, 76L, 10L, NA, 5L, 24L, 
22L, 12L, 9L, 63L, 12L, 9L, 36L, 9L, 6L, 83L, 5L, 35L, NA, 
12L, 8L, 82L, 19L, 5L, 53L, 5L, 10L, NA, 7L, NA, 35L, 15L, 
6L, 6L, 40L, 30L, NA, 10L, 8L, 85L, 9L, 46L, NA, 14L, 9L, 
106L, 24L, 6L, 7L, 56L, 33L, NA, 12L, 9L, 106L, NA, 37L, 
7L, 11L, 8L, 79L, 5L, 54L, 5L, 10L, 6L, 100L, 25L, 9L, 5L, 
6L, 49L, NA, 31L, NA, 13L, 10L, 79L, 46L, NA, 14L, NA, 82L, 
5L, 21L, 7L, 11L, NA, 69L, NA), X2004 = c(35L, 6L, 13L, 8L, 
82L, 12L, 5L, NA, 35L, 34L, 5L, 6L, 75L, 9L, 9L, 40L, 13L, 
9L, 70L, NA, 41L, NA, 17L, 10L, 83L, 10L, 6L, 40L, NA, 18L, 
NA, 6L, NA, 34L, 10L, NA, NA, 45L, 38L, 6L, 11L, NA, 74L, 
NA, 45L, 5L, 12L, 9L, 131L, 34L, NA, NA, 64L, 28L, 5L, NA, 
NA, 93L, NA, 32L, NA, 9L, 11L, 99L, NA, 40L, NA, 18L, 8L, 
104L, 14L, NA, 13L, 6L, 67L, NA, 23L, NA, 6L, 8L, 85L, 49L, 
NA, 19L, 7L, 102L, NA, 28L, 5L, 7L, 7L, 74L, NA), X2005 = c(36L, 
NA, 20L, 10L, 93L, 22L, NA, NA, 35L, 38L, 13L, 9L, 99L, NA, 
14L, 48L, 17L, 7L, 70L, NA, 35L, NA, 13L, 9L, 103L, 16L, 
5L, 49L, NA, 12L, NA, 5L, 8L, 51L, 15L, 7L, 5L, 45L, 40L, 
NA, 12L, 5L, 102L, NA, 40L, NA, 21L, 16L, 141L, 25L, 9L, 
10L, 70L, 41L, NA, 10L, NA, 111L, NA, 37L, NA, 10L, 9L, 124L, 
NA, 37L, NA, 12L, 12L, 124L, 32L, NA, 16L, 6L, 45L, NA, 33L, 
NA, 8L, NA, 101L, 51L, NA, 19L, 5L, 117L, NA, 17L, NA, 11L, 
5L, 73L, NA), X2006 = c(38L, NA, 22L, 13L, 103L, 15L, NA, 
7L, 44L, 39L, 11L, 6L, 95L, NA, 15L, 53L, 16L, 9L, 89L, NA, 
41L, NA, 12L, 13L, 87L, 30L, 6L, 43L, NA, 14L, NA, 6L, 5L, 
50L, 19L, 5L, NA, 63L, 23L, NA, 6L, NA, 75L, NA, 38L, NA, 
12L, 19L, 142L, 32L, 7L, 7L, 64L, 49L, NA, 13L, 12L, 114L, 
NA, 48L, NA, 23L, 5L, 136L, NA, 52L, NA, 15L, 16L, 127L, 
24L, NA, 6L, NA, 57L, NA, 32L, NA, NA, 13L, 96L, 20L, NA, 
10L, 21L, 102L, NA, 31L, NA, 5L, 12L, 93L, NA)), .Names = c(""level1"", 
""level2"", ""X2002"", ""X2003"", ""X2004"", ""X2005"", ""X2006""), row.names = c(NA, 
-93L), class = ""data.frame"")
</code></pre>
","162832","","","","","2009-11-30 11:16:21","from absolute numbers to proportion in two level data (R! SAC? plyr?)","<r><casting><plyr>","2","1","","","","CC BY-SA 2.5","1817305","4452","4452","r","404559","3625322","3607736","",""
"1819418","1","1825906","","2009-11-30 12:06:29","","3","1884","<p>HI all,</p>

<p>I was trying to load a certain amount of Affymetrix CEL files, with the standard BioConductor command (R 2.8.1 on 64 bit linux, 72 GB of RAM)</p>

<pre><code>abatch&lt;-ReadAffy()
</code></pre>

<p>But I keep getting this message:</p>

<pre><code>Error in read.affybatch(filenames = l$filenames, phenoData = l$phenoData,  : 
  allocMatrix: too many elements specified
</code></pre>

<p>What's the general meaning of this allocMatrix error? Is there some way to increase its maximum size?</p>

<p>Thank you</p>
","209467","","209467","","2009-11-30 12:49:53","2010-01-11 13:18:50","R error allocMatrix","<r><bioconductor>","3","7","1","","","CC BY-SA 2.5","1819418","4452","4452","r","404559","3625322","3607736","",""
"1820590","1","1822128","","2009-11-30 15:45:46","","12","14739","<p>I asked <a href=""https://stackoverflow.com/questions/1816480/generating-names-iteratively-in-r-for-storing-plots"">this</a> question yesterday about storing a plot within an object. I tried implementing the first approach (aware that I did not specify that I was using <code>qplot()</code> in my original question) and noticed that it did not work as expected.</p>

<pre><code>library(ggplot2)               # add ggplot2

string = ""C:/example.pdf""      # Setup pdf
pdf(string,height=6,width=9)

x_range &lt;- range(1,50)         # Specify Range

# Create a list to hold the plot objects.
pltList &lt;- list()
pltList[]

for(i in 1 : 16){

# Organise data 
y = (1:50) * i * 1000                       # Get y col
x = (1:50)                                  # get x col
y = log(y)                                  # Use natural log

# Regression
lm.0 = lm(formula = y ~ x)                  # make linear model
inter = summary(lm.0)$coefficients[1,1]     # Get intercept
slop = summary(lm.0)$coefficients[2,1]      # Get slope

# Make plot name
pltName &lt;- paste( 'a', i, sep = '' )

# make plot object    
p &lt;- qplot(
    x, y,   
    xlab = ""Radius [km]"", 
    ylab = ""Services [log]"",
    xlim = x_range,
    main = paste(""Sample"",i)
) + geom_abline(intercept = inter, slope = slop, colour = ""red"", size = 1)        

print(p)     

pltList[[pltName]] = p       
}

# close the PDF file
dev.off() 
</code></pre>

<p>I have used sample numbers in this case so the code runs if it is just copied. I did spend a few hours puzzling over this but I cannot figure out what is going wrong. It writes the first set of pdfs without problem, so I have 16 pdfs with the correct plots.</p>

<p>Then when I use this piece of code:</p>

<pre><code>string = ""C:/test_tabloid.pdf""
pdf(string, height = 11, width = 17)

grid.newpage()
pushViewport( viewport( layout = grid.layout(3, 3) ) )

vplayout &lt;- function(x, y){viewport(layout.pos.row = x, layout.pos.col = y)}

counter = 1

# Page 1
for (i in 1:3){    
    for (j in 1:3){     
         pltName &lt;- paste( 'a', counter, sep = '' )   
         print( pltList[[pltName]], vp = vplayout(i,j) )
         counter = counter + 1
     }
 }

 dev.off()
</code></pre>

<p>the result I get is the last linear model line (<code>abline</code>) on every graph, but the data does not change. When I check my list of plots, it seems that all of them become overwritten by the most recent plot (with the exception of the <code>abline</code> object).</p>

<p>A less important secondary question was how to generate a muli-page pdf with several plots on each page, but the main goal of my code was to store the plots in a list that I could access at a later date.</p>
","184010","","-1","","2017-05-23 12:24:24","2016-03-08 15:11:25","Storing plot objects in a list","<pdf><r><statistics><ggplot2><plot>","5","0","3","","","CC BY-SA 3.0","1820590","4452","4452","r","404559","3625322","3607736","",""
"1823681","1","","","2009-12-01 02:45:33","","0","1100","<p>I am trying to write a function that uses Newton's method <code>(coefficients+(inverse hessian)*gradient)</code> to iteratively find the coefficients for a loglinear model. </p>

<p>I am using the following code:</p>

<pre><code> ##reading in the data
    dat&lt;-read.csv('hw8.csv')
    summary(dat)
    # data file containing yi and xi
    attach(dat)
    ##Creating column of x's
    x&lt;-cbind(1,xi)

    mle&lt;-function(c){
     gi&lt;- 1-yi*exp(c[1]+c[2]*xi)
     hi&lt;- gi-1
     H&lt;- -1*(t(x)%*%hi%*%x)
     g&lt;-t(x)%*%gi
     c&lt;-c+solve(H)%*%g
      return(c)
    }

    optim(c(0,1),mle,hessian=TRUE)
</code></pre>

<p>When I run the code, I get the following error:</p>

<pre><code>Error in t(x) %*% hi %*% x : non-conformable arguments
RMate stopped at line 29
</code></pre>

<p>Given that the formula is drawn from Bill Greene's problem set, I don't think it is a formula problem. I think I am doing something wrong in passing my function.</p>

<p>How can I fix this?<br>
Any help with this function would be much appreciated.</p>
","","user188077","","user188077","2009-12-01 05:45:31","2009-12-01 12:43:21","Problems with Newton's Method for finding coefficient and Hessian","<r><newtons-method>","1","3","","","","CC BY-SA 2.5","1823681","4452","4452","r","404559","3625322","3607736","",""
"1826519","1","15140507","","2009-12-01 14:27:23","","240","264891","<p>Still trying to get into the R logic...  what is the ""best"" way to unpack (on LHS) the results from a function returning multiple values?</p>

<p>I can't do this apparently:</p>

<pre><code>R&gt; functionReturningTwoValues &lt;- function() { return(c(1, 2)) }
R&gt; functionReturningTwoValues()
[1] 1 2
R&gt; a, b &lt;- functionReturningTwoValues()
Error: unexpected ',' in ""a,""
R&gt; c(a, b) &lt;- functionReturningTwoValues()
Error in c(a, b) &lt;- functionReturningTwoValues() : object 'a' not found
</code></pre>

<p>must I really do the following?</p>

<pre><code>R&gt; r &lt;- functionReturningTwoValues()
R&gt; a &lt;- r[1]; b &lt;- r[2]
</code></pre>

<p>or would the R programmer write something more like this:</p>

<pre><code>R&gt; functionReturningTwoValues &lt;- function() {return(list(first=1, second=2))}
R&gt; r &lt;- functionReturningTwoValues()
R&gt; r$first
[1] 1
R&gt; r$second
[1] 2
</code></pre>

<p>--- edited to answer Shane's questions ---</p>

<p>I don't really need giving names to the result value parts.  I am applying one aggregate function to the first component and an other to the second component (<code>min</code> and <code>max</code>.  if it was the same function for both components I would not need splitting them).  </p>
","78912","","202229","","2016-10-30 00:33:07","2019-10-20 17:45:12","How to assign from a function which returns more than one value?","<r><return-value><variable-assignment><assign><multiple-results>","13","2","91","","","CC BY-SA 3.0","1826519","4452","4452","r","404559","3625322","3607736","",""
"1828206","1","1829052","","2009-12-01 19:09:13","","5","4384","<p>I'm getting a result I don't understand in R.</p>

<p>If I use <code>strptime</code> with a year and day formatted %Y-%m (like ""2009-12""), I get an NA result. But if I add a day, like ""2009-12-01"", and change the format string accordingly, I do get a result. Example:</p>

<pre><code>&gt; strptime(""2009-12"",format=""%Y-%m"")
[1] NA
&gt; strptime(""2009-12-03"",format=""%Y-%m-%d"")
[1] ""2009-12-03""
</code></pre>

<p>Why is that?</p>

<p><strong>Update:</strong> The thing I'm curious about is why strptime doesn't parse a year and a month, and the reason it seems weird that it wouldn't do so is because it <strong>does</strong> parse a year only, or a year-and-a-day:</p>

<pre><code>&gt; strptime(""2009"",format=""%Y"") # year only. Works. Uses current month and day as defaults.
[1] ""2009-12-02""
&gt; strptime(""2009-03"",format=""%Y-%d"") # year and day. Works. Uses current month as default.
[1] ""2009-12-03""
&gt; strptime(""2009-03"",format=""%Y-%m"") # year and month. Doesn't work. ?
[1] NA
</code></pre>

<p><strong>Update to explain why this is not a duplicate</strong>
The possible duplicate was asked a few years after this question and it is concerned with a separate API in <code>R</code>: the <code>asDate</code> function. This question is about a quirk of the <code>strptime</code> function that as of <code>R</code> 3.1.3 still applies.</p>
","137784","","137784","","2015-06-25 18:31:36","2015-06-25 18:31:36","Why is parsing ""%Y-%m"" using strptime in R giving an NA result, but ""%Y-%m-%d"" works?","<datetime><r>","2","4","1","2015-06-16 20:13:26","","CC BY-SA 3.0","1828206","4452","4452","r","404559","3625322","3607736","",""
"1828742","1","1828862","","2009-12-01 20:35:33","","164","313859","<p>In R, how do I make a (bar)plot's y axis labels parallel to the X axis instead of parallel to the Y axis?</p>
","147537","","","","","2019-11-14 15:30:48","rotating axis labels in R","<r><label><axis><plot>","5","1","40","","","CC BY-SA 2.5","1828742","4452","4452","r","404559","3625322","3607736","",""
"1829429","1","1833211","","2009-12-01 22:35:50","","26","44373","<p>Is there a function to get an index (row number and column number) for a matrix?  </p>

<p>Suppose that I have a simple matrix:</p>

<pre><code>a &lt;- matrix(1:50, nrow=5)
</code></pre>

<p>Is there an easy way to get back something like c(3, 5) for the number ""23"", for instance?  In this case, saying <code>which(a==23)</code> just returns 23.  </p>

<p>This seems to work but I'm sure that there's a better way:</p>

<pre><code>matrix.index &lt;- function(a, value) {
  idx &lt;- which(data.frame(a)==value)
  col.num &lt;- ceiling(idx/nrow(a))
  row.num &lt;- idx - (col.num-1) * nrow(a)
  return(c(row.num, col.num))
}
&gt; matrix.index(a, 23)
[1] 3 5
&gt; matrix.index(a, 50)
[1]  5 10
</code></pre>
","163053","","","","","2009-12-02 14:24:50","Index value for matrix in R?","<r><matrix><filtering>","1","0","6","","","CC BY-SA 2.5","1829429","4452","4452","r","404559","3625322","3607736","",""
"1831245","1","1831937","","2009-12-02 07:42:55","","3","2859","<p>I have the following setup:</p>

<pre><code>emp &lt;- structure(list(s = structure(c(1L, 2L, 2L, 2L, 7L, 7L, 3L, 4L, 4L, 4L, 4L, 8L, 8L, 8L, 9L, 9L, 9L, 9L, 10L, 5L, 5L, 6L), .Label = c(""8"", ""24"", ""31"", ""78"", ""135"", ""142"", ""30"", ""98"", ""117"", ""123""), class = ""factor"", scores = structure(c(1, 2, 14, 3, 5, 17, 18, 20, 11, 13), .Dim = 10L, .Dimnames = list(c(""8"", ""24"", ""30"", ""31"", ""78"", ""98"", ""117"", ""123"", ""135"", ""142"")))), t = structure(c(6L, 1L, 2L, 4L, 7L, 9L, 3L, 1L,  2L, 4L, 5L, 8L, 9L, 10L, 7L, 8L, 9L, 11L, 9L, 1L, 4L, 1L), .Label = c(""8"", ""24"", ""40"", ""78"", ""135"", ""142"", ""30"", ""98"", ""117"", ""119"", ""123"" ), class = ""factor"", scores = structure(c(1, 2, 14, 4, 5, 17, 18, 19, 20, 11, 13), .Dim = 11L, .Dimnames = list(c(""8"", ""24"", ""30"", ""40"", ""78"", ""98"", ""117"", ""119"", ""123"", ""135"", ""142"")))), V1 = c(3L, 1L, 9L, 4L, 1L, 107L, 2L, 5L, 3L, 1L, 2L, 1L,  6L, 14L, 20L, 1L, 4L, 1L, 2L, 3L, 2L, 2L)), .Names = c(""s"", ""t"", ""V1""), row.names = c(NA, -22L), class = ""data.frame"")
o &lt;- c(8L, 24L, 31L, 40L, 78L, 80L, 85L, 94L, 104L, 113L, 135L, 136L, 142L, 30L, 54L, 91L, 98L, 117L, 119L, 123L, 9L, 34L, 97L, 126L,  140L, 13L, 75L, 92L, 134L, 138L, 141L, 6L, 12L, 22L, 44L, 48L, 51L, 57L, 64L, 79L, 84L, 88L, 93L, 100L, 115L, 124L, 129L, 132L,  143L, 144L, 2L, 10L, 14L, 15L, 16L, 17L, 19L, 35L, 39L, 41L, 50L, 52L, 53L, 58L, 61L, 66L, 67L, 68L, 71L, 72L, 73L, 76L, 96L, 99L, 101L, 106L, 109L, 114L, 121L, 127L, 128L, 131L, 137L, 145L, 146L, 148L, 150L, 4L, 18L, 23L, 28L, 29L, 32L, 37L, 38L, 65L, 82L, 90L, 102L, 105L, 107L, 111L, 122L, 130L, 133L, 139L, 147L, 3L, 5L, 7L, 11L, 21L, 27L, 33L, 43L, 45L, 46L, 47L, 49L, 55L, 56L, 59L, 60L, 62L, 63L, 69L, 70L, 77L, 83L, 87L, 89L, 103L, 108L, 112L, 116L, 118L, 120L, 125L, 149L, 151L, 1L, 20L, 25L, 26L, 36L, 42L, 74L, 81L, 86L, 95L, 110L)

emp$s &lt;- reorder(factor(emp$s),match(emp$s,o))
emp$t &lt;- reorder(factor(emp$t),match(emp$t,o))
qq &lt;- ggplot(emp,aes(x=s,y=t))
qq + geom_tile(aes(fill=log(V1)))+theme_bw()+
scale_fill_gradient(low=""white"",high=""black"")+
opts(axis.text.x=theme_text(angle=-90, hjust=0, size=5),
     axis.text.y=theme_text(vjust=0, size=5),
     panel.grid.minor = theme_blank(),
     panel.grid.major = theme_blank())
</code></pre>

<p>This produces the following:</p>

<p><a href=""https://i.stack.imgur.com/Ly2ha.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Ly2ha.png"" alt=""alt text""></a>
</p>

<p>I would like to include a vertical line just after 142 and before 30.  (Note, I need to keep these values as a factor.) I've been considering two options: </p>

<ul>
<li>vline: I only am able to put the line on 142 and on 30, but not between them.</li>
<li>grid stuff: I feel like the ideal solution is to introduce a grid.major or something.</li>
</ul>

<p>Any ideas?</p>
","84458","","4751173","","2019-05-14 13:10:52","2019-05-14 13:10:52","Vertical gridlines in ggplot with discrete x-axis","<r><ggplot2><gridlines>","1","1","","","","CC BY-SA 4.0","1831245","4452","4452","r","404559","3625322","3607736","",""
"1832761","1","1837105","","2009-12-02 13:01:00","","4","430","<p>let's say, I have this xml file:</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""UTF-8"" ?&gt;
&lt;TimeSeries&gt;
  &lt;timeZone&gt;1.0&lt;/timeZone&gt;
  &lt;series&gt;
    &lt;header/&gt;
    &lt;event date=""2009-09-30"" time=""10:00:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:15:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:30:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:45:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""11:00:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""11:15:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
  &lt;/series&gt;
  &lt;series&gt;
    &lt;header/&gt;
    &lt;event date=""2009-09-30"" time=""08:00:00"" value=""1.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""08:15:00"" value=""2.6"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""09:00:00"" value=""6.3"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""09:15:00"" value=""4.4"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""09:30:00"" value=""3.9"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""09:45:00"" value=""2.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:00:00"" value=""1.7"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:15:00"" value=""2.3"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:30:00"" value=""2.0"" flag=""2""&gt;&lt;/event&gt;
  &lt;/series&gt;
  &lt;series&gt;
    &lt;header/&gt;
    &lt;event date=""2009-09-30"" time=""10:00:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:15:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:30:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""10:45:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
    &lt;event date=""2009-09-30"" time=""11:00:00"" value=""0.0"" flag=""2""&gt;&lt;/event&gt;
  &lt;/series&gt;
&lt;/TimeSeries&gt;
</code></pre>

<p>and let's say I want to do something with its series elements and that I would like to put in practice the advice 'vectorize the vectorizable'...  I import the XML library and do the following:</p>

<pre><code>R&gt; library(""XML"")
R&gt; doc &lt;- xmlTreeParse('/home/mario/Desktop/sample.xml')
R&gt; TimeSeriesNode &lt;- xmlRoot(doc)
R&gt; seriesNodes &lt;- xmlElementsByTagName(TimeSeriesNode, ""series"")
R&gt; length(seriesNodes)
[1] 3
R&gt; (function(x){length(xmlElementsByTagName(x[['series']], 'event'))}
+ )(seriesNodes)
[1] 6
R&gt; 
</code></pre>

<p>and I don't understand why I should only get the result of applying the function to the first element: I had expected three values, just as the length of seriesNodes, something like this:</p>

<pre><code>R&gt; mapply(length, seriesNodes)
series series series 
     7     10      6 
</code></pre>

<p>oops!  I already came with the answer: ""use <code>mapply</code>"":</p>

<pre><code>R&gt; mapply(function(x){length(xmlElementsByTagName(x, 'event'))}, seriesNodes)
series series series 
     6      9      5 
</code></pre>

<p>but then I see the following problem: the R-inferno tells me that I'm ""loop-hiding"", not ""vectorizing""!  can I avoid looping at all?  ...</p>
","78912","","78912","","2009-12-02 15:58:24","2009-12-03 15:37:04","how to vectorize with xml data?","<xml><r><language-features>","2","0","1","","","CC BY-SA 2.5","1832761","4452","4452","r","404559","3625322","3607736","",""
"1833622","1","1834212","","2009-12-02 15:27:59","","0","8574","<p>I <a href=""https://stackoverflow.com/questions/1295955/what-is-the-most-useful-r-trick/1826778#1826778"">recently discovered</a> that you can conditionally assign a value with an if-else block.</p>

<pre><code>y &lt;- if(condition) 1 else 2
</code></pre>

<p>I realise that the use case for this is limited: if you have vectorised code, you would use the <code>ifelse</code> function instead.  There is a performance benefit: <code>if-else</code> runs about 35x faster than <code>ifelse</code> in the scalar case on my machine (though you need to call it millions of times to notice much of a difference).</p>

<p>What is bugging me is that I can't work out why this code works&mdash;I was amazed that it doesn't just throw an error.</p>

<p>Another example suggests that if blocks behave like functions&mdash;they automatically return the last value in the block (though you can't use a <code>return</code> statement in them).</p>

<pre><code>y &lt;- if(TRUE) 
{
   y &lt;- 3
   4
}    # y is 4
</code></pre>

<p>Based on this, I guessed that maybe another environment was created when you entered an if block, but this doesn't seem to be the case.</p>

<pre><code>if(TRUE) sys.frames()    # NULL
</code></pre>

<p>Can anyone tell me what is happening under the hood, please?</p>
","134830","","-1","","2017-05-23 12:23:44","2016-01-08 21:57:56","Assigning values from if-else blocks (how does it work?)","<r><if-statement>","4","0","2","","","CC BY-SA 2.5","1833622","4452","4452","r","404559","3625322","3607736","",""
"1834833","1","","","2009-12-02 18:23:20","","3","426","<p>I am trying to use a <code>Java package</code> from <code>R</code>.  </p>

<p><code>RJava</code> provides a way to call <code>Java</code> from <code>R</code>, but wrapping all the methods is impractical. </p>

<p>Does anyone know of a script that generates wrappers for a package (say, by processing the relevant javadoc)?</p>
","143813","","3392044","","2016-03-03 12:05:47","2016-03-03 12:05:47","automatic R wrapper generation for java methods","<java><r>","1","0","","","","CC BY-SA 3.0","1834833","4452","4452","r","404559","3625322","3607736","",""
"1837968","1","1838152","","2009-12-03 06:06:03","","91","72361","<p>In matlab there is a way to find the values in one vector but not in the other.</p>

<p>for example:</p>

<pre><code>x &lt;- c(1,2,3,4)
y &lt;- c(2,3,4)
</code></pre>

<p>is there any function that would tell me that the value in <code>x</code> that's not in <code>y</code> is 1?</p>
","148389","","2204410","","2016-06-23 13:19:26","2019-10-17 23:06:17","How to tell what is in one vector and not another?","<r><vector>","6","0","22","","","CC BY-SA 3.0","1837968","4452","4452","r","404559","3625322","3607736","",""
"1840024","1","1840043","","2009-12-03 14:01:23","","1","193","<p>the function I am writing specifies the behaviour of a physical switch: it should be turned ON if a value goes above an upper threshold and can go again OFF if it goes under the lower threshold.  a similar logic would describe a normal thermostat in a household oven.  obviously I want it to work on vectors, that's the whole point!</p>

<p>so if I have the data</p>

<pre><code>S &lt;- c(50, 100, 150, 180, 210, 200, 190, 182, 175, 185, 195, 205)
</code></pre>

<p>my function tells if the oven temperature is all right.  the logical inverse of ""switch the oven on"".</p>

<pre><code>R&gt; thresholdOnOff(S, 180, 200)
 [1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE  TRUE
</code></pre>

<p>the question is about programming style: I first tried to write it with an 'apply' function in it but I had forgotten to take environments into account...  so I wrote a working version with a 'for' loop - which I didn't like, then remembered about the environments and I'm not sure about the two versions:</p>

<pre><code>thresholdOnOff &lt;- local( {
  ## following the R inferno
  f &lt;- function(series, lower, upper, initialValue=FALSE) {
    status &lt;&lt;- initialValue

    switchOnOff &lt;- function(x) {
      if(x &gt; upper)
        status &lt;&lt;- TRUE
      if(x &lt; lower)
        status &lt;&lt;- FALSE
      return(status)
    }

    sapply(series, switchOnOff)
  }
} )


thresholdOnOff &lt;- function(series, lower, upper, initialValue=FALSE) {
  ## just guessing and reading from the documentation
  status &lt;- initialValue

  switchOnOff &lt;- function(x) {
    if(x &gt; upper)
      assign('status', TRUE, inherits=TRUE)
    if(x &lt; lower)
      assign('status', FALSE, inherits=TRUE)
    return(status)
  }

  sapply(series, switchOnOff)
}
</code></pre>
","78912","","","","","2009-12-03 17:15:47","double threshold (on/off) with or without a for","<r>","2","0","","","","CC BY-SA 2.5","1840024","4452","4452","r","404559","3625322","3607736","",""
"1842736","1","1843328","","2009-12-03 20:35:02","","1","1543","<p>Take for example the following ftable</p>

<pre><code>height &lt;- c(rep('short', 7), rep('tall', 3))
girth &lt;- c(rep('narrow', 4), rep('wide', 6))
measurement &lt;- rnorm(10)
foo &lt;- data.frame(height=height, girth=girth, measurement=measurement)
ftable.result &lt;- ftable(foo$height, foo$girth)
</code></pre>

<p>I'd like to convert the above <code>ftable.result</code> into a matrix with row names and column names.  Is there an efficient way of doing this?  <code>as.matrix()</code> doesn't exactly work, since it won't attach the row names and column names for you.</p>

<p>You could do the following</p>

<pre><code>ftable.matrix &lt;- ftable.result
class(ftable.matrix) &lt;- 'matrix'

rownames(ftable.matrix) &lt;- unlist(attr(ftable.result, 'row.vars'))
colnames(ftable.matrix) &lt;- unlist(attr(ftable.result, 'col.vars'))
</code></pre>

<p>However, it seems a bit heavy-handed.   Is there a more efficient way of doing this?</p>
","142477","","","","","2014-07-23 13:18:37","converting an ftable to a matrix","<r><matrix>","2","0","","","","CC BY-SA 2.5","1842736","4452","4452","r","404559","3625322","3607736","",""
"1844829","1","1847346","","2009-12-04 04:18:46","","14","30788","<p>I'd like to read the contents of a URL (e.q., <a href=""http://www.haaretz.com/"" rel=""noreferrer"">http://www.haaretz.com/</a>) in R. I am wondering how I can do it</p>
","55362","","222815","","2009-12-28 16:25:32","2013-03-04 16:12:08","How can I read and parse the contents of a webpage in R","<html><r><screen-scraping><html-content-extraction>","3","0","8","","","CC BY-SA 2.5","1844829","4452","4452","r","404559","3625322","3607736","",""
"1848331","1","","","2009-12-04 17:04:01","","3","1601","<p>I've used RODBC for some time to import Excel spreadsheets with mostly good results. However I have had no luck writing to an Excel spreadsheet. Also are there favorable differences using the xlsx format with Excel2007? </p>
","76235","","","","","2012-10-10 04:46:44","What's a robust method in R for importing from and exporting data to Excel?","<r><export-to-excel><import-from-excel>","5","0","1","","","CC BY-SA 2.5","1848331","4452","4452","r","404559","3625322","3607736","",""
"1853703","1","1853866","","2009-12-05 22:38:22","","9","21826","<p>Is there a way of overlaying a mathematical function on top of data using ggplot?</p>

<pre><code>## add ggplot2
library(ggplot2)

# function
eq = function(x){x*x}

# Data                     
x = (1:50)     
y = eq(x)                                                               

# Make plot object    
p = qplot(    
x, y,   
xlab = ""X-axis"", 
ylab = ""Y-axis"",
) 

# Plot Equation     
c = curve(eq)  

# Combine data and function
p + c #?
</code></pre>

<p>In this case my data is generated using the function, but I want to understand how to use <code>curve()</code> with ggplot.</p>
","184010","","3530129","","2014-09-29 01:07:25","2014-09-29 01:07:25","Plotting functions on top of datapoints in R","<r><function><statistics><plot><ggplot2>","2","0","6","","","CC BY-SA 3.0","1853703","4452","4452","r","404559","3625322","3607736","",""
"1857747","1","","","2009-12-07 04:06:06","","1","2088","<p>I have a situation in which I have to give a formula as input to the <code>nls()</code> function.
I have data which is between time and variance. For example:</p>

<pre><code>Time Variance
1     0.15
2     0.23
3     0.67
4     0.85
</code></pre>

<p>Now I am using the formula <em>Vt = ((1-e^kt)/kt)) (q^2)/2k</em>, where <em>Vt</em> is the variance at time <em>t</em>. I have the two variables <em>(k,q)</em> in the above equation. I have to determine <em>k(hat)</em> and <em>q(hat)</em>. Can I define the above formula as a user-defined formula and give it as an argument to the <code>nls()</code> function?</p>
","226097","","1315767","","2014-01-01 17:38:36","2014-01-01 17:38:36","R + user defined function","<r><statistics>","1","0","1","","","CC BY-SA 3.0","1857747","4452","4452","r","404559","3625322","3607736","",""
"1858280","1","1858776","","2009-12-07 06:47:17","","3","9162","<p>I have a table where there are ""NA""s littered all over the place in one column in particular. I want to replace every instance of ""NA"" with something else -- say, the number 1. </p>

<p>How should I do that?</p>
","177541","","4370109","","2017-01-20 15:31:09","2017-01-20 15:31:09","Change specific column values in R","<r>","3","3","","","","CC BY-SA 2.5","1858280","4452","4452","r","404559","3625322","3607736","",""
"1860913","1","","","2009-12-07 15:59:49","","10","654","<p>I am trying to reshape a data frame in R and it seems to have problems using the recommended ways of doing so. The data frame has the following structure:</p>

<pre><code>ID                     DATE1             DATE2            VALTYPE        VALUE
'abcd1233'         2009-11-12        2009-12-23           'TYPE1'        123.45
...
</code></pre>

<p><code>VALTYPE</code> is a string and is a factor with only 2 values (say <code>TYPE1</code> and <code>TYPE2</code>). I need to transform it into the following data frame (""wide"" transpose) based on common ID and DATEs:</p>

<pre><code>ID                     DATE1             DATE2            VALUE.TYPE1  VALUE.TYPE2
'abcd1233'             2009-11-12        2009-12-23       123.45           NA
...
</code></pre>

<p>The data frame has more than 4,500,000 observations (although about 70% of <code>VALUE</code>s are <code>NA</code>). The machine is an Intel-based Linux workstation with 4Gb of RAM. Loading the data (from a compressed Rdata file) into a fresh R process makes it grow to about 250Mb which clearly leaves a lot of space for reshaping.</p>

<p>These are my experiences so far:</p>

<ul>
<li><p>Using vanilla <code>reshape()</code> method:</p>

<p>tbl2 &lt;- reshape(tbl, direction = ""wide"", idvar = c(""ID"", ""DATE1"", ""DATE2""), 
                timevar = ""VALTYPE"");</p></li>
</ul>

<p>RESULT: <code>Error: cannot allocate vector of size 4.8 Gb</code></p>

<ul>
<li><p>Using <code>cast()</code> method of <code>reshape</code> package:</p>

<p>tbl2 &lt;- cast(tbl, ID + DATE1 + DATE2 ~ VALTYPE);</p></li>
</ul>

<p>RESULT: R process consumes all RAM with no end in sight. Had to kill the process eventually.</p>

<ul>
<li><p>Using <code>by()</code> and <code>merge()</code>:</p>

<p>sp &lt;- by(tbl[c(1,2,3,5)], tbl$VALTYPE, function(x) x);
tbl &lt;- merge(sp[[""TYPE1""]], sp[[""TYPE2""]], 
       by = c(""ID"", ""DATE1"", ""DATE2""), all = TRUE, sort = TRUE);</p></li>
</ul>

<p>RESULT: works fine, although this is not very elegant and foolproof (i.e. it will break if more types are added).</p>

<p>To add insult to injury, the operation in question can be trivially achieved in about 3 lines of AWK or Perl (and with hardly any RAM used). So the question is: what is a better way to do this operation in R using recommended methods without consuming all available RAM?</p>
","3514","","","","","2009-12-07 23:35:03","R performance with data reshaping","<performance><r>","3","0","3","","","CC BY-SA 2.5","1860913","4452","4452","r","404559","3625322","3607736","",""
"1861160","1","1872303","","2009-12-07 16:35:56","","0","321","<p>a function I wrote extracts timestamps from a XML document.  Timestamps are coupled to events, which are repeated elements of the series element.</p>

<p>series elements have a variable amount of events, so my function returns a data.frame (if the series have the same length).  in general it returns a more generic list and I want it to work with matrices as well.  I was pointed out (Thanks Eduardo) that 'list' is the generic type, but I still have trouble with functions that work on generic lists but not with more specific types, like data.frame or matrix.</p>

<p>what I need to do with the data at the moment is to see what is the most common distance between timestamps (I expect it to appear (much) more often than 50% of the times), I have written and rewritten a function doing this:</p>

<pre><code>R&gt; mostCommonStep( list(a=cumsum(c(1,3,3,2,3,3,4,3,2,3,3)), b=cumsum(c(2,3,2,3))) )
[1] 3
R&gt; mostCommonStep( data.frame(a=c(2,4,6,8,12,14,18), b=c(12,14,16,18,22,24,28)) )
[1] 2
R&gt; mostCommonStep( matrix(c(2,4,6,8,12,14,18, 12,14,16,18,22,24,28), 7, 2) )
[1] 2
</code></pre>

<p>but I would like to see a more ""R"" conformant version</p>
","78912","","78912","","2009-12-09 07:55:26","2009-12-09 07:57:22","working with sequences of different length","<r>","3","0","","","2009-12-09 07:55:26","CC BY-SA 2.5","1861160","4452","4452","r","404559","3625322","3607736","",""
"1866816","1","","","2009-12-08 12:59:42","","0","2158","<p>We are currently using <code>R</code> to automatically generate various kinds of <code>boxplots</code>. </p>

<p>The problem we have is that the length of our labels varies considerably between different plots and classes in one plot.</p>

<p>Is there a way to automatically adjust the plot so that all the labels will fit it nicely? </p>

<p>Specifying a worst case <code>mar</code> isn't feasible because in some plots the labels are considerably shorter than in others.</p>
","101419","","3392044","","2016-03-03 13:12:20","2016-05-11 16:31:37","Auto fit labels in R boxplot","<r><boxplot>","2","3","","","","CC BY-SA 3.0","1866816","4452","4452","r","404559","3625322","3607736","",""
"1867139","1","1867665","","2009-12-08 13:58:05","","3","11477","<p>I'm reading a text file like this in R 2.10.0.</p>

<pre><code>248585_at   250887_at   245638_s_at AFFX-BioC-5_at
248585_at   250887_at   264488_s_at 245638_s_at AFFX-BioC-5_at  AFFX-BioC-3_at  AFFX-BioDn-5_at
248585_at   250887_at
</code></pre>

<p>Using the command
    <code>clusters&lt;-read.delim(""test"",sep=""\t"",fill=TRUE,header=FALSE)</code></p>

<p>Now, I must pass every row in this file to a <code>BioConductor</code> function that takes only character vectors as input.</p>

<p>My problem is that using <code>as.character</code> on this ""clusters"" object turns everything into numeric strings.</p>

<pre><code>&gt; clusters[1,]
         V1        V2          V3             V4 V5 V6 V7
1 248585_at 250887_at 245638_s_at AFFX-BioC-5_at         
</code></pre>

<p>But </p>

<pre><code>&gt; as.character(clusters[1,])
[1] ""1"" ""1"" ""2"" ""3"" ""1"" ""1"" ""1""
</code></pre>

<p>Is there any way to keep the original names and put them into a character vector?</p>

<p>Maybe it helps: my ""clusters"" object given by the ""read.delim"" file belongs to the ""list"" type.</p>

<p>Thanks a lot :-)</p>

<p>Federico</p>
","209467","","10591078","","2020-05-30 05:59:36","2020-05-30 05:59:36","Read text file in R and convert it to a character object","<r><types>","2","0","2","","","CC BY-SA 4.0","1867139","4452","4452","r","404559","3625322","3607736","",""
"1867647","1","","","2009-12-08 15:19:02","","1","530","<p>I have a df and I want to do multiple transform on it with plyr:</p>

<pre><code>idplot / idtree / species /  condition / dbh_cm / h_m / hblc_m


CalcG &lt;- function (df) transform(df, g_m2 = pi * (dbh_cm^2)/40000)

CalcHD &lt;- function (df) transform(df, hd = h_m / dbh_cm)
</code></pre>

<p>...</p>

<p>Can be done in one function?
Many thanks.</p>
","227212","","135870","","2009-12-08 15:59:59","2009-12-08 20:06:18","multiple transform on df with plyr","<r><plyr>","1","0","","","","CC BY-SA 2.5","1867647","4452","4452","r","404559","3625322","3607736","",""
"1872982","1","1873351","","2009-12-09 10:26:34","","6","6642","<p>I have a vector: <code>c(1,2,3)</code></p>

<p>Calling <code>print()</code> on this value gives <code>[1] 1 2 3</code></p>

<p>Is there a function that takes a vector and gives the string <code>c(1,2,3)</code>?</p>
","84952","","637669","","2012-07-27 17:32:03","2014-05-23 18:55:45","R function that returns a string literal","<string><r><statistics>","3","0","","","","CC BY-SA 3.0","1872982","4452","4452","r","404559","3625322","3607736","",""
"1874443","1","1874563","","2009-12-09 14:59:48","","30","15762","<p>I'm trying to read a text file with different row lengths:</p>

<pre><code>1
1   2
1   2   3
1   2   3   4
1   2   3   4   5
1   2   3   4   5   6
1   2   3   4   5   6   7
1   2   3   4   5   6   7   8
</code></pre>

<p>To overcome this problem, I'm using the argument fill=TRUE in read.table, so:</p>

<pre><code>data&lt;-read.table(""test"",sep=""\t"",fill=TRUE)
</code></pre>

<p>Unfortunately, to assess the maximum row length, read.table reads only the first 5 lines of the file, and generates an object looking like this:</p>

<pre><code>data
   V1 V2 V3 V4 V5
1   1 NA NA NA NA
2   1  2 NA NA NA
3   1  2  3 NA NA
4   1  2  3  4 NA
5   1  2  3  4  5
6   1  2  3  4  5
7   6 NA NA NA NA
8   1  2  3  4  5
9   6  7 NA NA NA
10  1  2  3  4  5
11  6  7  8 NA NA
</code></pre>

<p>Is there a way to force read.table to scroll over the whole file to assess the maximum row length?
I know a possible solution would be to provide the column number, like:</p>

<pre><code>data&lt;-read.table(""test"",sep=""\t"",fill=TRUE,col.names=c(1:8))
</code></pre>

<p>But since I have a lot of files, I wanted to assess this automatically within R. Any suggestion? :-)</p>

<hr>

<p>EDIT: the original file doesn't contain progressive numbers, so this is not a solution:</p>

<pre><code>data1&lt;-read.table(""test"",sep=""\t"",fill=TRUE)
data2&lt;-read.table(""test"",sep=""\t"",fill=TRUE,col.names=c(1:max(data1))
</code></pre>
","209467","","163053","","2009-12-09 15:56:17","2009-12-09 15:56:17","Import data into R with an unknown number of columns?","<r><import>","2","2","12","","","CC BY-SA 2.5","1874443","4452","4452","r","404559","3625322","3607736","",""
"1875192","1","1875327","","2009-12-09 16:47:08","","7","6061","<p>I have multiple sets of xy pairs that I want to plot.  I want each set of xy pairs to be connected by a line.  In other words the goal is to have multiple experimental instances each approximated by a line plotted on one plot.  Also how would I colour the lines differently?</p>

<p>The plot function does what I want, but takes on one set of xy pairs:
<code>plot(x, y, ...)</code></p>

<p>Can this function be made to take multiple sets or is there another function for that?</p>
","84952","","163053","","2009-12-09 17:24:18","2009-12-09 18:14:47","Plot multiple sets of points in R","<r><statistics><plot>","1","0","2","","","CC BY-SA 2.5","1875192","4452","4452","r","404559","3625322","3607736","",""
"1875795","1","1875842","","2009-12-09 18:21:38","","23","7322","<p>I'm working with a large data frame, and have run up against RAM limits. At this point, I probably need to work with a serialized version on the disk. There are <a href=""http://cran.r-project.org/web/views/HighPerformanceComputing.html"" rel=""noreferrer"">a few packages</a> to support out-of-memory operations, but I'm not sure which one will suit my needs. I'd prefer to keep everything in data frames, so the <code>ff</code> package looks encouraging, but there are still compatibility problems that I can't work around.</p>

<p>What's the first tool to reach for when you realize that your data has reached out-of-memory scale?</p>
","197321","","3001626","","2015-12-22 18:48:17","2019-09-17 05:48:21","Best practices for storing and using data frames too large for memory?","<r><out-of-memory>","3","0","17","","","CC BY-SA 3.0","1875795","4452","4452","r","404559","3625322","3607736","",""
"1876085","1","1876585","","2009-12-09 19:03:29","","1","778","<p>I have a dataframe that I want to reshape; my reshape code:</p>

<pre><code>matchedlong &lt;- reshape(matched, direction = 'long',
                       varying = c(29:33, 36:3943),
                       v.names = c(""Math34"", ""TFCIn""),
                       times = 2006:2009, idvar = ""schoolnum"")
</code></pre>

<p>in <code>matched</code> columns 36 to 39 are logical (<code>TRUE</code> <code>FALSE</code>) but in <code>matchedlong</code> they have turned into numbers somehow .... No clear pattern to the numbers. </p>

<p>what is causing this?</p>

<p>Sample data:</p>

<pre><code>example.data &lt;- structure(list(Grade_Range_2008 = structure(c(14L, 14L, 40L,
40L, 36L, 13L), .Label = c(""3-5, UE"", ""4-5, UE"", ""4-8, UE, US"",
""5-10, UE, US"", ""5-8, 10, UE, US"", ""5-8, UE, US"", ""5-9, UE, US"",
""6-11, US"", ""6-12, UE, US"", ""6-7, UE, US"", ""6-8, 10, UE, US"",
""6-8, UE"", ""6-8, UE, US"", ""6-9, UE, US"", ""6, UE"", ""7-10, US"",
""7-8, US"", ""8-Jun"", ""8-May"", ""K-3"", ""K-3, UE"", ""K-4, UE"", ""K-5"",
""K-5, UE"", ""K-6, UE"", ""K-8"", ""K-8, UE"", ""K-8, UE, US"", ""K, 2-5, UE"",
""N/A"", ""PK-3, UE"", ""PK-4, UE"", ""PK-5, 10, UE"", ""PK-5, 7-9, UE, US"",
""PK-5, 8, UE"", ""PK-5, UE"", ""PK-6, 10, UE"", ""PK-6, UE"", ""PK-8, UE"",
""PK-8, UE, US""), class = ""factor""), X__of_Yrs_in_school = c(0L,
0L, 0L, 0L, 0L, 0L), Total_Enrollment_2008 = c(348L, 444L, 636L,
495L, 319L, 410L), Free_Lunch_pct_2008 = c(75L, 89L, 94L, 89L,
89L, 91L), Reduced_Lunch_pct_2008 = c(6L, 6L, 3L, 4L, 5L, 4L),
    Stability_pct_2008 = c(89L, 93L, 100L, 98L, 92L, 81L),
Limited_Eng__Prof__pct_2008 = c(8L,
    20L, 8L, 10L, 19L, 19L), Am__Ind_pct_2008 = c(1L, 2L, 0L,
    2L, 0L, 2L), Black_pct_2008 = c(41L, 39L, 28L, 33L, 32L,
    38L), Hispanic_pct_2008 = c(55L, 59L, 70L, 61L, 65L, 57L),
    Asian_pct_2008 = c(2L, 1L, 0L, 2L, 1L, 1L), White_pct_2008 = c(2L,
    0L, 1L, 2L, 1L, 2L), Multi_pct_2008 = c(0L, 0L, 0L, 0L, 0L,
    0L), w_o_Valid_Cert__N_2008 = c(4L, 0L, 1L, 0L, 1L, 1L),
    w_o_Valid_Cert__pct_2008 = c(11L, 0L, 2L, 0L, 3L, 5L),
Teaching_Out_of_Certification_N_ = c(7L,
    7L, 2L, 13L, 3L, 4L), Teaching_Out_of_Certification_pc = c(20L,
    15L, 4L, 25L, 9L, 18L), X_3_yrs__Exp_N_2008 = c(12L, 13L,
    5L, 12L, 5L, 5L), X_3_yrs__Exp_pct_2008 = c(34L, 28L, 11L,
    24L, 15L, 23L), Masters_Plus_N_2008 = c(6L, 11L, 15L, 10L,
    16L, 8L), Masters_Plus___2008 = c(17L, 23L, 32L, 20L, 47L,
    36L), Core_Classes_N_2008 = c(78L, 142L, 49L, 91L, 22L, 49L
    ), Core_Not_Taught_by_HQ_Teachers_p = c(23L, 6L, 2L, 24L,
    9L, 20L), Number_of_Classes_N_2008 = c(93L, 193L, 56L, 119L,
    33L, 68L), Clases_Not_taught_by_App__Cert__ = c(18L, 18L,
    2L, 37L, 3L, 13L), Clases_Not_taught_by_App__Cert_0 = c(19L,
    9L, 4L, 31L, 9L, 19L), Turnover_Rate_of_Teachers_with__ = c(31L,
    56L, 20L, 32L, 0L, 50L), Turnover_Rate_all_Teachers_pct_2 = c(42L,
    29L, 17L, 30L, 14L, 49L), Math_Level_3_4_pct_2006 = c(5.1,
    16.4, 58.2, 34.4, 48.9, 12.4), Math_Level_3_4_pct_2007 = c(15.2,
    22.1, 65.7, 29.9, 70.5, 22.6), Math_Level_3_4_pct_2008 = c(29.9,
    43.2, 69.8, 41.2, 78.9, 38.5), Math_Level_3_4_pct_2009 = c(50.7,
    49.7, 80.7, 47.1, 83.9, 51.6), Att__pct_2005 = c(0.83, 0.86,
    0.89, 0.9, 0.89, 0.87), Susp__pct_2005 = c(6L, 15L, 1L, 4L,
    0L, 3L), schoolnum = c(4013, 4045, 4096, 4101, 4102, 4117
    ), In_2006 = c(FALSE, FALSE, FALSE, FALSE, FALSE, FALSE),
    In_2007 = c(FALSE, FALSE, FALSE, FALSE, FALSE, FALSE), In_2008 = c(FALSE,
    FALSE, FALSE, FALSE, FALSE, FALSE), In_2009 = c(FALSE, FALSE,
    FALSE, FALSE, FALSE, FALSE), weights = c(1, 1, 1, 1, 1, 1
    )), .Names = c(""Grade_Range_2008"", ""X__of_Yrs_in_school"",
""Total_Enrollment_2008"", ""Free_Lunch_pct_2008"", ""Reduced_Lunch_pct_2008"",
""Stability_pct_2008"", ""Limited_Eng__Prof__pct_2008"", ""Am__Ind_pct_2008"",
""Black_pct_2008"", ""Hispanic_pct_2008"", ""Asian_pct_2008"", ""White_pct_2008"",
""Multi_pct_2008"", ""w_o_Valid_Cert__N_2008"", ""w_o_Valid_Cert__pct_2008"",
""Teaching_Out_of_Certification_N_"", ""Teaching_Out_of_Certification_pc"",
""X_3_yrs__Exp_N_2008"", ""X_3_yrs__Exp_pct_2008"", ""Masters_Plus_N_2008"",
""Masters_Plus___2008"", ""Core_Classes_N_2008"",
""Core_Not_Taught_by_HQ_Teachers_p"",
""Number_of_Classes_N_2008"", ""Clases_Not_taught_by_App__Cert__"",
""Clases_Not_taught_by_App__Cert_0"", ""Turnover_Rate_of_Teachers_with__"",
""Turnover_Rate_all_Teachers_pct_2"", ""Math_Level_3_4_pct_2006"",
""Math_Level_3_4_pct_2007"", ""Math_Level_3_4_pct_2008"",
""Math_Level_3_4_pct_2009"",
""Att__pct_2005"", ""Susp__pct_2005"", ""schoolnum"", ""In_2006"", ""In_2007"",
""In_2008"", ""In_2009"", ""weights""), row.names = c(1L, 4L, 7L, 8L,
11L, 12L), class = ""data.frame"")
</code></pre>
","228220","","473285","","2015-05-06 13:19:01","2015-05-06 13:19:01","Patterns for reshape in R","<r><reshape>","1","0","","","","CC BY-SA 3.0","1876085","4452","4452","r","404559","3625322","3607736","",""
"1879843","1","1880691","","2009-12-10 09:36:43","","4","1292","<p>so I decided I would put my few R functions into a package and I'm reading/learning <a href=""http://cran.r-project.org/doc/manuals/R-exts.pdf"" rel=""nofollow noreferrer"">Writing R Extension</a>.</p>

<p>it obviously complains about an amount of things I'm not doing right.</p>

<p>after enough googling, I'm firing a few questions here, this one is about testing style: I am using <a href=""http://cran.r-project.org/web/packages/RUnit/vignettes/RUnit.pdf"" rel=""nofollow noreferrer"">RUnit</a> and I like having tests as close possible to the code being tested.  this way I won't forget about the tests and I use the tests as part of the technical documentation.  </p>

<p>for example:</p>

<pre><code>fillInTheBlanks &lt;- function(S) {
  ## NA in S are replaced with observed values

  ## accepts a vector possibly holding NA values and returns a vector
  ## where all observed values are carried forward and the first is
  ## carried backward.  cfr na.locf from zoo library.
  L &lt;- !is.na(S)
  c(S[L][1], S[L])[1 + cumsum(L)]
}

test.fillInTheBlanks &lt;- function() {
  checkEquals(fillInTheBlanks(c(1, NA, NA, 2, 3, NA, 4)), c(1, 1, 1, 2, 3, 3, 4))
  checkEquals(fillInTheBlanks(c(1, 2, 3, 4)), c(1, 2, 3, 4))
  checkEquals(fillInTheBlanks(c(NA, NA, 2, 3, NA, 4)), c(2, 2, 2, 3, 3, 4))
}
</code></pre>

<p>but <code>R CMD check</code> issues NOTE lines, like this one:</p>

<pre><code>test.fillInTheBlanks: no visible global function definition for
  ‘checkEquals’
</code></pre>

<p>and it complains about me not documenting the test functions.</p>

<p>I don't really want to add documentation for the test functions and I definitely would prefer not having to add a dependency to the RUnit package.</p>

<p>how do you think I should look at this issue?</p>
","78912","","78912","","2009-12-10 12:54:06","2012-11-16 18:38:05","distributing R package containing unit tests","<unit-testing><r><software-distribution>","2","0","","","","CC BY-SA 2.5","1879843","4452","4452","r","404559","3625322","3607736","",""
"1879933","1","1880659","","2009-12-10 09:53:43","","0","307","<p>this sounds like a silly problem: I'm putting my R code into a package and <code>R CMD check src</code> complains about the .Rd~ backup files being produced by Emacs.  </p>

<pre><code>* checking package subdirectories ... WARNING
Subdirectory 'man' contains invalid file names:
  read.PI.Rd~ write.PI.Rd~
</code></pre>

<p>the documentation says: »In addition [...] files [...]  with base names [...] ending in ‘~’, ‘.bak’ or ‘.swp’, are excluded by default.« (page 18).  but then why the warning?</p>
","78912","","","","","2009-12-10 12:41:31","R CMD check complains about unexpected files in man","<emacs><r><software-distribution>","1","0","","","","CC BY-SA 2.5","1879933","4452","4452","r","404559","3625322","3607736","",""
"1882734","1","","","2009-12-10 17:46:35","","30","3602","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/4442518/general-suggestions-for-debugging-r"">General suggestions for debugging R?</a>  </p>
</blockquote>



<p>I've recently started using <code>browser()</code> in function definitions for debugging (a great tool!). I feel like <code>print()</code> debugging has been slowing my learning curve of built-in debugging tools. What are some others I've been missing?</p>
","147427","","-1","","2017-05-23 12:23:43","2012-07-15 13:52:13","What is your favorite R debugging trick?","<debugging><r>","0","0","3","2012-07-15 13:52:26","","CC BY-SA 2.5","1882734","4452","4452","r","404559","3625322","3607736","",""
"1885264","1","","","2009-12-11 01:18:47","","2","3530","<p>I'm trying to make a visualization that looks like this <a href=""http://www.gradient-da.com/img/temperature%20surface%20plot%20470x406.JPG"" rel=""nofollow noreferrer"">http://www.gradient-da.com/img/temperature%20surface%20plot%20470x406.JPG http://www.gradient-da.com/img/temperature%20surface%20plot%20470x406.JPG</a>.</p>

<p>The idea is to have a 3D surface plot overlapping a 2d representation of a surface.</p>

<p>I can build arbitrary surfaces/polygon shapes (as in <a href=""http://addictedtor.free.fr/graphiques/graphcode.php?graph=135"" rel=""nofollow noreferrer"">http://addictedtor.free.fr/graphiques/graphcode.php?graph=135</a> ) and I can make the respective 2D plot. What I don't seem to be able to figure out is the way to put them together in a nice way (like the one shown in the jpg above).</p>

<p>I've tried googling for the answer, but I wasn't able to find anything similar done in R.
Any help would be greatly appreciated!</p>

<p>EDIT: The 2D portion is not a projection of the 2D one. I chose this specific picture to illustrate this. For example</p>

<ol>
<li>Here the 2D portion is the image of the circuit and on the 3D portion is the temperature).</li>
<li>In 2D you can have the map of a city and in 3D the traffic</li>
<li>etc...</li>
</ol>

<p>Best,</p>

<p>Bruno</p>
","280","","280","","2009-12-11 01:55:11","2009-12-12 12:03:18","Combining 3D/2D plots","<r><3d><statistics><plot>","5","5","2","","","CC BY-SA 2.5","1885264","4452","4452","r","404559","3625322","3607736","",""
"1886264","1","","","2009-12-11 06:49:02","","1","1011","<p>I have decided to learn R. I am trying to get a sense of how to write ""R style"" functions and to avoid looping. Here is a sample situation:</p>

<p>Given a vector <code>a</code>, I would like to compute a vector <code>b</code> whose elements <code>b[i]</code> (the vector index begins at 1) are defined as follows:</p>

<pre><code>1 &lt;= i &lt;= 4:
b[i] = NaN

5 &lt;= i &lt;= length(a):
b[i] = mean(a[i-4] to a[i])
</code></pre>

<p>Essentially, if we pretend 'a' is a list of speeds where the first entry is at time = 0, the second at time = 1 second, the third at time = 2 seconds... I would like to obtain a corresponding vector describing the average speed over the past 5 seconds.</p>

<p>E.g.:
If <code>a is (1,1,1,1,1,4,6,3,6,8,9)</code> then <code>b</code> should be <code>(NaN, NaN, NaN, NaN, 1, 1.6, 2.6, 3, 4, 5.4, 6.4)</code></p>

<p>I could do this using a loop, but I feel that doing so would not be in ""R style"".</p>

<p>Thank you,</p>

<p>Tungata</p>
","229420","","12388","","2010-06-02 10:53:45","2010-06-02 10:53:45","Avoiding loops in R","<r><loops>","3","0","1","","","CC BY-SA 2.5","1886264","4452","4452","r","404559","3625322","3607736","",""
"1886571","1","1887976","","2009-12-11 08:14:19","","3","146","<p>I'm putting this thing in my source(s)...  (right, for now it's just one, plus the test scripts).</p>

<pre><code>REVISION = (function(x) substring(x, first=7, last=nchar(x)-2))(""$Rev: 8727 $"")
</code></pre>

<p>but how do ""real"" R programmers do?  </p>
","78912","","78912","","2009-12-11 13:34:36","2009-12-11 13:34:36","making the subversion revision number visible in my R scripts","<svn><r>","1","0","1","","","CC BY-SA 2.5","1886571","4452","4452","r","404559","3625322","3607736","",""
"1886644","1","1886891","","2009-12-11 08:35:43","","5","2434","<p>I am making my first attempts to write a R package. I am loading one csv file from hard drive and I am hoping to bundle up my R codes and my csv files into one package later.</p>

<p>My question is how can I load my csv file when my pakage is generated, I mean right now my file address is something like c:\R\mydirectory....\myfile.csv but after I sent it to someone else how can I have a relative address to that file?</p>

<p>Feel free to correct this question if it is not clear to others!</p>
","55362","","936420","","2017-01-29 17:02:40","2017-01-29 17:02:40","How to point to a directory in an R package?","<r><r-package>","2","0","2","","","CC BY-SA 2.5","1886644","4452","4452","r","404559","3625322","3607736","",""
"1886808","1","1887107","","2009-12-11 09:20:06","","3","5737","<p>I have the following dataset</p>

<pre><code>1890 mar 0.4
1890 apr 0.8
1890 may 1.0
...
1989 jan 0.2
1989 feb 0.4
1989 mar 0.5
</code></pre>

<p>How can I make a line plot in <a href=""http://www.r-project.org/"" rel=""nofollow noreferrer"">R</a> with on the x-axis the year, displayed every 5 years?</p>

<p>My problem is not so much making the plot, but getting to display only the years I want, and place them on the beginning of that year. So I don't want a tick on April but on January.</p>
","85514","","3687447","","2015-02-27 08:38:48","2018-10-12 18:51:20","How to format axes in R, year and months","<r><plot>","2","1","2","","","CC BY-SA 2.5","1886808","4452","4452","r","404559","3625322","3607736","",""
"1887195","1","1887380","","2009-12-11 10:32:23","","1","531","<p>I have the character vector below</p>

<pre><code>a = c(""2009-07-31 18:00:33"", ""2009-07-31 18:00:38"", ""2009-07-31 18:00:43"",  ""2009-07-31 18:00:49"", ""2009-08-01 01:58:49"", ""2009-08-01 01:53:16"",  ""2009-08-01 08:04:13"", ""2009-08-01 16:16:13"")
</code></pre>

<p>I want to convert this to time objects so I do this:</p>

<pre><code>b = strptime(a, ""%Y-%m-%d %H:%M:%S"")
</code></pre>

<p>Why do a and b have different lengths?</p>

<pre><code>&gt; length(a)
[1] 8
&gt; length(b)
[1] 9
</code></pre>
","84952","","172261","","2014-04-09 21:03:50","2014-04-09 21:03:50","Unexpected value for length of a vector in R","<r><posixct>","3","0","","","","CC BY-SA 2.5","1887195","4452","4452","r","404559","3625322","3607736","",""
"1888151","1","","","2009-12-11 13:42:24","","0","449","<p>a question following  <a href=""https://stackoverflow.com/questions/1886571"">making-the-subversion-revision-number-visible-in-my-r-scripts</a></p>

<p><code>R CMD build PKG</code> creates a file named as Package_Version.tar.gz according to the fields in <code>DESCRIPTION</code>.  </p>

<p>not only isn't the strictly sequential numbering coming from svn very practical here, but its <code>$REV: number $</code> format does not respect the <code>number.number-number</code> structure expected after <code>Version:</code>.  </p>

<p>I think I would want to use the subversion revision number as the third ""coordinate"" of the package version.  the first and second coordinates would be raised by hand at major changes.</p>

<p>but how do you ""normally"" do?</p>

<hr>

<p>One could write a bash/grep/awk script that gets the highest Rev out of the sources, that wouldn't a problem.  But, is <code>configure</code> run before <code>R CMD build</code>?  In this case one could build the DESCRIPTION file (kept out of source control) from a template file and this highest Rev number.</p>

<p>My question is about common practice.</p>

<hr>

<p>the ""optimal"" answer would allow me to place a package on r-forge and have the automated scripts run there update the third coordinate of the <code>Version:</code> field from the latest files committed in the <code>R</code> subdir.</p>

<p>a ""good enough"" answer would work locally and I have it already, but am not using it any more because I otherwise get used to things that are generally unavailable.</p>

<p>since it's about practices, I'll add my current practice as possible answer.  it is not automated but I find it clear and (almost) acceptable.</p>
","78912","","-1","","2017-05-23 12:11:20","2010-07-14 07:09:39","getting the highest subversion revision in my `R CMD build` filename","<svn><bash><r>","6","0","","","","CC BY-SA 2.5","1888151","4452","4452","r","404559","3625322","3607736","",""
"1890215","1","1890504","","2009-12-11 19:06:55","","69","65522","<p>I'm a newbie to both R and LaTeX and have just recently found how to plot a standard time series graph using R and save it as a png image. What I'm worried about is that saving it as an image and then embedding it into LaTeX is going to scale it and make it look ugly.</p>

<p>Is there a way to make R's <code>plot()</code> function output a vector graphic and embed that into LaTeX? I'm a total beginner in both so please be gentle :) Code snippets are highly appreciated!</p>
","105132","","","","","2019-05-03 16:12:59","Getting R plots into LaTeX?","<graphics><r><latex><vector-graphics>","4","0","46","","","CC BY-SA 2.5","1890215","4452","4452","r","404559","3625322","3607736","",""
"1893257","1","1893536","","2009-12-12 12:23:51","","2","1234","<p>I am using the <a href=""http://cran.r-project.org/web/packages/EMD/EMD.pdf"" rel=""nofollow noreferrer"">EMD</a> package for R. This package has a spectrogram function for displaying a Hilbert Spectrum (calculated with hilbertspec). The output however, is really vague and black-white.</p>

<p>This function does not seem to have an option for outputting color images. How can I get the spectrum displayed clearly and if possible in color.</p>
","85514","","85514","","2009-12-12 13:00:59","2009-12-12 17:26:58","How to create a sensible Hilbert Spectrum plot with R (computing environment)","<r><plot><spectral>","1","0","","","","CC BY-SA 2.5","1893257","4452","4452","r","404559","3625322","3607736","",""
"1894190","1","","","2009-12-12 17:52:04","","4","3028","<p>A few years back I used UCINET for some social network analysis. Theese days I'd like to use SNA again - but this time I prefer a unified analysis framework - which for me is R.</p>

<p>I have looked at the sna and statnet documentation but am a bit overwhelmed.</p>

<p>What I'd like to do: First: Load an bipartite/incidence matrix pulled directly from e.g. a websurvey (often valued). Convert this matrix to two adjacency matrix' (affiliatoin by affiliation and cases by cases). It could also be a directed, valued cases by cases matrix.</p>

<p>Second: Load a file (also from e.g. websurvey data) of vertice attributes.</p>

<p>Third: Then plot the graph with e.g. vertice size according to some centrality measure, colored and labeled by some vertice attributes, with only edges with value over a certain threshold being drawn.</p>

<p>This is a mini incidence matrix: </p>

<pre><code>data &lt;- structure(list(this = c(0, 1, 0, 1, 1, 2, 0, 1, 3), 
 that = c(1, 1, 3, 0, 0, 0, 2, 1, 0), 
 phat = c(0, 0, 2, 1, 0, 0, 1, 2, 0)), 
 .Names = c(""this"", ""that"", ""phat""), 
 row.names = c(""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", ""h"", ""i""), 
 class = ""data.frame"")
</code></pre>

<p>with som attribute data:</p>

<pre><code>att &lt;-structure(list(sex = structure(c(1L, 1L, 2L, 2L, 1L, 2L, 1L, 
1L, 1L), .Label = c(""F"", ""M""), class = ""factor""), agegr = c(1L, 
1L, 3L, 1L, 3L, 1L, 1L, 3L, 1L), place = structure(c(1L, 2L, 
1L, 1L, 1L, 1L, 2L, 2L, 1L), .Label = c(""Lower"", ""Upper""), 
class = ""factor"")), .Names  = c(""sex"", 
""agegr"", ""place""), row.names = c(NA, -9L), class = ""data.frame"")
</code></pre>

<p>p.s. maybe SNA would be a good tag for this post? I just don't have the nescassary SO goodwill :-)</p>
","162832","","164901","","2010-03-05 19:00:56","2011-03-21 17:44:48","basic SNA in R? - How to load network data","<r><social-networking>","3","1","5","","","CC BY-SA 2.5","1894190","4452","4452","r","404559","3625322","3607736","",""
"1896419","1","1896784","","2009-12-13 12:53:44","","61","85764","<p>I have a 3-tuple data set (X,Y,Z points) that I want to plot using R.</p>

<p>I want to create a surface plot from the data, and superimpose a contour map on the surface plot, so as to create the impression of the contour map being the ""shadow"" or projection from the surface plot. The contour map is to appear below the surface plot.</p>

<p>My data set looks somewhat like this:</p>

<pre><code>Axis  |  Data Type
-------------------
X     |  Date value
Y     |  Float value
Z     |  Float value
</code></pre>

<p>How can I achieve this?</p>
","205040","","63550","","2012-11-24 16:02:09","2019-05-20 07:06:08","Plotting a 3D surface plot with contour map overlay, using R","<r><3d><statistics><plot>","1","0","55","","","CC BY-SA 3.0","1896419","4452","4452","r","404559","3625322","3607736","",""
"1897704","1","58703603","","2009-12-13 20:55:01","","31","39939","<p>What the most efficient way in the programming language <a href=""http://www.r-project.org/"" rel=""noreferrer"">R</a> to calculate the angle between two vectors?</p>
","25282","","25282","","2016-03-31 23:55:13","2019-12-30 02:58:30","Angle between two vectors in R","<r><math><geometry><computational-geometry>","8","3","16","","","CC BY-SA 2.5","1897704","4452","4452","r","404559","3625322","3607736","",""
"1898101","1","1899053","","2009-12-13 22:55:23","","20","10818","<p>I am using ggplot2 library and am working with the qplot command
I know I can save my output as an anti-aliased image file by using the following command after my qplot </p>

<pre><code>ggsave(file=""filename.png"")
</code></pre>

<p>But how about my LCD display? is there any way to see a plot on the monitor as anti-aliased grpah? </p>
","55362","","55362","","2010-01-16 10:36:58","2015-10-13 12:54:36","qplot and anti-aliasing in R","<r><ggplot2>","4","2","4","","","CC BY-SA 2.5","1898101","4452","4452","r","404559","3625322","3607736","",""
"1898815","1","1898873","","2009-12-14 03:54:14","","0","567","<p>I want to rbind.zoo two zoo object together.  When I was testing I came across the following issue(?)...</p>

<p>Note:  The below is an example, there is clearly no point to it apart from being illustrative.
I have an zoo object, call it, 'X'.  I want to break it into two parts and then rbind.zoo them together.  When I compare it to the original object then all.equal gives differences.</p>

<p>It appears that the '$class' attribute differs, but I can't see how or why.  Is I make these xts objects then the all.equal works as expected.</p>

<p>i.e. .....</p>

<pre><code>X.date &lt;- as.POSIXct(paste(""2003-"", rep(1:4, 4:1), 
                     ""-"", sample(1:28, 10, replace = TRUE), sep = """"))

X &lt;- zoo(matrix(rnorm(24), ncol = 2), X.date)

a &lt;- X[c(1:3), ]      # first 3 elements

b &lt;- X[c(4:6), ]      # second 3 elements

c &lt;- rbind.zoo(a, b)  # rbind into an object of 6 elements

d &lt;- X[c(1:6), ]      # all 6 elements

all.equal(c, d)       # are they equal?
</code></pre>

<p>~~~~</p>

<p>all.equal gives me the following difference:</p>

<p>""Attributes: &lt; Component 3: Attributes: &lt; Length mismatch: comparison on first 1 components > >""</p>
","178967","","271616","","2011-08-13 18:08:57","2011-08-13 18:08:57","rbind.zoo doesn't seem create consistent zoo object","<r><zoo>","2","0","","","","CC BY-SA 2.5","1898815","4452","4452","r","404559","3625322","3607736","",""
"1899008","1","1899057","","2009-12-14 05:01:42","","5","5347","<p>Using <code>kernlab</code> I've trained a model with code like the following:</p>

<pre><code>my.model &lt;- ksvm(result ~ f1+f2+f3, data=gold, kernel=""vanilladot"")
</code></pre>

<p>Since it's a linear model, I prefer at run-time to compute the scores as a simple weighted sum of the feature values rather than using the full SVM machinery.  How can I convert the model to something like this (some made-up weights here):</p>

<pre><code>&gt; c(.bias=-2.7, f1=0.35, f2=-0.24, f3=2.31)
.bias    f1    f2    f3 
-2.70  0.35 -0.24  2.31 
</code></pre>

<p>where <code>.bias</code> is the bias term and the rest are feature weights?</p>

<p>EDIT:</p>

<p>Here's some example data.</p>

<pre><code>gold &lt;- structure(list(result = c(-1, -1, -1, -1, -1, -1, -1, -1, -1, 
-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 1, 1, 1, 1, 1, 
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), f1 = c(0, 0, 0, 0, 
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 
1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1), f2 = c(13.4138113499447, 
13.2216999857095, 12.964145772169, 13.1975227965938, 13.1031520152764, 
13.59351759447, 13.1031520152764, 13.2700658838026, 12.964145772169, 
13.1975227965938, 12.964145772169, 13.59351759447, 13.59351759447, 
13.0897162110721, 13.364151238365, 12.9483051847806, 12.964145772169, 
12.964145772169, 12.964145772169, 12.9483051847806, 13.0937231331592, 
13.5362700880482, 13.3654209223623, 13.4356400945176, 13.59351759447, 
13.2659406408724, 13.4228886221088, 13.5103065354936, 13.5642812689161, 
13.3224757352068, 13.1779418771704, 13.5601730479315, 13.5457299603578, 
13.3729010596517, 13.4823595997866, 13.0965264603473, 13.2710281801434, 
13.4489887206797, 13.5132372154748, 13.5196188787197), f3 = c(0, 
1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 
0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0)), .Names = c(""result"", 
""f1"", ""f2"", ""f3""), class = ""data.frame"", row.names = c(NA, 40L
))
</code></pre>
","169947","","169947","","2009-12-19 01:32:19","2009-12-21 23:46:52","Weights from linear SVM model (in R)?","<r><svm>","2","1","2","","","CC BY-SA 2.5","1899008","4452","4452","r","404559","3625322","3607736","",""
"1899243","1","1899627","","2009-12-14 06:27:47","","7","9467","<p>I have a stationary time series to which I want to fit a linear model with an autoregressive term to correct for serial correlation, i.e. using the formula At = c1*Bt + c2*Ct + ut, where ut = r*ut-1 + et</p>

<p>(ut is an AR(1) term to correct for serial correlation in the error terms)</p>

<p>Does anyone know what to use in R to model this?</p>

<p>Thanks
Karl</p>
","141789","","","","","2014-07-17 23:34:36","GLM with autoregressive term to correct for serial correlation","<r><model><statistics><correlation>","3","0","","","","CC BY-SA 2.5","1899243","4452","4452","r","404559","3625322","3607736","",""
"1905258","1","1907855","","2009-12-15 04:58:52","","9","2153","<p>I'm new to R and having a hard time piecing together information from various sources online related to what is considered a ""good"" practice with writing R code.  I've read basic guides but I've been having a hard time finding information that is definitely up to date.</p>

<ol>
<li>What are some examples of well written/documented S3 classes?</li>
<li>How about corresponding S4 classes?</li>
<li>What conventions do you use when commenting .R classes/functions?  Do you put all of your comments in both .Rd files and .R files?  Is synchronization of these files tiresome?</li>
</ol>
","15050","","2679518","","2014-05-01 02:42:03","2014-05-01 02:42:03","R code examples/best practices","<r><coding-style><comments><s4>","4","0","9","","","CC BY-SA 2.5","1905258","4452","4452","r","404559","3625322","3607736","",""
"1907129","1","1907188","","2009-12-15 12:33:15","","3","363","<p>I am following the hints to <a href=""https://stackoverflow.com/questions/1879843/distributing-r-package-containing-unit-tests"">this question</a>, but I'm impatient and I would like to run my tests more quickly, without having to wait for the 30+ checks that <code>R CMD check src</code> invokes  before <code>checking tests</code>.  </p>

<p>what I thought I could do was to add a <code>--standalone</code> option to the <code>doRUnit.R</code> suggested in <a href=""http://wiki.r-project.org/rwiki/doku.php?id=developers:runit"" rel=""nofollow noreferrer"">that R-wiki page</a> so that I could run the unit tests independently of <code>R CMD</code>.</p>

<p>I added these lines to the script:</p>

<pre><code>  opt &lt;- list(standalone=NULL)
  if(require(""getopt"", quietly=TRUE)) {
    ## path to unit tests may be given on command line, in which case
    ## we also want to move the cwd to this script
    opt &lt;- getopt(matrix(c('standalone', 's', 0, ""logical""),
                         ncol=4, byrow=TRUE))
    if(!is.null(opt$standalone)) {
      ## switch the cwd to the dir of this script
      args &lt;- commandArgs()
      script.name &lt;- substring(args[substring(args, 1, 7)==""--file=""], 8, 1000)
      if(!is.null(script.name))
        setwd(dirname(script.name))
    }
  }
</code></pre>

<p>with this change, the script finds the <code>test.*\.R</code> files, independently from the directory from which I invoke the script.</p>

<p>the remaining problem now is that the <code>doRUnit.R</code> script loads the <strong>installed</strong> library, it does not <code>source()</code> the files that compose the library.</p>

<p>assuming that I want to load each and every file in the <code>R</code> directory, how would I do that?</p>

<p>assuming you have a better testing schema (satisfying the requirements ""quick"", ""uninstalled""), what is it?</p>
","78912","","-1","","2017-05-23 11:48:36","2014-01-01 17:41:21","RUnit testing uninstalled package","<unit-testing><r>","2","0","1","","","CC BY-SA 3.0","1907129","4452","4452","r","404559","3625322","3607736","",""
"1908010","1","1908095","","2009-12-15 14:58:56","","42","9901","<p>In packages like marray and <a href=""http://bioinf.wehi.edu.au/limma/"" rel=""noreferrer"">limma</a>, when complex objects are loaded, they contain ""members variables"" that are accessed using the @ symbol. What does this mean and how does it differ from the $ symbol?</p>
","30911","","602276","","2011-08-25 13:16:10","2019-01-23 16:20:17","What does the @ symbol mean in R?","<r><s4>","3","0","11","","","CC BY-SA 2.5","1908010","4452","4452","r","404559","3625322","3607736","",""
"1909357","1","1909396","","2009-12-15 18:18:11","","2","410","<p>I'm working on a big Sweave document/script on a Mac OS X system, R version 2.9.2. Under some circumstances, it appears as if Sweave is redirecting stdout, so that <code>x &lt;- 1; print(x)</code> gives nothing at all. (The console is still running, as <code>plot(x)</code> pops up a plot as normal.) So, two questions:</p>

<ol>
<li>How do I force stdout to go back to the console, and,</li>
<li>Why does Sweave do this, and how?</li>
</ol>
","135944","","","","","2009-12-15 18:25:11","losing stdout in R console on Mac OS X","<r><interactive><sweave>","1","0","1","","","CC BY-SA 2.5","1909357","4452","4452","r","404559","3625322","3607736","",""
"1915001","1","1915361","","2009-12-16 14:32:10","","12","5838","<p>On a generic plot, with time on the x-axis, I would like to highlight a period of some specific years.</p>

<p>How can I bestly do this? My idea is for example a light yellow bar for the highlighted years, behind the plot of course.</p>

<p>The plot code I have now:</p>

<pre><code>pdf(""temperature_imfs_big_interm5.pdf"", width=6, height=8);
par(mfrow=c(temperature$bigEmdIm5$nimf+1,1), mar=c(2,1,2,1))
for(i in 1:temperature$bigEmdIm5$nimf) {
    plot(timeline$big, temperature$bigEmdIm5$imf[,i], type=""l"", xlab="""", ylab="""", ylim=range(temperature$bigEmdIm5$imf[,i]), axes=FALSE, main=paste(i, ""-th IMF"", sep=""""))#; abline(h=0)
  axis.POSIXct(side=1, at=tickpos$big)
}
plot(timeline$big, temperature$bigEmdIm5$residue, xlab="""", ylab="""", axes=FALSE, main=""residue"", type=""l"")
axis.POSIXct(side=1, at=tickpos$big)
dev.off();
</code></pre>

<p>Where temperature$bigEmdIm5 is the output of emperical mode decompostion. The data is in months, so I would like to higlight 01/1950 until 12/1950 for example.</p>
","85514","","1851712","","2018-03-25 12:34:20","2019-05-21 13:04:14","Highlight (shade) plot background in specific time range","<r><plot><highlight>","3","4","8","","","CC BY-SA 3.0","1915001","4452","4452","r","404559","3625322","3607736","",""
"1923273","1","1923297","","2009-12-17 17:21:36","","441","1340412","<p>I have a vector of numbers:</p>

<pre><code>numbers &lt;- c(4,23,4,23,5,43,54,56,657,67,67,435,
         453,435,324,34,456,56,567,65,34,435)
</code></pre>

<p>How can I have R count the number of times a value <em>x</em> appears in the vector?</p>
","233979","","936420","","2016-10-04 11:29:19","2020-11-13 14:28:18","Counting the number of elements with the values of x in a vector","<r><vector><count><r-faq>","19","0","153","","","CC BY-SA 3.0","1923273","4452","4452","r","404559","3625322","3607736","",""
"1928332","1","2071042","","2009-12-18 13:54:51","","79","22001","<p>I am looking for the standard (if any) logging package for R, and some sample usage?</p>

<p>I also don't see any among the packages listed: <a href=""http://cran.r-project.org/web/packages/"" rel=""noreferrer"">http://cran.r-project.org/web/packages/</a></p>
","78912","","324364","","2013-03-28 20:22:36","2019-08-14 15:01:06","Is there any standard logging package for R?","<logging><r>","7","0","20","2017-02-12 17:20:44","","CC BY-SA 3.0","1928332","4452","4452","r","404559","3625322","3607736","",""
"1931742","1","1931760","","2009-12-19 02:28:01","","1","342","<p>this seems to be an easy task really, but being completely new to the world of programming, I have problems with the following task:
I have a huge file which has the following format:</p>

<pre><code>track type= wiggle name09
variableStep chrom=chr1
34 5 
36 7 
54 8 
variableStep chrom=chr2 
33 4 
35 2 
78 7 
this is text with the word random in it# this we need to remove
82 4 
88 6 
variableStep chrom=chr3 
78 5 
89 4 
56 7
</code></pre>

<p>now what I would like as an out put is just</p>

<p>one file called 1 
and containing only</p>

<pre><code>34 5
36 7
54 8

a second file called 2

33 4
35 2
78 7
82 4 
88 6

a third file

78 5
89 4
56 7
</code></pre>

<p>It would be great to get some help on this...
If any knows how to do it in R... that would be even better</p>
","487499","","1315767","","2013-05-16 15:18:41","2013-05-16 15:18:41","Extracting subsets of data","<regex><perl><parsing><r>","2","4","1","","","CC BY-SA 3.0","1931742","4452","4452","r","404559","3625322","3607736","",""
"1934670","1","1934924","","2009-12-20 02:03:11","","2","974","<p>I have a data frame with two columns (data will not always be identical). </p>

<pre><code>1 1 
2 2 
3 3 
0 0 
-1 -1 
-2 -2 
-3 -3
</code></pre>

<p>What I would like to do is create another column for the top 10% of the column and the bottom 10% of the column to be used as labels for a scatter plot. </p>

<pre><code>1 1 
2 2 
3 3 1
0 0 
-1 -1  
-2 -2 
-3 -3 2
</code></pre>

<p>In addition, it needs to be able to select and label from either column the top/bottom 10% </p>

<p>Any ideas?</p>
","170352","","170352","","2009-12-20 18:25:27","2009-12-21 07:43:03","Conditional Column Creation","<r>","2","0","1","","","CC BY-SA 2.5","1934670","4452","4452","r","404559","3625322","3607736","",""
"1934751","1","1934882","","2009-12-20 03:30:43","","8","8939","<p>Here is a question for R-users. I am interested in drawing a histogram with points stacked up, instead of a bar. For example if the data is (1,1,2,1,2,3,3,3,4,4), then I would like to see three points stacked up at 1, 2 points stacked up at 2 and so on. What is the best way to do this in R?</p>
","235349","","75500","","2009-12-20 03:38:28","2013-04-25 13:48:52","Plot Histogram with Points Instead of Bars","<r><plot><histogram>","4","0","2","","","CC BY-SA 2.5","1934751","4452","4452","r","404559","3625322","3607736","",""
"1939098","1","1939706","","2009-12-21 09:27:53","","4","874","<p>Is it possible to reposition the labels such that in sector (-x,y) the label is on the left and sector (+x,y) the label is on the right?</p>
","170352","","","","","2009-12-21 11:55:09","Repositioning scatter plot labels in ggplot2","<r><ggplot2>","1","0","1","","","CC BY-SA 2.5","1939098","4452","4452","r","404559","3625322","3607736","",""
"1939492","1","1939524","","2009-12-21 11:09:07","","0","2021","<p>I am trying to output about 250 plots from an r-script and I'm receiving a ""too many open devices"" error. Is there some setting that I can adjust to avoid this problem?</p>

<p>Here is an example of how I am creating the plots: </p>

<pre><code>for(x in 250) { 

plots &lt;- ggplot(data=dat, aes(x,y,lab=labels))
jpeg(a_paste_function)
print(plots)

} 
</code></pre>

<p>One thing I notice is that when I <code>write.table</code>, the files are ready right away, whereas I always have to close R for the jpegs to be ""printed"". Perhaps that is the real problem, the method in which I'm dumping the plots?</p>
","170352","","496830","","2011-10-11 16:46:31","2011-10-11 16:46:31","Error in jpeg(a_paste_function) : too many open devices","<image><r>","1","0","1","","","CC BY-SA 3.0","1939492","4452","4452","r","404559","3625322","3607736","",""
"1944910","1","1946879","","2009-12-22 08:24:11","","113","20356","<p>Which conventions for naming variables and functions do you favor in R code?  </p>

<p>As far as I can tell, there are several different conventions, all of which coexist in cacophonous harmony:</p>

<p><strong>1. Use of period separator, e.g.</strong> </p>

<pre><code>  stock.prices &lt;- c(12.01, 10.12)
  col.names    &lt;- c('symbol','price')
</code></pre>

<p><em>Pros:</em>  Has historical precedence in the R community, prevalent throughout the R core, and recommended by <a href=""https://google.github.io/styleguide/Rguide.xml"" rel=""noreferrer"">Google's R Style Guide</a>.</p>

<p><em>Cons:</em>  Rife with object-oriented connotations, and confusing to R newbies</p>

<p><strong>2. Use of underscores</strong> </p>

<pre><code>  stock_prices &lt;- c(12.01, 10.12)
  col_names    &lt;- c('symbol','price')
</code></pre>

<p><em>Pros:</em>  A common convention in many programming langs; favored by <a href=""http://had.co.nz/stat405/resources/r-style-guide.html"" rel=""noreferrer"">Hadley Wickham's Style Guide</a>, and used in ggplot2 and plyr packages.  </p>

<p><em>Cons:</em>  Not historically used by R programmers;  is annoyingly mapped to '&lt;-' operator in Emacs-Speaks-Statistics (alterable with 'ess-toggle-underscore').</p>

<p><strong>3. Use of mixed capitalization (camelCase)</strong></p>

<pre><code>  stockPrices &lt;- c(12.01, 10.12)
  colNames    &lt;- c('symbol','price')
</code></pre>

<p><em>Pros:</em> Appears to have wide adoption in several language communities.</p>

<p><em>Cons:</em> Has recent precedent, but not historically used (in either R base or its documentation).</p>

<p>Finally, as if it weren't confusing enough, I ought to point out that the Google Style Guide argues for dot notation for variables, but mixed capitalization for functions.</p>

<p>The lack of consistent style across R packages is problematic on several levels.  From a developer standpoint, it makes maintaining and extending other's code difficult (esp. where its style is inconsistent with your own). From a R user standpoint, the inconsistent syntax steepens R's learning curve, by multiplying the ways a concept might be expressed (e.g. is that date casting function asDate(), as.date(), or as_date()?  No, it's as.Date()).</p>
","2002705","","100297","","2017-02-27 09:52:47","2017-02-27 09:57:58","What is your preferred style for naming variables in R?","<r><coding-style><naming-conventions>","9","7","53","2016-07-20 00:19:44","","CC BY-SA 3.0","1944910","4452","4452","r","404559","3625322","3607736","",""
"1945038","1","1945342","","2009-12-22 08:54:20","","1","464","<p>For a sequence of numbers x, how do I best create a function <code>S(x, r, s)</code> that computes <code>sum(x[t]*x[t+r-s]</code>, where <code>t</code> ranges from <code>s</code> to <code>length(x)-r+1</code> and <code>r,s &gt; 0</code>.</p>
","182378","","324364","","2012-09-15 02:14:56","2012-09-15 02:14:56","How do I best create a function to perform the following sums","<r>","1","2","","2012-09-15 13:08:05","","CC BY-SA 3.0","1945038","4452","4452","r","404559","3625322","3607736","",""
"1950608","1","1951473","","2009-12-23 03:50:58","","1","239","<p>I have a time series of data in TSV like so:</p>

<pre><code>ID \t Date \t Value
-------------------------------
1234567 \t 2009-01-01T00:00:00.000Z \t 121
12131 \t 2009-06-01T00:00:00.000Z \t 151
12131 \t 2009-07-01T00:00:00.000Z \t 15153
...
</code></pre>

<p>It easily fits in RAM, but is too big for Excel.</p>

<p>There is one value per month per ID, but not all IDs have entries for all 12 months.</p>

<p>The data spans 12 months, but not all IDs have all 12 months.  I want to go through the data for each ID, and if there is an entry for the previous month, take the current month minus the previous month and store it in a new column to get a delta.  If there is no entry for the previous month, then return 0.  Then, for each month, I want the top 100 positive and negative of those deltas, along with the ID.</p>

<p>I'd like to do this in R, because it's hard in Excel and it keeps crashing.  I have R, Rattle, etc. installed and I've worked through basic examples, but ... the learning curve is steep.  I would really appreciate some help :)</p>
","13969","","4370109","","2015-12-02 15:21:33","2015-12-02 15:21:33","Given a time series for many unique IDs, I need the top 100 deltas for each period","<r><analytics>","3","0","1","","","CC BY-SA 3.0","1950608","4452","4452","r","404559","3625322","3607736","",""
"1951070","1","1965773","","2009-12-23 06:47:37","","2","805","<p>On one of my PCs, when I build any R package I get the following fatal error</p>

<pre><code>* checking for file 'forecast/DESCRIPTION' ... OK
* preparing 'forecast':
* checking DESCRIPTION meta-information ... OK
* cleaning src
* removing junk files
* checking for LF line-endings in source and make files
* checking for empty or unneeded directories
* building binary distribution
WARNING: some HTML links may not be found
Error in setwd(owd) : cannot change working directory
 ERROR
* installation failed
</code></pre>

<p>But the same packages compile fine on my other PC. I'm at a loss as to what's causing this. Has anyone else seen something similar?</p>

<p>Using Windows XP, R2.10.1, Rtools 2.10.</p>
","144157","","","","","2010-08-09 16:41:14","Strange error when building R packages for Windows","<windows><r>","1","5","","","","CC BY-SA 2.5","1951070","4452","4452","r","404559","3625322","3607736","",""
"1953256","1","","","2009-12-23 14:56:47","","0","347","<p>Question:  how can you create a pdf where the output is vertically
justified, with for example, a one inch margin on top using <code>pdf()</code>.</p>

<p>For example in</p>

<pre><code>pdf(file='test.pdf', paper='letter', pagecentre=F)
### code for plot here ###
dev.off()
</code></pre>

<p>is there an option where it generate output that starts from the top of the
page rather than printing from the bottom of the page (which is what happens when <code>pagecentre=F</code>).  Or will this require
some adjustment of settings in <code>par()</code>?</p>
","142477","","","","","2009-12-23 15:34:11","creating a pdf in R that is vertically justified","<pdf><r>","1","0","0","","","CC BY-SA 2.5","1953256","4452","4452","r","404559","3625322","3607736","",""
"1955330","1","1955386","","2009-12-23 21:10:48","","2","205","<p>I'm now reading some books of <strong><a href=""http://www.r-project.org/"" rel=""nofollow noreferrer"">R</a></strong>, but I want to know if I can use this language as I use Perl or Ruby. Things like:</p>

<ul>
<li>Image Processing</li>
<li>File Compression</li>
<li>Use APIs</li>
<li>Interact With Internet</li>
</ul>

<p>But it's usual and simple(as in Perl or Ruby) to do things like this?</p>

<p>PS: I liked this language very much, because of this I want to use it on my personal projects and spread it for my friends and at the internet.</p>
","126353","","","","","2015-01-03 21:44:36","R and Daily Projects","<r><project>","1","0","0","","","CC BY-SA 2.5","1955330","4452","4452","r","404559","3625322","3607736","",""
"1956337","1","1959217","","2009-12-24 02:07:30","","0","294","<p>I have a data.frame, like this:</p>

<pre><code>nums&lt;-c(5,7,8,9,10,3,2,1)
text&lt;-c(""a"",""b"",""c"",""d"",""a 09"",""b 09"",""c 09"",""d 09"")
this &lt;- data.frame()
this &lt;- cbind(text,nums)

""a""   5 
""b""   7
""c""   8
""d""   9
""a 09"" 10
""b 09"" 3
""c 09"" 2
""d 09"" 1
</code></pre>

<p>a:d = data from 2010, a 09:d:09 = data from 2009. 
I'd like it to be sorted first by the numeric column from greatest to least and then by the string column. The only catch is that the string column has to show the 09' data underneath the 2010 data, like this: </p>

<pre><code>""d""   9
""d 09"" 1
""c""   8
""c 09"" 2
""b""   7
""b 09"" 3
""a""   5 
""a 09"" 10
</code></pre>
","170352","","496830","","2011-10-11 16:41:36","2011-10-11 16:41:36","Inner sort with R - Once by numeric then by alpha","<r>","2","1","","","","CC BY-SA 3.0","1956337","4452","4452","r","404559","3625322","3607736","",""
"1960119","1","1960131","","2009-12-25 00:01:58","","7","9779","<p>I want to import an XML file from polarpersonaltrainer.com that stores heartrate data into a R data.frame.
Is there a package that makes importing XML easy or do I have to write my own parser?</p>
","25282","","69755","","2009-12-26 17:41:16","2009-12-26 17:41:16","Importing data from an XML file into R","<xml><r><data-import>","2","0","1","","","CC BY-SA 2.5","1960119","4452","4452","r","404559","3625322","3607736","",""
"1961109","1","1961272","","2009-12-25 12:36:16","","1","834","<p>I'm learning <strong><a href=""http://r-project.org"" rel=""nofollow noreferrer"">R</a></strong> and like the language very much because of its flexibility, but I want to know:</p>

<ul>
<li>Are there any ports of <strong><a href=""http://r-project.org"" rel=""nofollow noreferrer"">R</a></strong> for mobile devices?</li>
<li>Where can I get them?</li>
</ul>
","126353","","16632","","2009-12-25 16:33:10","2009-12-25 16:33:10","R Ports For Mobile Devices","<r><mobile><port>","1","3","1","","","CC BY-SA 2.5","1961109","4452","4452","r","404559","3625322","3607736","",""
"1961948","1","1961956","","2009-12-25 21:02:16","","0","1065","<p>Is there a faster way in R to turn a list of characters like <code>c(""12313"",""21323"")</code> into an integer list like <code>c(12313, 21323)</code> other than writing a for loop myself?</p>
","25282","","","user4275591","2014-12-08 09:14:33","2014-12-08 09:14:33","Turning a list of characters that contain numbers into integers in R","<r>","1","0","1","","","CC BY-SA 3.0","1961948","4452","4452","r","404559","3625322","3607736","",""
"1962278","1","1962336","","2009-12-25 23:58:45","","52","102507","<p>I have multiple lists of measurements. In each list have the timestramp formated as a string (""2009-12-24 21:00:07.0"") and I know that each measurement in the list is separated by 5 seconds.
I want to combine all data into a huge data.frame in R. Afterwards I want to be able to easily access the time difference of two measurements so I probably should convert data into something different than characters.</p>

<p>Which format should I use to store the times? Is there some time format in some package that I should use?</p>
","25282","","25282","","2009-12-26 02:07:55","2009-12-26 02:07:55","Dealing with timestamps in R","<r><time><timestamp>","1","0","23","","","CC BY-SA 2.5","1962278","4452","4452","r","404559","3625322","3607736","",""
"1962954","1","1964038","","2009-12-26 08:54:20","","7","6207","<p>I have come across a number of situations where I want to plot more points than I really ought to be -- the main holdup is that when I share my plots with people or embed them in papers, they occupy too much space.  It's very straightforward to randomly sample rows in a dataframe.</p>

<p>if I want a truly random sample for a point plot, it's easy to say:</p>

<pre><code>ggplot(x,y,data=myDf[sample(1:nrow(myDf),1000),])
</code></pre>

<p>However, I was wondering if there were more effective (ideally canned) ways to specify the number of plot points such that your actual data is accurately reflected in the plot.  So here is an example. 
Suppose I am plotting something like the CCDF of a heavy tailed distribution, e.g.</p>

<pre><code>ccdf &lt;- function(myList,density=FALSE)
{
  # generates the CCDF of a list or vector
  freqs = table(myList)
  X = rev(as.numeric(names(freqs)))
  Y =cumsum(rev(as.list(freqs)));
  data.frame(x=X,count=Y)
}
qplot(x,count,data=ccdf(rlnorm(10000,3,2.4)),log='xy')
</code></pre>

<p>This will produce a plot where the x &amp; y axis become increasingly dense. Here it would be ideal to have fewer samples plotted for large x or y values.</p>

<p>Does anybody have any tips or suggestions for dealing with similar issues?</p>

<p>Thanks,
-e</p>
","162436","","162436","","2009-12-26 17:39:16","2014-11-03 16:58:13","maximum plot points in R?","<r><plot>","4","2","0","","","CC BY-SA 2.5","1962954","4452","4452","r","404559","3625322","3607736","",""
"1963492","1","42729195","","2009-12-26 14:21:11","","40","61481","<p>Is there a command to easily add a grid onto an R plot?</p>
","25282","","","","","2018-06-07 21:38:43","Grid in an R plot","<r><plot>","4","2","10","","","CC BY-SA 2.5","1963492","4452","4452","r","404559","3625322","3607736","",""
"1971323","1","2001823","","2009-12-28 20:13:58","","27","7064","<p>I'm wondering if there's any documentation about the efficiency of operations in <code>R</code>, specifically those related to data manipulation. </p>

<p>For example:</p>

<ul>
<li>I imagine it's efficient to add columns to a data frame, because I'm guessing you're just adding an element to a linked list. </li>
<li>I imagine adding rows is slower because vectors are held in arrays at the <code>C level</code> and you have to allocate a new array of length <code>n+1</code> and copy all the elements over.</li>
</ul>

<p>The developers probably don't want to tie themselves to a particular implementation, but it would be nice to have something more solid than guesses to go on.</p>

<p>Also, I know the main <code>R</code> performance hint is to use vectored operations whenever possible as opposed to <code>loops</code>. </p>

<ul>
<li>what about the various flavors of <code>apply</code>? </li>
<li>are those just <code>hidden loops</code>? </li>
<li>what about <code>matrices</code> vs. <code>data frames</code>?</li>
</ul>
","199166","","3392044","","2016-03-03 12:59:29","2016-03-03 12:59:29","Efficiency of operations on R data structures","<r><performance>","3","1","29","","","CC BY-SA 3.0","1971323","4452","4452","r","404559","3625322","3607736","",""
"1971461","1","1971499","","2009-12-28 20:43:53","","4","4480","<p>I am a new R user.  I have a time series cross sectional dataset and, although I have found ways to lag time series data in R, I have not found a way to create lagged time-series cross sectional variables so that I can use them in my analysis. </p>
","239788","","2246344","","2014-08-15 07:10:04","2014-08-15 07:10:04","Generating a lagged time series cross sectional variable in R","<r><time-series><panel-data><plm>","2","0","3","","","CC BY-SA 3.0","1971461","4452","4452","r","404559","3625322","3607736","",""
"1973360","1","1974151","","2009-12-29 07:21:28","","0","757","<p>I am new to R language. I have successfully loaded a query's resultset into a variable. Now I want to access the resultset data by column name and row number. And I need to verify if it is Null (it is shown as &lt; NA > in result) then send a mail by bat file with PHP. My sample code is below.</p>

<pre><code>library(RODBC)
newconn = odbcConnect(""db"", uid=""uid"", pwd=""pwd"") 
new &lt;- sqlQuery(newconn,""SELECT COL1, COL2 FROM TABLE1;"", errors = TRUE, 1)
if(new$COL1[3] == ""&lt;NA&gt;""){
system(""sendmail.bat"")
}else{
print (""failed"")
}
</code></pre>

<p>Also I would like to compare a string result like below.</p>

<pre><code>if(new$COL2[10] == 'MYSTRING'){
print(""success"")
}
</code></pre>

<p>But I think I am using wrong syntax. Please help as I am not able to get the correct syntax for doing these comparisons. </p>
","79358","","4370109","","2017-01-20 23:42:51","2017-01-20 23:42:51","R accessing DB query results by column and row number","<r><syntax><comparison>","1","0","","","","CC BY-SA 3.0","1973360","4452","4452","r","404559","3625322","3607736","",""
"1974930","1","2800116","","2009-12-29 14:37:44","","4","1655","<p>I was wondering if there is any way to get the foreach package in R to use a pre-allocated structure to put results. basically it involves lots of small linalg operations on very big data sets.</p>

<p>My non-foreach original code is something like</p>

<pre><code>results &lt;- rep(NA,m*l*[big.number])
dim(results) &lt;- c(m,l,[big.number])
for (i in 1:m){
    for (j in 1:l){
        results[i,j,] &lt;- function(j,i,data)
    }
}
</code></pre>

<p>I'd like to use foreach and doMC to parallelize this but test runs are really really slow and I think it's the continual data moving that rbind and c do.</p>
","160794","","168747","","2010-05-10 07:54:22","2010-05-10 07:54:22","Memory Usage in Foreach Function","<r><foreach><parallel-processing>","3","1","1","","","CC BY-SA 2.5","1974930","4452","4452","r","404559","3625322","3607736","",""
"1974998","1","1975077","","2009-12-29 14:47:19","","0","1039","<p>I have a function that at the moment programmed in a functional model and either want to speed it up and maybe solve the problem more in the spirit of R.
I have a data.frame and want to add a column based on information that's where every entry depends on two rows.
At the moment it looks like the following:</p>

<pre><code>faultFinging &lt;- function(heartData){
    if(heartData$Pulse[[1]] == 0){
        Group &lt;- 0
    }
    else{
        Group &lt;- 1
    }
    for(i in seq(2, length(heartData$Pulse), 1)){
        if(heartData$Pulse[[i-1]] != 0 
            &amp;&amp; heartData$Pulse[[i]] != 0
            &amp;&amp; abs(heartData$Pulse[[i-1]] - heartData$Pulse[[i]])&lt;20){
            Group[[i]] &lt;- 1
        }
        else{
            if(heartData$Pulse[[i-1]] == 0 &amp;&amp; heartData$Pulse[[i]] != 0){
                Group[[i]] &lt;- 1
            }
            else{
                Group[[i]] &lt;- 0
            }
        }
    }
    Pulse&lt;-heartData$Pulse
    Time&lt;-heartData$Time
    return(data.frame(Time,Pulse,Group))
}
</code></pre>
","25282","","","","","2010-01-07 12:46:01","Optimising R function that adds a new column to a data.frame","<r><dataframe>","2","0","","","","CC BY-SA 2.5","1974998","4452","4452","r","404559","3625322","3607736","",""
"1975110","1","24884348","","2009-12-29 15:07:14","","25","11667","<p>I'm writing some R code that calls other code that may fail. If it does, I want to print a stack trace (to track down what went wrong), then carry on regardless. However, the traceback() function only provides information about uncaught exceptions. I can get the result I want via a rather complex, natty construction involving tryCatch and dump.frames, but is there not an easier way of doing this?</p>
","125663","","","","","2019-02-27 13:05:10","Printing stack trace and continuing after error occurs in R","<debugging><r>","8","0","11","","","CC BY-SA 2.5","1975110","4452","4452","r","404559","3625322","3607736","",""
"1976728","1","1983446","","2009-12-29 20:19:03","","1","300","<p>I will make a analysis about some information of my company.</p>

<p>I thought making a <strong>ca</strong> to representate the association between two variables. I have 3 variables: Category, Tag, Valoration. My idea is to make 2 analysis, one to view the association between Category - Valorarion and a second analysis between Tag - Valoration.</p>

<p>But I think that this representation is possible with a mca.</p>

<p>What do you recomment me?</p>

<p>Thank You</p>
","240395","","","","","2010-01-07 10:48:56","mca or various ca (multivariate analysis)","<r><statistics><ca>","3","2","","","","CC BY-SA 2.5","1976728","4452","4452","r","404559","3625322","3607736","",""
"1978006","1","1978172","","2009-12-30 01:52:58","","0","734","<p>I have a dataset that looks like this: </p>

<pre><code>a &lt;- data.frame(rep(1,5),1:5,1:5)
b &lt;- data.frame(rep(2,5),1:5,1:5)
colnames(a) &lt;- c(1,2,3)
colnames(b) &lt;- c(1,2,3)
c &lt;- rbind(a,b)

   1 2 3
1  1 1 1
2  1 2 2
3  1 3 3
4  1 4 4
5  1 5 5
6  2 1 1
7  2 2 2
8  2 3 3
9  2 4 4
10 2 5 5
</code></pre>

<p>but I want it to be restructured to this: </p>

<pre><code>    2_1 2_2 3_1 3_2
   1  1   1   1   1
   2  2   2   2   2 
   3  3   3   3   4
   4  4   4   4   4 
   5  5   5   5   5
</code></pre>
","170352","","","","","2009-12-30 14:45:53","Data manipulation with R: Restructuring Data","<r>","1","0","","","","CC BY-SA 2.5","1978006","4452","4452","r","404559","3625322","3607736","",""
"1982667","1","1983171","","2009-12-30 21:44:11","","4","2076","<p>I am trying to manually calculate the standard error of the constant in an ARIMA model, if it is included. I have referred to Box and Jenkins (1994) text, specially Section 7.2, but my understanding is that the methods mentioned here calculates the variance-covariance matrix for the ARIMA parameters only, not the constant. Tried searching on the Internet, but couldn't find any theory. Software like Minitab, R etc. calculate this, so I was wondering what is the way? Can someone provide any pointer(s) on this topic?
Thanks. </p>
","194742","","334612","","2012-02-20 19:58:06","2012-02-20 19:58:06","Standard error of the ARIMA constant","<r><time-series><forecasting>","3","0","","","","CC BY-SA 2.5","1982667","4452","4452","r","404559","3625322","3607736","",""