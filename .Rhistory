setwd("~/GitHub/R-Community-Analysis")
library(rvest)
library(rvest)
wbpg <- read_html("https://www.jumpingrivers.com/training/public/")
eve <- wbpg %>%
html_nodes(".course-search-results-by-date-month-year , .course-search-results-item-by-date__date") %>%
html_text()
eve
date_event <- wbpg %>%
html_nodes(".course-search-results-by-date-month-year , .course-search-results-item-by-date__date") %>%
html_text()
date_event
title_event <- wbpg %>%
html_nodes("strong") %>%
html_text()
title_event
class(title_event)
link_event <- wbpg %>%
html_nodes(".button--mid-blue") %>%
html_attr('href')
title_event
link_event
linkh
link_event[3]
sample_link <- read_html("https://www.jumpingrivers.com/training/course/introduction-r-tidyverse/?event=1269")
desc <- sample_link %>%
html_nodes("single-course__description") %>%
html_text()
desc
sample_link <- read_html("https://www.jumpingrivers.com/training/course/introduction-r-tidyverse/?event=1269")
desc <- sample_link %>%
html_nodes(".single-course__description") %>%
html_text()
desc
sample_link <- read_html("https://www.jumpingrivers.com/training/course/advanced-graphics-ggplot2-r/?event=1266")
desc <- sample_link %>%
html_nodes(".single-course__description") %>%
html_text()
desc
wbpg <- read_html("https://www.jumpingrivers.com/training/public/")
title_event <- wbpg %>%
html_nodes("strong") %>%
html_text()
title_event
link_event <- wbpg %>%
html_nodes(".button--mid-blue") %>%
html_attr('href')
link_event
date_event <- c()
description_event <- c()
for(i in 1:length(link_event)){
link_wbpg <- read_html(link_event[i])
date_event[i] <- link_wbpg %>%
html_nodes(".single-course-variation__meta-item:nth-child(3) .single-course-variation__meta-item-value") %>%
html_text()
description_event[i] <- link_wbpg %>%
html_nodes(".single-course__description") %>%
html_text()
}
date_event
description_event
gsub(".*,","",date_event)
gsub(".*, ","",date_event)
as.Date(gsub(".*, ","",date_event), format = "%Y")
year(as.Date(gsub(".*, ","",date_event), format = "%Y"))
?year()
library(lubridate)
year(as.Date(gsub(".*, ","",date_event), format = "%Y"))
df_event <- data.frame(Event = title_event, Date = date_event,
Description = description_event, URL = link_event,
Year = year(as.Date(gsub(".*, ","",date_event), format = "%Y")))
View(df_event)
R_trainingC_jumping_Rivers <- function(year){
wbpg <- read_html("https://www.jumpingrivers.com/training/public/")
title_event <- wbpg %>%
html_nodes("strong") %>%
html_text()
link_event <- wbpg %>%
html_nodes(".button--mid-blue") %>%
html_attr('href')
date_event <- c()
description_event <- c()
for(i in 1:length(link_event)){
link_wbpg <- read_html(link_event[i])
date_event[i] <- link_wbpg %>%
html_nodes(".single-course-variation__meta-item:nth-child(3) .single-course-variation__meta-item-value") %>%
html_text()
description_event[i] <- link_wbpg %>%
html_nodes(".single-course__description") %>%
html_text()
}
df_event <- data.frame(Event = title_event, Date = date_event,
Description = description_event, URL = link_event,
Year = year(as.Date(gsub(".*, ","",date_event), format = "%Y")))
event_table <- df_event[df_event$Year==year,]
return(event_table)
}
R_trainingC_jumping_Rivers(2020)
test1 <- R_trainingC_jumping_Rivers(2020)
View(test1)
View(test1)
R_trainingC_jumping_Rivers <- function(year){
wbpg <- read_html("https://www.jumpingrivers.com/training/public/")
title_event <- wbpg %>%
html_nodes("strong") %>%
html_text()
link_event <- wbpg %>%
html_nodes(".button--mid-blue") %>%
html_attr('href')
date_event <- c()
description_event <- c()
for(i in 1:length(link_event)){
link_wbpg <- read_html(link_event[i])
date_event[i] <- link_wbpg %>%
html_nodes(".single-course-variation__meta-item:nth-child(3) .single-course-variation__meta-item-value") %>%
html_text()
description_event[i] <- link_wbpg %>%
html_nodes(".single-course__description") %>%
html_text()
}
df_event <- data.frame(Event = title_event, Date = date_event,
Description = description_event, URL = link_event,
Year = year(as.Date(gsub(".*, ","",date_event), format = "%Y")))
event_table <- df_event[df_event$Year==year,]
return(event_table)
}
test2 <- R_trainingC_jumping_Rivers(2020)
View(test2)
